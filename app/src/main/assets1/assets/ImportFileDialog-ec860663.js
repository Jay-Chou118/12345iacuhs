import{B as A}from"./Button-4645ffc4.js";import{M as H}from"./Message-4365f2e0.js";import{C as K}from"./Cascader-a715b460.js";import{_ as I,r as b,o as l,c as n,d as s,w as g,g as O,h as u,i as k,a as h,x as V,p as M,b as L,B as Q,S as C,T as W,e as w,k as F,l as R,t as _,f as y,F as D,m as T,n as X,A as $,v as N,C as Z}from"./index-dbc434b4.js";import{S as ee}from"./Spin-3f710909.js";import{A as te}from"./ev-timeplot-d4c6b52a.js";import{C as se}from"./CopyPath-c81aa8e1.js";const ae={components:{Button:A},props:["cardName"],data(){return{renameStr:this.$props.cardName}},methods:{}},ie=e=>(M("data-v-16200198"),e=e(),L(),e),oe={class:"tool-picker-contianer-wrap"},le=ie(()=>s("div",{class:"tool-picker-arrow"},null,-1)),de={class:"tool-picker-footer-wrap"},ne={class:"o-dialog-footer"};function re(e,t,i,r,a,d){const f=b("Button");return l(),n("div",{class:"tool-picker-wrap",onClick:t[3]||(t[3]=V(m=>e.$emit("reNameModule"),["stop"]))},[s("div",oe,[g(s("input",{class:"o-table-remark chs-input-er",maxlength:"22",placeholder:"通道重命名","onUpdate:modelValue":t[0]||(t[0]=m=>a.renameStr=m)},null,512),[[O,a.renameStr]])]),le,s("div",de,[s("div",ne,[u(f,{style:{width:"30px"},onClick:t[1]||(t[1]=V(m=>e.$emit("renameCancel"),["stop"]))},{default:k(()=>[h("取消")]),_:1}),u(f,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[2]||(t[2]=V(m=>e.$emit("ok",a.renameStr),["stop"]))},{default:k(()=>[h("确定")]),_:1})])])])}const ce=I(ae,[["render",re],["__scopeId","data-v-16200198"]]);const he={components:{Button:A},props:["cardIndex","cardName","cardId"],data(){return{titleName:this.$props.cardName,titleId:this.$props.cardId}},methods:{},mounted(){}},E=e=>(M("data-v-dda52175"),e=e(),L(),e),pe=E(()=>s("div",{class:"tool-picker-contianer-wrap"},[s("i",{class:"i-warning"}),s("span",null,"确认要删除模板吗")],-1)),me=E(()=>s("div",{class:"tool-picker-arrow"},null,-1)),ue={class:"tool-picker-footer-wrap"},be={class:"o-dialog-footer"};function fe(e,t,i,r,a,d){const f=b("Button");return l(),n("div",{class:"tool-picker-wrap",style:Q("--cardIndex:"+e.$props.cardIndex)},[pe,me,s("div",ue,[s("div",be,[u(f,{style:{width:"30px"},onClick:t[0]||(t[0]=V(m=>e.$emit("delCancel"),["stop"]))},{default:k(()=>[h("取消")]),_:1}),u(f,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[1]||(t[1]=V(m=>e.$emit("ok",a.titleId),["stop"]))},{default:k(()=>[h("确定")]),_:1})])])],4)}const _e=I(he,[["render",fe],["__scopeId","data-v-dda52175"]]);const ye={emits:["cancel"],components:{Button:A},data(){return{addNameStr:""}},methods:{}},ge=e=>(M("data-v-997e1218"),e=e(),L(),e),ve={class:"tool-picker-wrap"},Ce={class:"tool-picker-contianer-wrap"},ke=ge(()=>s("div",{class:"tool-picker-arrow"},null,-1)),we={class:"tool-picker-footer-wrap"},De={class:"o-dialog-footer"};function Ve(e,t,i,r,a,d){const f=b("Button");return l(),n("div",ve,[s("div",Ce,[g(s("input",{class:"o-table-remark chs-input-er",placeholder:"添加通道","onUpdate:modelValue":t[0]||(t[0]=m=>a.addNameStr=m)},null,512),[[O,a.addNameStr]])]),ke,s("div",we,[s("div",De,[u(f,{style:{width:"30px"},onClick:t[1]||(t[1]=m=>e.$emit("cancel"))},{default:k(()=>[h("取消")]),_:1}),u(f,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[2]||(t[2]=m=>e.$emit("ok",a.addNameStr))},{default:k(()=>[h("确定")]),_:1})])])])}const Te=I(ye,[["render",Ve],["__scopeId","data-v-997e1218"]]);let U=0,P=0;const Ae={props:["title","curViewInx","carType","sdb","from","hisDirectory"],emits:["cancel","importFileSubmit","treeDataChange","updateDefaultOptions"],components:{Button:A,Cascader:K,RenameTool:ce,TipModal:_e,AddModal:Te,AddOrSelector:te,Spin:ee,Message:H,CopyPath:se},data(){let e=this.$ls.get("blfread_sdbData")||[];return e.length==0&&(e=[{id:-1,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"默认视图",comments:["","","","","","","","","","","","","","","",""]},{id:-3,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"mdf",comments:["","","","","","","","","","","","","","","",""]}]),{sdbCustom:e,canInfoOptions:Array.from({length:16},(t,i)=>({channel:"CAN"+i,dbcFile:"",remark:""})),adapted:!1,adaptedMode:"",quickAdapted:!1,isBigFile:!1,dbcVal:[C.DEFAULT[0].value,C.DEFAULT[0].children[0].value],sdbVal:{label:e[0].sdb,value:0},showRenameModal:!1,showAddModal:!1,showDeleteModal:!1,directory:"",treeData:this.$props.from==="tinyBattery"?W:this.$ls.get("blfread_treeData")||[],curId:-1,adaptionList:[],adaptionOpt:[],dataLoading:!1,adaCheckFlag:!0,message:{visible:!1,level:"",content:""},adaCheckList:{noAdapted:{label:"无自适应",value:"noAdapted"},adapted:{label:"自适应",value:"adapted"},quickAdapted:{label:"快速自适应",value:"quickAdapted"}},adaptedType:"noAdapted",selectList:[],_getDbcBlock:!1,changeDbcLoading:!1}},watch:{sdbCustom:{deep:!0,immediate:!0,handler(e){if(this.$props.from!=="tinyBattery"){JSON.stringify(this.$ls.get("blfread_sdbData"))!==JSON.stringify(e)&&this.$ls.set("blfread_sdbData",e);let t=this.$ls.get("blfread_treeData")||[];t=t.filter(i=>!(i.carType==="custom"&&!e.some(r=>r.sdb===i.sdb))),e.forEach(i=>{t.some(r=>r.carType===i.carType&&r.sdb===i.sdb)||t.push({id:+Math.random().toString().replace(".",""),text:"默认视图",type:"view",editable:!1,carType:i.carType,sdb:i.sdb,chooseSignalAble:!1,deleteConfirm:!1,children:[]})}),this.$ls.set("blfread_treeData",t),this.treeData=t,this.$emit("treeDataChange")}}},curViewInx:{handler(e,t){this.$nextTick(()=>{this.treeData[e]&&(this.curId=this.treeData[e].id)})},deep:!0},dbcVal(e){clearTimeout(P),e&&(this.adaptedType="noAdapted",this.$props.from!=="tinyBattery"?e[0]==="自定义模板"?(this.adaCheckFlag=!1,window._blfcpp="python"):(this.adaCheckFlag=!0,window._blfcpp="cpp",(this.fileType==="blf"||this.fileType==="asc"||this.fileType==="log")&&(this._getDbcBlock||(this._getDbcBlock=!0,this.changeDbcLoading=!0,P=setTimeout(()=>{this.changeDbcLoading=!1},1e3),w[this.$props.from==="frameAnalysis"?"blfTraceFromLogging":this.$props.from==="eteReader"?"ete":"blf"].getDBC({carType:e[0],sdb:e[1]}).then(t=>{this.$emit("updateDefaultOptions",t.data)}).finally(()=>{this._getDbcBlock=!1})))):this.from=="eteReader"&&(this.adaCheckFlag=!0)),this.updateOrAddView(),this.dataLoading=!1},fileType(e){(e==="blf"||e==="asc"||e==="log")&&(this._getDbcBlock||(this._getDbcBlock=!0,w[this.$props.from==="frameAnalysis"?"blfTraceFromLogging":this.$props.from==="eteReader"?"ete":"blf"].getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then(t=>{this.$emit("updateDefaultOptions",t.data)}).finally(()=>{this._getDbcBlock=!1})))},adaptedType(e){e==="adapted"?(this.adaptedMode="common",this.getSelfAdaption()):e==="quickAdapted"?(this.adaptedMode="quick",this.getSelfAdaption()):this.adaptedMode=""}},mounted(){if(this.sdbCustom.some(e=>e.carType==="custom"&&e.sdb==="mdf")||this.sdbCustom.push({id:-3,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"mdf",comments:["","","","","","","","","","","","","","","",""]}),this.$props.from==="tinyBattery"?(this.curId=-2,this.curIndex=-2,this.adaCheckFlag=!1):(this.curIndex=this.$props.curViewInx||0,this.curId=this.treeData[this.curIndex].id,this.treeData=this.$ls.get("blfread_treeData")||[]),this.$props.carType==="custom"){this.dbcVal=["自定义模板"];let e=this.customOpts.find(t=>t.label===this.$props.sdb);this.$props.sdb==="mdf"&&(e={label:"mdf",value:"-3"}),this.sdbVal={label:e.label,value:e.value}}else this.dbcVal=[this.$props.carType,this.$props.sdb];this.hisDirectory==""?this.choosePath():this.directory=this.hisDirectory},computed:{fileType(){return/\.dat$|\.mf4$|\.mdf$/i.test(this.directory)?"mdf":/\.asc$/i.test(this.directory)?"asc":/\.log$/i.test(this.directory)?"log":"blf"},dbcValUser(){return[this.dbcVal[0]==="自定义模板"?"custom":this.dbcVal[0],this.dbcVal[1]||this.sdbVal.label]},formValid(){if(this.$props.from==="tinyBattery")return this.directory;if(this.dbcVal[0]=="自定义模板")return this.directory;if(this.from=="eteReader")return this.directory&&this.dbcValUser[0]!==""&&this.dbcValUser[1]!=="";if(this.from=="frameAnalysis")return this.directory&&this.dbcValUser[0]!==""&&this.dbcValUser[1]!=="";{let e=this.treeData.find(t=>this.curId===t.id);return this.directory&&e&&e.carType===this.dbcValUser[0]&&e.sdb===this.dbcValUser[1]}},directoryLabel(){let e=""+this.directory;return e.length>70&&(e=e.slice(0,50)+"..."+e.slice(-10)),e},cardView(){let e=this.treeData.filter(t=>t.carType===this.dbcValUser[0]&&t.sdb===this.dbcValUser[1]).map(t=>({id:t.id,title:t.text,content:t.children.map(i=>i.text).join(", ")}));return!e.some(t=>t.id===this.curId)&&e.length>0&&setTimeout(()=>{this.curId=e[0].id},100),e},dbcVerOpts(){return this.$props.from==="eteReader"?[...C.DEFAULT]:[...C.DEFAULT,{label:"自定义模板",value:"自定义模板"}]},customOpts(){let e=this.sdbCustom.map((t,i)=>({label:t.sdb,value:i,files:t.files,comments:t.comments}));return this.fileType!=="mdf"&&(e=e.filter(t=>t.label!=="mdf")),e}},methods:{updateOrAddView(){if(this.dbcVal[0]==="自定义模板"&&this.fileType!=="mdf"){let e=this.sdbCustom.findIndex(t=>t.sdb!=="mdf");if(e!=-1)this.sdbVal={label:this.sdbCustom[e].sdb,value:e};else{let t=this.sdbCustom.length;this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"默认视图",comments:["","","","","","","","","","","","","","","",""]}),this.sdbVal={label:this.sdbCustom[t].sdb,value:t}}}},addTpl(){this.showAddModal=!this.showAddModal},onAdd(e){let t=this.sdbCustom.length;(this.sdbCustom.some(i=>i.sdb===e.label)||e.label==="mdf")&&(e.label+=Math.random().toString().slice(-3)),this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:e.label,comments:["","","","","","","","","","","","","","","",""]}),this.sdbVal={label:e.label,value:t}},clickAddModal(e){this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:e,comments:["","","","","","","","","","","","","","","",""]}),this.showAddModal=!1,this.$nextTick(()=>{this.sdbVal={label:e,value:this.sdbCustom.length-1}})},cancelAddModal(){this.showAddModal=!1},choosePath(){let e=["BLF文件 (*.blf;*.BLF)"];this.$props.from==="reader"?e=["支持的文件类型 (*.blf;*.BLF;*.mf4;*.MF4;*.dat;*.DAT;*.mdf;*.MDF;*.asc;*.ASC;*.log;*.LOG)","BLF文件 (*.blf;*.BLF)","MDF文件 (*.mf4;*.MF4;*.dat;*.DAT;*.mdf;*.MDF)","ASC文件 (*.asc;*.ASC)","LOG文件 (*.log;*.LOG)"]:this.$props.from==="frameAnalysis"&&(e=["支持的文件类型 (*.blf;*.BLF;*.asc;*.ASC;*.log;*.LOG)","BLF文件 (*.blf;*.BLF)","ASC文件 (*.asc;*.ASC)","LOG文件 (*.log;*.LOG)"]),F.choosePath({directory:this.directory,dialogType:"OPEN_DIALOG",fileTypes:e,allow_multiple:!1}).then(t=>{t.data.directory&&(this.directory=t.data.directory,this.adapted=!1,this.adaptedType="noAdapted",this.$nextTick(()=>{if(this.fileType==="mdf"){this.dbcVal=["自定义模板"];let i=this.customOpts.find(r=>r.label==="mdf");this.sdbVal={label:i.label,value:i.value}}else this.sdbVal.label==="mdf"&&(this.dbcVal=[C.DEFAULT[0].value,C.DEFAULT[0].children[0].value],this.sdbVal={label:this.sdbCustom[0].sdb,value:0})}))})},reNameModule(){this.showRenameModal=!this.showRenameModal},clickRename(e){this.showRenameModal=!1,this.sdbVal={label:e,value:this.sdbVal.value},this.sdbCustom[this.sdbVal.value].sdb=e},cancelRename(){this.showRenameModal=!1},deleteModule(){this.showDeleteModal=!this.showDeleteModal},clickTipModal(){this.sdbCustom=this.sdbCustom.filter(e=>e.sdb!==this.sdbVal.label),this.updateOrAddView(),this.showDeleteModal=!1},copyModule(){let e=JSON.parse(JSON.stringify(this.sdbCustom.filter(t=>t.sdb==this.sdbVal.label)));e[0].sdb=e[0].sdb+Math.random().toString().slice(-3),this.sdbCustom.push(e[0]),this.sdbVal={label:e[0].sdb.slice(-22),value:this.sdbCustom.length-1}},delDbcPath(e){this.sdbCustom[this.sdbVal.value].files[e]=""},chooseDbcPath(e){F.choosePath({directory:this.canInfoOptions[e].dbcFile,dialogType:"OPEN_DIALOG",fileTypes:["DBC文件 (*.dbc;*.DBC)"],allow_multiple:!1}).then(t=>{t.data.directory&&(this.sdbCustom[this.sdbVal.value].files[e]=t.data.directory)})},cancelTipModal(){this.showDeleteModal=!1},selectCard(e){this.curId=e},reSet(){this.dbcVal=[C.DEFAULT[0].value,C.DEFAULT[0].children[0].value]},submit(){const e=this.dbcVal[0]==="自定义模板";this.$emit("importFileSubmit",{adaptedType:this.adaptedType,directory:this.directory,carType:e?"custom":this.dbcVal[0],sdb:this.dbcVal[1]?this.dbcVal[1]:this.sdbVal.label,files:e&&this.sdbCustom[this.sdbVal.value].files.length>0?this.sdbCustom[this.sdbVal.value].files:[],comments:e&&this.sdbCustom[this.sdbVal.value].comments.length>0?this.sdbCustom[this.sdbVal.value].comments:[],curId:this.curId,fileType:this.fileType,isBigFile:this.isBigFile,sendReAdjust:this.adaptedMode?{isConfirm:!0,reMatchRes:this.adaptionList.map(t=>({matched_busId:+t.dbcComment.key,origin_busId:t.origin_busId,dbcComment:t.dbcComment.value}))}:{isConfirm:!1}})},async getSelfAdaption(){this.dataLoading=!0,this.fileType==="blf"||this.$props.from==="frameAnalysis"?await w[this.$props.from==="frameAnalysis"?"blfTraceFromLogging":this.$props.from==="eteReader"?"ete":"blf"].selfAdaption({blfFile:this.directory,mode:this.adaptedMode}).then(e=>{this.adaptionOpt=[],this.adaptionList=[],e.data.channelComment!==-1?(this.adaptionOpt=Object.entries(e.data.channelComment).map(([t,i])=>({key:t,value:i})),this.adaptionList=e.data.matched_res.sort((t,i)=>t.origin_busId-i.origin_busId).map((t,i)=>({dbcComment:{key:this.adaptionOpt.find(r=>r.value===t.dbcComment).key,value:t.dbcComment},matchRate:t.matchRate,matched_busId:t.matched_busId,origin_busId:t.origin_busId}))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})}).finally(()=>{this.dataLoading=!1}):this.fileType==="asc"&&this.$props.from!="frameAnalysis"?(await w.ascReader.getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then(e=>{this.$emit("updateDefaultOptions",e.data)}),await w.ascReader.selfAdaption({ascFile:this.directory,mode:this.adaptedMode}).then(e=>{this.adaptionOpt=[],this.adaptionList=[],e.data.channelComment!==-1?(this.adaptionOpt=Object.entries(e.data.channelComment).map(([t,i])=>({key:t,value:i})),this.adaptionList=e.data.matched_res.sort((t,i)=>t.origin_busId-i.origin_busId).map((t,i)=>({dbcComment:{key:this.adaptionOpt.find(r=>r.value===t.dbcComment).key,value:t.dbcComment},matchRate:t.matchRate,matched_busId:t.matched_busId,origin_busId:t.origin_busId}))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})}).finally(()=>{this.dataLoading=!1})):this.$props.from!="frameAnalysis"&&(await w.logReader.getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then(e=>{this.$emit("updateDefaultOptions",e.data)}),await w.logReader.selfAdaption({logFile:this.directory,mode:this.adaptedMode}).then(e=>{this.adaptionOpt=[],this.adaptionList=[],e.data.channelComment!==-1?(this.adaptionOpt=Object.entries(e.data.channelComment).map(([t,i])=>({key:t,value:i})),this.adaptionList=e.data.matched_res.sort((t,i)=>t.origin_busId-i.origin_busId).map((t,i)=>({dbcComment:{key:this.adaptionOpt.find(r=>r.value===t.dbcComment).key,value:t.dbcComment},matchRate:t.matchRate,matched_busId:t.matched_busId,origin_busId:t.origin_busId}))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})}).finally(()=>{this.dataLoading=!1}))},showMessage({level:e,content:t,timeout:i}){clearTimeout(U),e!=null&&(this.message.level=e),t!=null&&(this.message.content=t),this.message.visible=!0,i>0&&(U=setTimeout(()=>{this.message.visible=!1},i))},deleteDBC(e){this.adaptionList[e].matchRate=""}}},p=e=>(M("data-v-8d41b394"),e=e(),L(),e),Ie=["data-loading"],Me={class:"o-dialog-wrap"},Le={class:"o-dialog-header-wrap"},$e={class:"o-dialog-title"},Oe={class:"o-dialog-container-wrap"},Be={class:"o-import-configuration"},xe=p(()=>s("div",{class:"o-dialog-item-tit"},"导入参数配置",-1)),Se={class:"o-dialog-item-wrap"},Fe=p(()=>s("span",{class:"o-dialog-item"},"导入文件",-1)),Re={key:0,class:"o-dialog-item-p"},Ne={class:"o-dialog-item-wrap"},Ue=p(()=>s("span",{class:"o-dialog-item"},"DBC配置",-1)),Pe={class:"o-dialog-item-select"},Ee={key:0},je=["value"],Ge={class:"icon-ques"},qe=["data-loading"],ze=p(()=>s("tr",null,[s("th",null,"chn"),s("th",null,"dbc_chn"),s("th",null,"rate")],-1)),Je={style:{width:"100px"}},Ye={key:1,class:"o-td-center",style:{width:"260px",height:"33.6px","line-height":"33.6px"}},He=["onClick"],Ke={style:{width:"100px"}},Qe={key:0,class:"o-content-view"},We={class:"o-dialog-item-wrap"},Xe=p(()=>s("span",{class:"o-dialog-item"},"通道配置",-1)),Ze={style:{width:"30%"}},et=p(()=>s("span",{style:{color:"#D9D9D9","font-size":"18px",margin:"0 0px 2px 16px"}},"|",-1)),tt=p(()=>s("i",{class:"t-icon rename"},null,-1)),st=p(()=>s("span",null,"重命名",-1)),at=p(()=>s("i",{class:"t-icon delete"},null,-1)),it=p(()=>s("span",null,"删除模板",-1)),ot=p(()=>s("i",{class:"t-icon copy"},null,-1)),lt=p(()=>s("span",null,"复制为新模板",-1)),dt=[ot,lt],nt={class:"o-dialog-table"},rt=Z('<div class="o-dialog-table-title" data-v-8d41b394><span class="o-table-can" style="font-weight:bold;" data-v-8d41b394>通道</span><span style="color:#D9D9D9;font-size:18px;margin-right:12px;" data-v-8d41b394>|</span><span style="font-weight:bold;width:364px;display:inline-block;" data-v-8d41b394>DBC文件</span><span style="color:#D9D9D9;font-size:18px;margin-right:12px;" data-v-8d41b394>|</span><span class="o-table-remark" style="font-weight:bold;" data-v-8d41b394>通道备注</span></div>',1),ct={class:"o-dialog-table-item"},ht={class:"o-table-can o-dialog-table-can",style:{"font-size":"18px",color:"#666"}},pt={key:0},mt={class:"o-input-wrap"},ut=["title"],bt=["onClick"],ft=["onClick"],_t=["onUpdate:modelValue"],yt={key:1,class:"o-choose-view"},gt=p(()=>s("div",{class:"o-dialog-item-tit"},"选择视图",-1)),vt={class:"o-dialog-card-wrap"},Ct=["onClick"],kt={class:"o-dialog-card-header"},wt={class:"o-dialog-card-tit"},Dt={key:0,class:"i-checked"},Vt={key:1,class:"i-check-box"},Tt={class:"o-modal-card-container"},At={class:"o-dialog-footer-wrap"},It={class:"o-dialog-footer"};function Mt(e,t,i,r,a,d){var S;const f=b("CopyPath"),m=b("Cascader"),j=b("v-select"),G=b("AddOrSelector"),q=b("RenameTool"),z=b("TipModal"),B=b("Button"),J=b("Message"),x=R("tooltip"),Y=R("esc");return g((l(),n("div",{class:"o-import-dialog","data-loading":a.changeDbcLoading},[s("div",Me,[s("div",Le,[s("div",$e,_(e.$props.title),1),s("i",{class:"o-dialog-title-close",onClick:t[0]||(t[0]=o=>e.$emit("cancel"))})]),s("div",Oe,[s("div",Be,[xe,s("div",Se,[Fe,a.directory?(l(),n("p",Re,[u(f,{path:a.directory,length:68},null,8,["path"])])):y("",!0),s("a",{class:"chose-file",onClick:t[1]||(t[1]=(...o)=>d.choosePath&&d.choosePath(...o)),style:{width:"70px"}},"选择文件")]),d.fileType!=="mdf"?(l(),n(D,{key:0},[s("div",Ne,[Ue,s("div",Pe,[u(m,{options:d.dbcVerOpts,modelValue:a.dbcVal,"onUpdate:modelValue":t[2]||(t[2]=o=>a.dbcVal=o)},null,8,["options","modelValue"])]),a.adaCheckFlag?(l(),n("div",Ee,[(l(!0),n(D,null,T(a.adaCheckList,(o,c)=>(l(),n("label",{class:"o-input record-header-message-imp",key:c},[h(" "),g(s("input",{name:"pull_type",type:"radio","onUpdate:modelValue":t[3]||(t[3]=v=>a.adaptedType=v),value:c},null,8,je),[[X,a.adaptedType]]),h(_(o.label),1)]))),128)),g(s("i",Ge,null,512),[[x,"仅对前10万帧数据进行匹配dbc配置"]])])):y("",!0)]),g(s("table",{class:"adp-er timechart-er","data-loading":a.dataLoading},[ze,(l(!0),n(D,null,T(a.adaptionList,(o,c)=>(l(),n("tr",{key:c,style:{height:"33.6px","line-height":"33.6px"}},[s("td",Je,"CAN "+_(o.origin_busId),1),o.matchRate===""?(l(),$(j,{key:0,style:{width:"260px"},options:a.adaptionOpt,clearable:!1,label:"value",value:"key",modelValue:a.adaptionList[c].dbcComment,"onUpdate:modelValue":v=>a.adaptionList[c].dbcComment=v,class:"chf-input-ecu"},null,8,["options","modelValue","onUpdate:modelValue"])):(l(),n("td",Ye,[h(_(o.dbcComment.value)+"   ",1),s("i",{class:"i-close",onClick:v=>d.deleteDBC(c)},null,8,He)])),s("td",Ke,_(o.matchRate),1)]))),128))],8,qe),[[N,a.adaptedType==="adapted"||a.adaptedType==="quickAdapted"]])],64)):y("",!0)]),a.dbcVal[0]==="自定义模板"&&d.fileType!=="mdf"?(l(),n("div",Qe,[s("div",We,[Xe,s("div",Ze,[u(G,{options:d.customOpts,value:"value",label:"label",modelValue:a.sdbVal,"onUpdate:modelValue":t[4]||(t[4]=o=>a.sdbVal=o),onAdd:d.onAdd},null,8,["options","modelValue","onAdd"])]),et,s("div",{class:"head-btn",onClick:t[5]||(t[5]=o=>d.reNameModule())},[tt,st,a.showRenameModal?(l(),$(q,{key:0,onOk:d.clickRename,cardName:a.sdbVal.label,onRenameCancel:d.cancelRename},null,8,["onOk","cardName","onRenameCancel"])):y("",!0)]),a.treeData[e.$props.curViewInx].sdb!==a.sdbVal.label&&a.sdbVal.label!=="mdf"?(l(),n("div",{key:0,class:"head-btn delete-module",id:"delete_module",onClick:t[6]||(t[6]=o=>d.deleteModule())},[at,it,a.showDeleteModal?(l(),$(z,{key:0,onOk:d.clickTipModal,onDelCancel:d.cancelTipModal},null,8,["onOk","onDelCancel"])):y("",!0)])):y("",!0),s("div",{class:"head-btn",id:"copy_module",onClick:t[7]||(t[7]=o=>d.copyModule())},dt)]),s("div",nt,[rt,s("div",ct,[(l(!0),n(D,null,T(((S=a.sdbCustom[a.sdbVal.value])==null?void 0:S.files)||[],(o,c)=>(l(),n("div",{class:"o-table-item-wrap",key:c},[s("span",ht,[h("CAN"),c<9?(l(),n("span",pt," ")):y("",!0),h(_(c+1),1)]),s("div",mt,[g((l(),n("div",{class:"o-table-dbc chs-input-er input-overflow-sty",title:o||"--"},[h(_(o||"--"),1)],8,ut)),[[x,o]]),g(s("i",{class:"t-icon delete-file",onClick:v=>d.delDbcPath(c)},null,8,bt),[[N,o]]),s("a",{class:"chose-file chose-dbc-file",onClick:v=>d.chooseDbcPath(c)},"选择",8,ft)]),g(s("input",{class:"o-table-remark chs-input-er",placeholder:"通道描述","onUpdate:modelValue":v=>a.sdbCustom[a.sdbVal.value].comments[c]=v},null,8,_t),[[O,a.sdbCustom[a.sdbVal.value].comments[c]]])]))),128))])])])):y("",!0),e.$props.from!=="tinyBattery"&&e.$props.from!="eteReader"&&e.$props.from!="frameAnalysis"?(l(),n("div",yt,[gt,s("div",vt,[(l(!0),n(D,null,T(d.cardView,o=>(l(),n("div",{class:"o-dialog-card",key:o.id,onClick:c=>d.selectCard(o.id)},[s("div",kt,[s("span",wt,_(o.title),1),a.curId===o.id?(l(),n("i",Dt)):(l(),n("i",Vt))]),s("div",Tt,_(o.content),1)],8,Ct))),128))])])):y("",!0)]),s("div",At,[s("div",It,[u(B,{style:{width:"52px"},onClick:t[8]||(t[8]=o=>d.reSet())},{default:k(()=>[h("重置")]),_:1}),u(B,{type:"primary","data-cy":"importFileBtn",disabled:!d.formValid,style:{width:"52px",margin:"0 20px 0 10px"},onClick:d.submit},{default:k(()=>[h("确定")]),_:1},8,["disabled","onClick"])])])]),u(J,{message:a.message},null,8,["message"])],8,Ie)),[[Y,()=>e.$emit("cancel")]])}const Rt=I(Ae,[["render",Mt],["__scopeId","data-v-8d41b394"]]);export{Rt as I};
