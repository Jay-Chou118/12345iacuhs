System.register(["./Header-legacy-5d46f685.js","./Button-legacy-1c546267.js","./index.es-legacy-d909687f.js","./ImportFileDialog-legacy-f42e000c.js","./index-legacy-cf31194a.js","./CopyPath-legacy-a5095f60.js","./time-legacy-9e872c4a.js","./ev-timeplot-legacy-6b26819e.js","./Message-legacy-854a84b7.js","./Cascader-legacy-7ed08f6d.js","./Spin-legacy-524941f8.js"],(function(t,e){"use strict";var a,l,i,s,o,r,n,c,d,u,h,p,C,m,D,b,v,g,y,f,w,L,V,k,x,B,S,M,I,U,_,R,T;return{setters:[t=>{a=t.H},t=>{l=t.B},t=>{i=t.c},t=>{s=t.I},t=>{o=t._,r=t.o,n=t.c,c=t.d,d=t.w,u=t.v,h=t.t,p=t.F,C=t.m,m=t.a,D=t.p,b=t.b,v=t.k,g=t.e,y=t.j,f=t.r,w=t.h,L=t.i,V=t.A,k=t.f,x=t.T,B=t.D,S=t.C,M=t.x},t=>{I=t.s,U=t.b},t=>{_=t.s},t=>{R=t.W,T=t.P},null,null,null],execute:function(){const e={1:{title:"高压电池SOC低于阈值",desc:"高压电池SOC低于阈值，停止智能补电轮询逻辑，BMDM监测到自身电量低时，无法请求智能补电，最终导致小电池馈电。\n关联信号：IntelgntChrgPollingLogl（智能补电轮询逻辑）=0x1（stop）"},2:{title:"BMDM自身可能存在故障",desc:"（罗列出BMDM上报的当前故障电池是否存在与系统无法通讯的情况/或者存在无法充电的故障）BMDM自身可能存在故障导致BMDM监测到自身电量低时，无法请求智能补电，最终导致小电池馈电。故障明细可前往TSP网联平台查看。"},3:{title:"VCCD未被成功唤醒",desc:"WakUpMem=0x1说明BMDM主动唤醒了网络，但一直未收到报文，表明VCCD未成功被唤醒，一般VCCD未唤醒的原因有：VCCD配电异常或VCCD故障\n关联信号：WakUpMem=0x1"},4:{title:"未发送智能补电请求",desc:"BattSocRaw持续小于50%,IntelgntChrgReq=0x0说明BMDM低电量下，未申请智能补电，最终导致小电池馈电\n关联信号：BattSocRaw、IntelgntChrgReq=0x0"},5:{title:"高压电池初始化失败",desc:""},6:{title:"高压电池SOC低于阈值",desc:"高压电池SOC低于阈值，导致上高压失败，从而导致智能补电失败，最终小电池馈电。\n关联信号：IntelgntChrgnAlwSts=0x1（reject_for_low_SOC）"},7:{title:"高压系统故障",desc:"高压系统由于故障无法上高压电，从而导致智能补电失败，最终小电池馈电。\n关联信号：IntelgntChrgnAlwSts=0x2（reject_for_error）"},8:{title:"VCU轮询故障",desc:"VCU 轮询故障,从而导致智能补电失败，最终小电池馈电。\n关联信号：VCUModReqToHvBatt不等于0x3（HV_On）"},9:{title:"预充继电器闭合异常",desc:"预充继电器闭合异常导致预充失败，导致上高压失败，导致智能补电失败，最终小电池馈电。\n关联信号：PreChrgnCntctSts不等于0x1（预充回路（预充继电器和主负继电器）闭合正常）"},10:{title:"预充回路闭合前后电池电压偏差过大",desc:"MainCntctSts不等于0x1 （Close）且HvBattActPackU和HvBattActBusU偏差一直大于12V(可标定)表明预充回路闭合前后电池电压偏差过大，导致上高压失败，从而导致智能补电失败 ，最终小电池馈电。 \n关联信号：MainCntctSts不等于0x1 （Close）、HvBattActPackU、HvBattActBusU"},11:{title:"主回路闭合异常",desc:"MainCntctSts不等于0x1 （Close）表明主回路（主正继电器和主负继电器）闭合异常，导致上高压失败，从而导致智能补电失败，最终小电池馈电。\n关联信号：MainCntctSts不等于0x1 （Close）"},12:{title:"高压系统上高压失败",desc:"高压系统上高压失败，从而导致智能补电失败，最终小电池馈电。\n关联信号：HvBattModSts不等于0x3（HV ON）"},13:{title:"VCU未请求进入Buck模式",desc:"VCU未请求进入Buck模式等故障，导致智能补电失败，最终小电池馈电。\n关联信号：VCUDCDCModReq不等于0x03（Buck_mode_request）"},14:{title:"DCDC初始化失败",desc:"DCDC初始化失败，导致智能补电失败，最终小电池馈电。\n关联信号：DCDCModSts=0x0 Init && DCDCFltLvlIndcn不等于0x0"},15:{title:"DCDC未进入Buck模式",desc:"DCDCModSts不等于0x03（Power_conversion_HV_to_LV_Buck） 表明DCDC未进入Buck模式，导致智能补电失败，最终小电池馈电。\n关联信号：DCDCModSts不等于0x03（Power_conversion_HV_to_LV_Buck）"},16:{title:"DCDC发生LV1或LV2的故障",desc:"DCDC发生LV1，2的故障，导致智能补电失败，最终小电池馈电。\n关联信号：DCDCFltLvlIndcn=0x2 or 0x3 DCDCModSts=0x06"},17:{title:"低压系统处于限流状态",desc:"电池限流模块的状态信号LvBattDCDCSts=0x0（DCDC is not work）表明低压系统处于限流状态，可能导致智能补电慢或者不成功，小电池馈电原因可能与限流有关。\n关联信号：LvBattDCDCSts=0x0（DCDC is not work）"},18:{title:"电池传感器硬件故障",desc:"电池传感器硬件故障，可能导致智能补电失败，从而导致小电池馈电。\n关联信号：BattSnsrHwFltRaw=0x1~0x8"},19:{title:"电池发生一般性警示故障",desc:"电池发生一般性警示故障，可能导致智能补电失败，从而导致小电池馈电。\n关联信号：BattSnsrGenlWarnRaw=0x1~0x6,0x8,0xA"},20:{title:"电池发生一般性断开故障",desc:"电池发生一般性断开故障，可能导致智能补电失败，从而导致小电池馈电。\n关联信号：BattSnsrGenlFltRaw=0x1~0x7,0x9,0xC,0xE"}},A={name:"ReportView",props:["reportData"],data(){},computed:{filterList(){let t=this.$props.reportData,a=t.times?.length||0,l={},i={};for(let s=0;s<a;s++){let a=t.levels[s],o=t.ids[s],r=t.times[s];a&&(l[a]?l[a]++:l[a]=1,i[o]||(i[o]={...e[o],time:r}))}return{data:Object.entries(i).sort(((t,e)=>t[1].time-e[1].time)).map((t=>({level:t[0],...t[1],color:{4:"red",3:"orange",2:"yellow",1:"blue"}[t[0]],time:new Date(1e3*t[1].time).toLocaleString("zh-Hans-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,hourCycle:"h23",timeZone:"Asia/Shanghai"})}))),counter:l}},filterLabel(){return this.filterList.data.map((t=>t.title)).join(" / ")}},mounted(){console.log(this.filterList)},methods:{exportPdf(){let t=this.filterList;console.log(this.directory);let e="battrep-"+Date.now()+".txt",a=`${this.filterLabel}\n❹四级（${t.counter[4]}） ❸三级（${t.counter[3]}） ❷二级（${t.counter[2]}） ❶一级（${t.counter[1]}）\n\n${t.data.map((t=>`${{4:"❹",3:"❸",2:"❷",1:"❶"}[t.level]} ${t.time} ┅━【${t.title}】\n${t.desc}`)).join("\n\n")}`;I(a,e)}}},$=t=>(D("data-v-b84cc431"),t=t(),b(),t),j={class:"o-pul-er"},P={class:"o-pul-wrap"},F=$((()=>c("div",{class:"o-pul-left"},[c("i",{class:"analyse-icon"}),c("span",{class:"o-pul-tit"},"分析报告")],-1))),H={class:"o-pul-right"},z=$((()=>c("span",{style:{color:"#D9D9D9","font-size":"18px",transform:"scaleX(0.5)"}},"|",-1))),q=[$((()=>c("i",{class:"export-icon"},null,-1))),$((()=>c("span",{class:"o-pul-tit"},"导出报告",-1)))],E={ref:"body"},O={key:0,class:"o-pul-content"},W={class:"o-pul-content-tit-p"},N=$((()=>c("br",null,null,-1))),G=$((()=>c("br",null,null,-1))),X={class:"o-pul-content-tit"},Z={class:"o-pul-tag abnormal-tag","data-color":"red"},J=$((()=>c("i",{class:"abnormal-icon"},null,-1))),K=$((()=>c("p",{class:"tag-word"},"四级：",-1))),Q={class:"tag-number"},Y={class:"o-pul-tag abnormal-tag","data-color":"orange"},tt=$((()=>c("i",{class:"abnormal-icon"},null,-1))),et=$((()=>c("p",{class:"tag-word"},"三级：",-1))),at={class:"tag-number"},lt={class:"o-pul-tag abnormal-tag","data-color":"yellow"},it=$((()=>c("i",{class:"abnormal-icon"},null,-1))),st=$((()=>c("p",{class:"tag-word"},"二级：",-1))),ot={class:"tag-number"},rt={class:"o-pul-tag abnormal-tag","data-color":"blue"},nt=$((()=>c("i",{class:"abnormal-icon"},null,-1))),ct=$((()=>c("p",{class:"tag-word"},"一级：",-1))),dt={class:"tag-number"},ut={class:"o-pul-list-er o-pul-list-time"},ht={class:"o-pul-list-right"},pt=$((()=>c("i",{class:"disc-icon"},null,-1))),Ct=["data-color"],mt=$((()=>c("i",{class:"abnormal-icon"},null,-1))),Dt={class:"o-pul-list-container"},bt={key:1,class:"o-pul-content"},vt=$((()=>c("div",{class:"o-pul-content-no-message"},"暂未找到异常信息，以下是blf文件内最后一帧信息：",-1))),gt={class:"o-pul-card-er"},yt={class:"o-pul-card"},ft=$((()=>c("h3",null,[c("i",{class:"data-review-icon"}),m(" 电压值分析 ")],-1))),wt={class:"o-pul-card-detail"},Lt=$((()=>c("dd",null,null,-1))),Vt={class:"o-pul-card-detail"},kt=$((()=>c("dd",null,null,-1))),xt={class:"o-pul-card"},Bt=$((()=>c("h3",null,[c("i",{class:"data-review-icon"}),m(" 电流值分析")],-1))),St={class:"o-pul-card-detail"},Mt=$((()=>c("dd",null,null,-1))),It={class:"o-pul-card-detail"},Ut=$((()=>c("dd",null,null,-1))),_t={class:"o-pul-card-detail"},Rt=$((()=>c("dd",null,null,-1))),Tt={class:"o-pul-card-detail"},At=$((()=>c("dd",null,null,-1))),$t={class:"o-pul-card"},jt=$((()=>c("h3",null,[c("i",{class:"data-review-icon"}),m(" 负载分析")],-1))),Pt={class:"o-pul-card-detail"},Ft=$((()=>c("dd",null,null,-1))),Ht=$((()=>c("div",{class:"o-pul-footer"},[c("b",null,"模型逻辑参考"),c("p",null,[m("低电量主动请求：当电池监测到自身电量过低时，主动唤醒主节点，请求补电。"),c("br"),m("智能补电：当电池容量低于一定水平时，由低压电池通过总线唤醒方式主动唤醒主节点，发送充电请求给高压侧，唤醒高压进行充电。")])],-1))),zt={props:["store"],components:{Button:l,Header:a,Draggable:i,ImportFileDialog:s,TimePlotMulti:R,ProgressBar:T,ReportView:o(A,[["render",function(t,e,a,l,i,s){return r(),n("div",j,[c("div",P,[F,d(c("div",H,[z,c("div",{class:"head-btn",onClick:e[0]||(e[0]=(...t)=>s.exportPdf&&s.exportPdf(...t))},q)],512),[[u,s.filterLabel]])]),c("div",E,[s.filterLabel?(r(),n("div",O,[c("p",W,h(s.filterLabel),1),N,G,c("div",X,[d(c("span",Z,[J,K,c("p",Q,h(s.filterList.counter[4]||0),1)],512),[[u,s.filterList.counter[4]]]),d(c("span",Y,[tt,et,c("p",at,h(s.filterList.counter[3]||0),1)],512),[[u,s.filterList.counter[3]]]),d(c("span",lt,[it,st,c("p",ot,h(s.filterList.counter[2]||0),1)],512),[[u,s.filterList.counter[2]]]),d(c("span",rt,[nt,ct,c("p",dt,h(s.filterList.counter[1]||0),1)],512),[[u,s.filterList.counter[1]]])]),c("div",null,[c("ul",null,[(r(!0),n(p,null,C(s.filterList.data,(t=>(r(),n("li",{key:t.title,class:"o-pul-content-er"},[c("div",ut,h(t.time),1),c("div",ht,[pt,c("div",{class:"o-pul-list-er o-pul-list-tit","data-color":t.color},[mt,m(" "+h(t.title),1)],8,Ct),c("div",Dt,h(t.desc),1)])])))),128))])])])):(r(),n("div",bt,[vt,c("div",gt,[c("div",yt,[ft,c("dl",null,[c("dt",wt,"VCUDCDCULVSp:"+h(a.reportData.latest.VCUDCDCULVSp),1),Lt,c("dt",Vt,"BattURaw:"+h(a.reportData.latest.BattURaw),1),kt])]),c("div",xt,[Bt,c("dl",null,[c("dt",St,"VCUDCDCLVCurLim:"+h(a.reportData.latest.VCUDCDCLVCurLim),1),Mt,c("dt",It,"DCDCCurAvlMaxLV:"+h(a.reportData.latest.DCDCCurAvlMaxLV),1),Ut,c("dt",_t,"DCDCCurActLV:"+h(a.reportData.latest.DCDCCurActLV),1),Rt,c("dt",Tt,"BattIRaw:"+h(a.reportData.latest.BattIRaw),1),At])]),c("div",$t,[jt,c("dl",null,[c("dt",Pt,"LvLoadCtrlLvl:"+h(a.reportData.latest.LvLoadCtrlLvl),1),Ft])])])]))],512),Ht])}],["__scopeId","data-v-b84cc431"]])},data(){let t=x;return{backBlock:!1,modal:{title:"导入文件",visible:!1},treeData:t,curView:{label:t[0]?.text,value:0},directory:"",directorySize:{label:"",value:0,durationMaybe:0,durationMaybeLabel:"0秒"},colorList:["blue","cerulean","cyan","green","lime","purple","pink","red","orange","yellow"],sdb:"E4U3_1115",carType:"MS11",backBlock:!1,chartDataLoaded:!0,waitChart:{},fileChoosed:!1,traceList:new Map,timeData:{},batReportData:{times:[1677628049.694,1677628049.704,1677628049.714,1677628049.724,1677628049.725],ids:[4,2,3,1,1],levels:[1,2,3,4,4],latest:{VCUDCDCULVSp:8.512,BattURaw:0,VCUDCDCLVCurLim:512,DCDCCurAvlMaxLV:210,DCDCCurActLV:11.5,BattIRaw:-8.109375,LvLoadCtrlLvl:13.3}}}},watch:{sdbVal:{handler(t){let e=[];const a=this.$ls.get("blfread_sdbData")||[];if("custom"===this.carType){let t=a.find((t=>t.sdb===this.sdb))?.comments;t&&(e=t)}else e=B;this.C2C=e.map(((t,e)=>`${t}(CAN ${e})`))},immediate:!0},chartDataLoaded(t,e){t?(this.backBlock=!1,document.querySelector(".o-body").style.cursor=""):(this.backBlock=!0,document.querySelector(".o-body").style.cursor="wait")},treeData:{handler(t,e){},deep:!0},directory:{async handler(t){const e=await v.getFileSize(t),a=Math.round(.166*(1678e-19*e*e+1.768e-7*e+.5581));this.directorySize={label:U(e),value:e,durationMaybe:1e3*a,durationMaybeLabel:_(a)}}}},computed:{sdbVal(){return[this.carType,this.sdb]},quitConfirm(){return!!this.directory},carTypeLabel(){return this.carType&&"custom"!==this.carType?this.carType+" / ":""},view(){return console.log("树树书",this.treeData),console.log("小电池curView",this.curView),this.treeData[this.curView.value]},directoryLabel(){let t=this.directory.split("\\").pop();return t.length>25?t.slice(0,10)+"..."+t.slice(-15):t}},methods:{onImportView(t){console.log("onImportView"),this.addView(),this.$nextTick((()=>{this.updateSignal(t.children,this.treeData[this.curView.value]),this.manageModal.manageVisible=!1,this.$nextTick((()=>{this.manageModal.manageVisible=!0}))}))},resetTimeData(){this.directory="",this.backBlock=!1,this.chartDataLoaded=!0,this.waitChart={},this.fileChoosed=!1,this.traceList=new Map,this.timeData={}},importFile(){this.modal.visible=!0},onCancelDialog(){this.modal.visible=!1},choosePath(){/\.blf$/i.test(this.directory)&&(this.chartDataLoaded=!1,this.clearTimeData(),g.blfMAT.getBLFdata({blfFile:this.directory}).then((async t=>{this.fileChoosed=!0,this.treeData.forEach((t=>{this.waitChart[t.id]=!0}));const e=this.treeData.slice();e.splice(this.curView.value,1),e.unshift(this.treeData[this.curView.value]);for(let a=0;a<e.length;a++)await this.play(e[a]),0===a&&(this.chartDataLoaded=!0)})).catch((()=>{})).finally((()=>{this.chartDataLoaded=!0})))},clearTimeData(){this.batReportData={times:[],ids:[],levels:[],latest:{VCUDCDCULVSp:0,BattURaw:0,VCUDCDCLVCurLim:0,DCDCCurAvlMaxLV:0,DCDCCurActLV:0,BattIRaw:0,LvLoadCtrlLvl:0}};for(let t in this.timeData)this.timeData[t]=[];this.treeData.forEach((t=>{t.children.forEach((t=>{t.warning=void 0}))}))},hideSignal(t,e){this.waitChart[t.pid]||(t.hidden=!t.hidden,this.play(e,!0))},deleteSignal(t){console.log("del",t),this.waitChart[t.pid]||(this.treeData=this.treeData.map((e=>{if(e.id==t.pid){let a={...e,children:e.children.filter((e=>!(e.id==t.id&&e.msg==t.msg&&e.channel==t.channel)))};return this.$nextTick((()=>this.play(a,!0))),a}return{...e}})))},onChangeView(t){console.log("切换视图",t)},async play(t,e){if(!this.fileChoosed)return;if(e)return void this.loadChart(t,e);let a,l,i;this.waitChart[t.id]=!0;try{if(a=await g.blfMAT.getAnalysisByParams({data:[...t.children.map((t=>({busId:t.channel,canId:t.msg,name:t.text}))),{busId:5,canId:304,name:"VCUDCDCULVSp"},{busId:5,canId:304,name:"VCUDCDCLVCurLim"},{busId:5,canId:306,name:"DCDCCurAvlMaxLV"},{busId:5,canId:628,name:"DCDCCurActLV"},{busId:15,canId:562,name:"BattIRaw"},{busId:10,canId:433,name:"LvLoadCtrlLvl"},{busId:15,canId:579,name:"BattURaw"}]}),console.log("res>>>",a),a.data.length>0){let t=a.data.length;l=a.data[t-2],i=a.data[t-1],this.batReportData={times:[],ids:[],levels:[],latest:{VCUDCDCULVSp:0,BattURaw:0,VCUDCDCLVCurLim:0,DCDCCurAvlMaxLV:0,DCDCCurActLV:0,BattIRaw:0,LvLoadCtrlLvl:0}},this.batReportData.times=l.times,this.batReportData.ids=l.values,this.batReportData.levels=i.values;for(let e in this.batReportData.latest)a.data.forEach((t=>{if(t.name===e)return this.batReportData.latest[e]=t.values.slice(-1)[0]}));console.log("stateDetail>>>",l),console.log("this.batReportData>>>",this.batReportData)}console.log("第三个接口res",a)}catch(o){return void(this.waitChart[t.id]=!1)}const s={};for(let r in a.data){const t=a.data[r];this.traceList.set(t.busId+"_"+t.name,{name:t.name,t:Object.freeze(t.times),v:Object.freeze(t.values),enums:t.enums,cycle:t.cycle||500}),s[t.busId+"_"+t.name]=t.times.length}t.children.forEach((t=>{switch(s[t.channel+"_"+t.text]){case 0:t.warning=!0;break;case void 0:t.warning=null;break;default:t.warning=!1}})),this.loadChart(t),this.waitChart[t.id]=!1},loadChart(t){const e={blue:"#2266ff",cerulean:"#00c7f2",cyan:"#00e0b8",green:"#3fd926",lime:"#add900",purple:"#8125ff",pink:"#ff4475",red:"#ff3838",orange:"#ffad4d",yellow:"#f1d900"};console.log("加载图表",t);const a=t.children.filter((t=>!t.hidden&&this.traceList.get(t.channel+"_"+t.text)?.t.length>0)).map((t=>{const a=this.traceList.get(t.channel+"_"+t.text);return Object.assign(a,{color:e[t.color]})}));this.timeData[t.id]=a},updateSignal(t,e){this.treeData=this.treeData.map((a=>{if(a.id==e.id){let e=t.map(((t,e)=>{let l=a.children.find((e=>t.id==e.id&&t.msg==e.msg&&t.channel==e.channel));return l?{...l,pid:a.id,color:this.colorList[e%9]}:{pid:a.id,id:t.id,text:t.text,comment:t.comment,msg:t.msg,channel:t.channel,type:"signal",color:this.colorList[e%9],colorEditable:!1}}));const l={...a,children:e,chooseSignalAble:!1};return this.play(l),l}return a}))},onCheckView(t){console.log("导入文件点击确认",t),this.resetTimeData(),this.$nextTick((async()=>{this.modal.visible=!1;let e=this.treeData.filter((e=>e.id===t.curId)).map((e=>({label:e.text,value:this.treeData.findIndex((e=>e.id===t.curId))})));this.curView=e[0],this.carType=t.carType,this.sdb=t.sdb,this.directory=t.directory,this.files=t.files.length?t.files:void 0,this.comments=t.comments.length?t.comments:void 0,await g.blfMAT.getDBC({carType:this.carType,sdb:this.sdb,files:this.files,comments:this.comments}).then((t=>{window._sdb=t.data})).then((()=>{this.choosePath()}))})),y.report("track","click",{element_name:"导入文件",asset_name:this.directory+";",tip:"1174.13.0.1.29260"})}},mounted(){console.log("view",this.view),this.clearTimeData(),this.SDBLoading=!0,g.blfMAT.getDBC({carType:"MS11",sdb:this.sdb}).then((t=>{window._sdb=t.data})).finally((()=>{this.SDBLoading=!1})),y.report("trackPage",{page:"小电池馈电",tip:"1174.13.0.1.29259"})},beforeUnmount(){this.timeData={}}},qt=t=>(D("data-v-55a13f15"),t=t(),b(),t),Et={class:"tiny-battery"},Ot=qt((()=>c("i",{class:"lead-icon"},null,-1))),Wt={class:"record-header-message"},Nt={class:"record-header-message-imp"},Gt={class:"record-header-message-imp"},Xt={class:"o-pul-er"},Zt=qt((()=>c("div",{class:"o-pul-wrap"},[c("div",{class:"o-pul-left"},[c("i",{class:"data-review-icon"}),c("span",{class:"o-pul-tit"},"数据回放")])],-1))),Jt={class:"o-pul-er-wrap"},Kt={class:"o-pul-board"},Qt={class:"o-pul-button-wrap"},Yt=[qt((()=>c("i",{class:"t-icon chooseSignal"},null,-1))),qt((()=>c("span",null,"选择信号",-1)))],te=qt((()=>c("span",{style:{color:"#D9D9D9","font-size":"18px",transform:"scaleX(0.5)"}},"|",-1))),ee=qt((()=>c("div",{class:"board-head-btn",id:"delete_module"},[c("i",{class:"t-icon saveView"}),c("span",null,"保存为视图")],-1))),ae={class:"o-pul-tree-er"},le=["data-hidden"],ie=["data-open","onClick"],se=["data-color","onClick"],oe=["onMouseleave"],re=["title","data-color","onClick"],ne=["title"],ce={key:0,class:"t-node-warning",title:"信号无数据"},de={key:1,class:"t-node-error",title:"文件内无此信号"},ue=["onClick"],he=["data-loading"],pe=S('<div class="timechart-hotkey" data-v-55a13f15><div class="timechart-hotkey-it" data-v-55a13f15>缩放轴 <span class="hotkey-btn" data-v-55a13f15>ctrl+滚轮</span></div><div class="timechart-hotkey-it" data-v-55a13f15>平移轴 <span class="hotkey-btn" data-v-55a13f15>shift+滚轮</span></div><div class="timechart-hotkey-it" data-v-55a13f15>选择帧 <span class="hotkey-btn" data-v-55a13f15>左键单击</span></div></div>',1),Ce=["id"],me={key:0,class:"board-spin-er"},De={class:"board-spin-progress"},be={class:"board-spin-text"};t("default",o(zt,[["render",function(t,e,a,l,i,s){const o=f("Button"),D=f("Header"),b=f("ReportView"),v=f("Draggable"),g=f("TimePlotMulti"),y=f("ProgressBar"),x=f("ImportFileDialog");return r(),n("div",Et,[w(D,{title:"智能诊断-小电池馈电",quitConfirm:s.quitConfirm,backBlock:i.backBlock},{default:L((()=>[w(o,{type:"primary",class:"header-import-btn",onClick:s.importFile},{default:L((()=>[Ot,m("导入文件")])),_:1},8,["onClick"]),c("span",Wt,[m(" BLF文件："),c("span",Nt,h(s.directoryLabel||"--"),1),d(c("span",{style:{color:"#333","text-shadow":"0 0.3px currentColor"}},"（"+h(i.directorySize.label)+"）",513),[[u,i.directorySize.value]]),m("  DBC配置："),c("span",Gt,h(s.carTypeLabel)+h(i.sdb||"--"),1)])])),_:1},8,["quitConfirm","backBlock"]),i.batReportData.times.length?(r(),V(b,{key:0,reportData:i.batReportData},null,8,["reportData"])):k("",!0),c("div",Xt,[Zt,c("div",Jt,[c("div",Kt,[c("div",Qt,[c("div",{class:"board-head-btn",onClick:e[0]||(e[0]=t=>s.view.chooseSignalAble=!s.view.chooseSignalAble)},Yt),te,ee]),c("div",ae,[s.view?(r(),V(v,{key:0,maxLevel:1,class:"t-list",modelValue:s.view.children,"onUpdate:modelValue":e[1]||(e[1]=t=>s.view.children=t),onAfterDrop:e[2]||(e[2]=t=>s.play(s.view,!0))},{default:L((({node:t,stat:e})=>[c("div",{class:"t-node","data-type":"signal","data-hidden":t.hidden},[c("i",{class:"t-node-exp","data-open":e.open,onClick:t=>e.open=!e.open},null,8,ie),m(),c("i",{class:"t-node-icon","data-color":t.color,title:"更改颜色",onClick:M((e=>t.colorEditable=!0),["stop","prevent"])},[d(c("div",{class:"color-picker",onMouseleave:e=>t.colorEditable=!1},[(r(!0),n(p,null,C(i.colorList,(e=>(r(),n("div",{class:"color-item",title:e,"data-color":e,key:e,onClick:a=>{t.color=e,s.play(s.view,!0)}},null,8,re)))),128))],40,oe),[[u,t.colorEditable]])],8,se),c("span",{class:"t-node-text",title:`【${t.text}】\n${t.comment||""}`},[c("span",null,h(t.text),1),!0===t.warning?(r(),n("div",ce)):k("",!0),t.hidden||null!==t.warning?k("",!0):(r(),n("div",de))],8,ne),c("div",{class:"t-node-watch",onClick:e=>{s.hideSignal(t,s.view)}},null,8,ue)],8,le)])),_:1},8,["modelValue"])):k("",!0)])]),c("div",{class:"timechart-er","data-loading":i.waitChart[s.view.id]},[pe,(r(),n("div",{id:"timechart_"+s.view.id,style:{width:"100%",height:"100%"},key:s.view.id},[i.timeData[s.view.id]?(r(),V(g,{key:0,timeData:i.timeData[s.view.id]},null,8,["timeData"])):k("",!0)],8,Ce))],8,he),i.chartDataLoaded?k("",!0):(r(),n("div",me,[c("div",De,[i.directorySize.durationMaybe?(r(),V(y,{key:0,second:i.directorySize.durationMaybe},null,8,["second"])):k("",!0)]),c("div",be,"正在解析文件 "+h(s.directoryLabel)+"（"+h(i.directorySize.label)+"），约"+h(i.directorySize.durationMaybeLabel)+"…",1)]))])]),i.modal.visible?(r(),V(x,{key:1,curViewInx:i.curView.value,title:i.modal.title,onCancel:s.onCancelDialog,onImportFileSubmit:s.onCheckView,carType:i.carType,sdb:i.sdb,from:"tinyBattery"},null,8,["curViewInx","title","onCancel","onImportFileSubmit","carType","sdb"])):k("",!0)])}],["__scopeId","data-v-55a13f15"]]))}}}));
