System.register(["./Button-legacy-9a048350.js","./Message-legacy-77c5c54f.js","./Cascader-legacy-8fbc2b19.js","./index-legacy-0328131b.js","./Spin-legacy-3d62b90a.js","./ev-timeplot-legacy-beb7add8.js","./CopyPath-legacy-f7a4a4ef.js"],(function(e,t){"use strict";var a,s,i,l,d,o,c,n,r,h,p,m,b,u,f,y,g,v,C,k,V,w,D,T,A,_,$,x,M,I,L,O,B,F;return{setters:[e=>{a=e.B},e=>{s=e.M},e=>{i=e.C},e=>{l=e._,d=e.r,o=e.o,c=e.c,n=e.d,r=e.w,h=e.g,p=e.h,m=e.i,b=e.a,u=e.x,f=e.p,y=e.b,g=e.B,v=e.S,C=e.T,k=e.e,V=e.s,w=e.k,D=e.l,T=e.t,A=e.f,_=e.F,$=e.m,x=e.n,M=e.A,I=e.v,L=e.C},e=>{O=e.S},e=>{B=e.A},e=>{F=e.C}],execute:function(){const t={components:{Button:a},props:["cardName"],data(){return{renameStr:this.$props.cardName}},methods:{}},S={class:"tool-picker-contianer-wrap"},R=(e=>(f("data-v-16200198"),e=e(),y(),e))((()=>n("div",{class:"tool-picker-arrow"},null,-1))),U={class:"tool-picker-footer-wrap"},N={class:"o-dialog-footer"},P=l(t,[["render",function(e,t,a,s,i,l){const f=d("Button");return o(),c("div",{class:"tool-picker-wrap",onClick:t[3]||(t[3]=u((t=>e.$emit("reNameModule")),["stop"]))},[n("div",S,[r(n("input",{class:"o-table-remark chs-input-er",maxlength:"22",placeholder:"通道重命名","onUpdate:modelValue":t[0]||(t[0]=e=>i.renameStr=e)},null,512),[[h,i.renameStr]])]),R,n("div",U,[n("div",N,[p(f,{style:{width:"30px"},onClick:t[1]||(t[1]=u((t=>e.$emit("renameCancel")),["stop"]))},{default:m((()=>[b("取消")])),_:1}),p(f,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[2]||(t[2]=u((t=>e.$emit("ok",i.renameStr)),["stop"]))},{default:m((()=>[b("确定")])),_:1})])])])}],["__scopeId","data-v-16200198"]]),E={components:{Button:a},props:["cardIndex","cardName","cardId"],data(){return{titleName:this.$props.cardName,titleId:this.$props.cardId}},methods:{},mounted(){}},j=e=>(f("data-v-dda52175"),e=e(),y(),e),q=j((()=>n("div",{class:"tool-picker-contianer-wrap"},[n("i",{class:"i-warning"}),n("span",null,"确认要删除模板吗")],-1))),G=j((()=>n("div",{class:"tool-picker-arrow"},null,-1))),J={class:"tool-picker-footer-wrap"},z={class:"o-dialog-footer"},H=l(E,[["render",function(e,t,a,s,i,l){const r=d("Button");return o(),c("div",{class:"tool-picker-wrap",style:g("--cardIndex:"+e.$props.cardIndex)},[q,G,n("div",J,[n("div",z,[p(r,{style:{width:"30px"},onClick:t[0]||(t[0]=u((t=>e.$emit("delCancel")),["stop"]))},{default:m((()=>[b("取消")])),_:1}),p(r,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[1]||(t[1]=u((t=>e.$emit("ok",i.titleId)),["stop"]))},{default:m((()=>[b("确定")])),_:1})])])],4)}],["__scopeId","data-v-dda52175"]]),K={emits:["cancel"],components:{Button:a},data:()=>({addNameStr:""}),methods:{}},Q={class:"tool-picker-wrap"},W={class:"tool-picker-contianer-wrap"},X=(e=>(f("data-v-997e1218"),e=e(),y(),e))((()=>n("div",{class:"tool-picker-arrow"},null,-1))),Y={class:"tool-picker-footer-wrap"},Z={class:"o-dialog-footer"};let ee=0,te=0;const ae={props:["title","curViewInx","carType","sdb","from","hisDirectory"],emits:["cancel","importFileSubmit","treeDataChange","updateDefaultOptions"],components:{Button:a,Cascader:i,RenameTool:P,TipModal:H,AddModal:l(K,[["render",function(e,t,a,s,i,l){const u=d("Button");return o(),c("div",Q,[n("div",W,[r(n("input",{class:"o-table-remark chs-input-er",placeholder:"添加通道","onUpdate:modelValue":t[0]||(t[0]=e=>i.addNameStr=e)},null,512),[[h,i.addNameStr]])]),X,n("div",Y,[n("div",Z,[p(u,{style:{width:"30px"},onClick:t[1]||(t[1]=t=>e.$emit("cancel"))},{default:m((()=>[b("取消")])),_:1}),p(u,{type:"primary",style:{width:"30px",margin:"0 20px 0 10px"},onClick:t[2]||(t[2]=t=>e.$emit("ok",i.addNameStr))},{default:m((()=>[b("确定")])),_:1})])])])}],["__scopeId","data-v-997e1218"]]),AddOrSelector:B,Spin:O,Message:s,CopyPath:F},data(){let e=this.$ls.get("blfread_sdbData")||[];return 0==e.length&&(e=[{id:-1,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"默认视图",comments:["","","","","","","","","","","","","","","",""]},{id:-3,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"mdf",comments:["","","","","","","","","","","","","","","",""]}]),{sdbCustom:e,canInfoOptions:Array.from({length:16},((e,t)=>({channel:"CAN"+t,dbcFile:"",remark:""}))),adapted:!1,adaptedMode:"",quickAdapted:!1,isBigFile:!1,dbcVal:[v.DEFAULT[0].value,v.DEFAULT[0].children[0].value],sdbVal:{label:e[0].sdb,value:0},showRenameModal:!1,showAddModal:!1,showDeleteModal:!1,directory:"",treeData:"tinyBattery"===this.$props.from?C:this.$ls.get("blfread_treeData")||[],curId:-1,adaptionList:[],adaptionOpt:[],dataLoading:!1,adaCheckFlag:!0,message:{visible:!1,level:"",content:""},adaCheckList:{noAdapted:{label:"无自适应",value:"noAdapted"},adapted:{label:"自适应",value:"adapted"},quickAdapted:{label:"快速自适应",value:"quickAdapted"}},adaptedType:"noAdapted",selectList:[],_getDbcBlock:!1,changeDbcLoading:!1}},watch:{sdbCustom:{deep:!0,immediate:!0,handler(e){if("tinyBattery"!==this.$props.from){JSON.stringify(this.$ls.get("blfread_sdbData"))!==JSON.stringify(e)&&this.$ls.set("blfread_sdbData",e);let t=this.$ls.get("blfread_treeData")||[];t=t.filter((t=>!("custom"===t.carType&&!e.some((e=>e.sdb===t.sdb))))),e.forEach((e=>{t.some((t=>t.carType===e.carType&&t.sdb===e.sdb))||t.push({id:+Math.random().toString().replace(".",""),text:"默认视图",type:"view",editable:!1,carType:e.carType,sdb:e.sdb,chooseSignalAble:!1,deleteConfirm:!1,children:[]})})),this.$ls.set("blfread_treeData",t),this.treeData=t,this.$emit("treeDataChange")}}},curViewInx:{handler(e,t){this.$nextTick((()=>{this.treeData[e]&&(this.curId=this.treeData[e].id)}))},deep:!0},dbcVal(e){clearTimeout(te),e&&(this.adaptedType="noAdapted","tinyBattery"!==this.$props.from?"自定义模板"===e[0]?(this.adaCheckFlag=!1,window._blfcpp="python"):(this.adaCheckFlag=!0,window._blfcpp="python","blf"!==this.fileType&&"asc"!==this.fileType&&"log"!==this.fileType||this._getDbcBlock||(this._getDbcBlock=!0,this.changeDbcLoading=!0,te=setTimeout((()=>{this.changeDbcLoading=!1}),1e3),console.log("20241011","20241011"),k["frameAnalysis"===this.$props.from?"blfTraceFromLogging":"eteReader"===this.$props.from?"ete":"blf"].getDBC({carType:e[0],sdb:e[1]}).then((e=>{this.$emit("updateDefaultOptions",e.data),console.log("20241011",e)})).catch((e=>{console.log("20241011err",e)})).finally((()=>{this._getDbcBlock=!1})))):"eteReader"==this.from&&(this.adaCheckFlag=!0)),this.updateOrAddView(),this.dataLoading=!1},fileType(e){"blf"!==e&&"asc"!==e&&"log"!==e||this._getDbcBlock||(this._getDbcBlock=!0,k["frameAnalysis"===this.$props.from?"blfTraceFromLogging":"eteReader"===this.$props.from?"ete":"blf"].getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then((e=>{this.$emit("updateDefaultOptions",e.data)})).finally((()=>{this._getDbcBlock=!1})))},adaptedType(e){"adapted"===e?(this.adaptedMode="common",this.getSelfAdaption()):"quickAdapted"===e?(this.adaptedMode="quick",this.getSelfAdaption()):this.adaptedMode=""}},mounted(){if(this.sdbCustom.some((e=>"custom"===e.carType&&"mdf"===e.sdb))||this.sdbCustom.push({id:-3,carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"mdf",comments:["","","","","","","","","","","","","","","",""]}),"tinyBattery"===this.$props.from?(this.curId=-2,this.curIndex=-2,this.adaCheckFlag=!1):(this.curIndex=this.$props.curViewInx||0,this.curId=this.treeData[this.curIndex].id,this.treeData=this.$ls.get("blfread_treeData")||[]),"custom"===this.$props.carType){this.dbcVal=["自定义模板"];let e=this.customOpts.find((e=>e.label===this.$props.sdb));"mdf"===this.$props.sdb&&(e={label:"mdf",value:"-3"}),this.sdbVal={label:e.label,value:e.value}}else this.dbcVal=[this.$props.carType,this.$props.sdb];""==this.hisDirectory?this.choosePath():this.directory=this.hisDirectory},computed:{fileType(){return/\.dat$|\.mf4$|\.mdf$/i.test(this.directory)?"mdf":/\.asc$/i.test(this.directory)?"asc":/\.log$/i.test(this.directory)?"log":"blf"},dbcValUser(){return["自定义模板"===this.dbcVal[0]?"custom":this.dbcVal[0],this.dbcVal[1]||this.sdbVal.label]},formValid(){if("tinyBattery"===this.$props.from)return this.directory;if("自定义模板"==this.dbcVal[0])return this.directory;if("eteReader"==this.from)return this.directory&&""!==this.dbcValUser[0]&&""!==this.dbcValUser[1];if("frameAnalysis"==this.from)return this.directory&&""!==this.dbcValUser[0]&&""!==this.dbcValUser[1];{let e=this.treeData.find((e=>this.curId===e.id));return this.directory&&e&&e.carType===this.dbcValUser[0]&&e.sdb===this.dbcValUser[1]}},directoryLabel(){let e=""+this.directory;return e.length>70&&(e=e.slice(0,50)+"..."+e.slice(-10)),e},cardView(){let e=this.treeData.filter((e=>e.carType===this.dbcValUser[0]&&e.sdb===this.dbcValUser[1])).map((e=>({id:e.id,title:e.text,content:e.children.map((e=>e.text)).join(", ")})));return!e.some((e=>e.id===this.curId))&&e.length>0&&setTimeout((()=>{this.curId=e[0].id}),100),e},dbcVerOpts(){return"eteReader"===this.$props.from?[...v.DEFAULT]:[...v.DEFAULT,{label:"自定义模板",value:"自定义模板"}]},customOpts(){let e=this.sdbCustom.map(((e,t)=>({label:e.sdb,value:t,files:e.files,comments:e.comments})));return"mdf"!==this.fileType&&(e=e.filter((e=>"mdf"!==e.label))),e}},methods:{updateOrAddView(){if("自定义模板"===this.dbcVal[0]&&"mdf"!==this.fileType){let e=this.sdbCustom.findIndex((e=>"mdf"!==e.sdb));if(-1!=e)this.sdbVal={label:this.sdbCustom[e].sdb,value:e};else{let e=this.sdbCustom.length;this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:"默认视图",comments:["","","","","","","","","","","","","","","",""]}),this.sdbVal={label:this.sdbCustom[e].sdb,value:e}}}},addTpl(){this.showAddModal=!this.showAddModal},onAdd(e){let t=this.sdbCustom.length;(this.sdbCustom.some((t=>t.sdb===e.label))||"mdf"===e.label)&&(e.label+=Math.random().toString().slice(-3)),this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:e.label,comments:["","","","","","","","","","","","","","","",""]}),this.sdbVal={label:e.label,value:t}},clickAddModal(e){this.sdbCustom.push({id:Date.now(),carType:"custom",files:["","","","","","","","","","","","","","","",""],sdb:e,comments:["","","","","","","","","","","","","","","",""]}),this.showAddModal=!1,this.$nextTick((()=>{this.sdbVal={label:e,value:this.sdbCustom.length-1}}))},cancelAddModal(){this.showAddModal=!1},choosePath(){let e=["BLF文件 (*.blf;*.BLF)"];"reader"===this.$props.from?e=["支持的文件类型 (*.blf;*.BLF;*.mf4;*.MF4;*.dat;*.DAT;*.mdf;*.MDF;*.asc;*.ASC;*.log;*.LOG)","BLF文件 (*.blf;*.BLF)","MDF文件 (*.mf4;*.MF4;*.dat;*.DAT;*.mdf;*.MDF)","ASC文件 (*.asc;*.ASC)","LOG文件 (*.log;*.LOG)"]:"frameAnalysis"===this.$props.from&&(e=["支持的文件类型 (*.blf;*.BLF;*.asc;*.ASC;*.log;*.LOG)","BLF文件 (*.blf;*.BLF)","ASC文件 (*.asc;*.ASC)","LOG文件 (*.log;*.LOG)"]),"android"===V?JSBridge.send({method:"chooseBlfPath"},(e=>{console.log("res",e),e.data.split("/").pop(),e.data&&(this.directory=e.data,this.adapted=!1,this.adaptedType="noAdapted",this.$nextTick((()=>{if("mdf"===this.fileType){this.dbcVal=["自定义模板"];let e=this.customOpts.find((e=>"mdf"===e.label));this.sdbVal={label:e.label,value:e.value}}else"mdf"===this.sdbVal.label&&(this.dbcVal=[v.DEFAULT[0].value,v.DEFAULT[0].children[0].value],this.sdbVal={label:this.sdbCustom[0].sdb,value:0})})))})):w.choosePath({directory:this.directory,dialogType:"OPEN_DIALOG",fileTypes:e,allow_multiple:!1}).then((e=>{e.data.directory&&(this.directory=e.data.directory,this.adapted=!1,this.adaptedType="noAdapted",this.$nextTick((()=>{if("mdf"===this.fileType){this.dbcVal=["自定义模板"];let e=this.customOpts.find((e=>"mdf"===e.label));this.sdbVal={label:e.label,value:e.value}}else"mdf"===this.sdbVal.label&&(this.dbcVal=[v.DEFAULT[0].value,v.DEFAULT[0].children[0].value],this.sdbVal={label:this.sdbCustom[0].sdb,value:0})})))}))},reNameModule(){this.showRenameModal=!this.showRenameModal},clickRename(e){this.showRenameModal=!1,this.sdbVal={label:e,value:this.sdbVal.value},this.sdbCustom[this.sdbVal.value].sdb=e},cancelRename(){this.showRenameModal=!1},deleteModule(){this.showDeleteModal=!this.showDeleteModal},clickTipModal(){this.sdbCustom=this.sdbCustom.filter((e=>e.sdb!==this.sdbVal.label)),this.updateOrAddView(),this.showDeleteModal=!1},copyModule(){let e=JSON.parse(JSON.stringify(this.sdbCustom.filter((e=>e.sdb==this.sdbVal.label))));e[0].sdb=e[0].sdb+Math.random().toString().slice(-3),this.sdbCustom.push(e[0]),this.sdbVal={label:e[0].sdb.slice(-22),value:this.sdbCustom.length-1}},delDbcPath(e){this.sdbCustom[this.sdbVal.value].files[e]=""},chooseDbcPath(e){"android"===V?JSBridge.send({method:"chooseDBCPath"},(t=>{console.log("res",t),this.sdbCustom[this.sdbVal.value].files[e]=t.data})):w.choosePath({directory:this.canInfoOptions[e].dbcFile,dialogType:"OPEN_DIALOG",fileTypes:["DBC文件 (*.dbc;*.DBC)"],allow_multiple:!1}).then((t=>{t.data.directory&&(this.sdbCustom[this.sdbVal.value].files[e]=t.data.directory)}))},cancelTipModal(){this.showDeleteModal=!1},selectCard(e){this.curId=e},reSet(){this.dbcVal=[v.DEFAULT[0].value,v.DEFAULT[0].children[0].value]},submit(){const e="自定义模板"===this.dbcVal[0];this.$emit("importFileSubmit",{adaptedType:this.adaptedType,directory:this.directory,carType:e?"custom":this.dbcVal[0],sdb:this.dbcVal[1]?this.dbcVal[1]:this.sdbVal.label,files:e&&this.sdbCustom[this.sdbVal.value].files.length>0?this.sdbCustom[this.sdbVal.value].files:[],comments:e&&this.sdbCustom[this.sdbVal.value].comments.length>0?this.sdbCustom[this.sdbVal.value].comments:[],curId:this.curId,fileType:this.fileType,isBigFile:this.isBigFile,sendReAdjust:this.adaptedMode?{isConfirm:!0,reMatchRes:this.adaptionList.map((e=>({matched_busId:+e.dbcComment.key,origin_busId:e.origin_busId,dbcComment:e.dbcComment.value})))}:{isConfirm:!1}})},async getSelfAdaption(){this.dataLoading=!0,"blf"===this.fileType||"frameAnalysis"===this.$props.from?await k["frameAnalysis"===this.$props.from?"blfTraceFromLogging":"eteReader"===this.$props.from?"ete":"blf"].selfAdaption({blfFile:this.directory,mode:this.adaptedMode}).then((e=>{this.adaptionOpt=[],this.adaptionList=[],-1!==e.data.channelComment?(this.adaptionOpt=Object.entries(e.data.channelComment).map((([e,t])=>({key:e,value:t}))),this.adaptionList=e.data.matched_res.sort(((e,t)=>e.origin_busId-t.origin_busId)).map(((e,t)=>({dbcComment:{key:this.adaptionOpt.find((t=>t.value===e.dbcComment)).key,value:e.dbcComment},matchRate:e.matchRate,matched_busId:e.matched_busId,origin_busId:e.origin_busId})))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})})).finally((()=>{this.dataLoading=!1})):"asc"===this.fileType&&"frameAnalysis"!=this.$props.from?(await k.ascReader.getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then((e=>{this.$emit("updateDefaultOptions",e.data)})),await k.ascReader.selfAdaption({ascFile:this.directory,mode:this.adaptedMode}).then((e=>{this.adaptionOpt=[],this.adaptionList=[],-1!==e.data.channelComment?(this.adaptionOpt=Object.entries(e.data.channelComment).map((([e,t])=>({key:e,value:t}))),this.adaptionList=e.data.matched_res.sort(((e,t)=>e.origin_busId-t.origin_busId)).map(((e,t)=>({dbcComment:{key:this.adaptionOpt.find((t=>t.value===e.dbcComment)).key,value:e.dbcComment},matchRate:e.matchRate,matched_busId:e.matched_busId,origin_busId:e.origin_busId})))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})})).finally((()=>{this.dataLoading=!1}))):"frameAnalysis"!=this.$props.from&&(await k.logReader.getDBC({carType:this.dbcVal[0],sdb:this.dbcVal[1]}).then((e=>{this.$emit("updateDefaultOptions",e.data)})),await k.logReader.selfAdaption({logFile:this.directory,mode:this.adaptedMode}).then((e=>{this.adaptionOpt=[],this.adaptionList=[],-1!==e.data.channelComment?(this.adaptionOpt=Object.entries(e.data.channelComment).map((([e,t])=>({key:e,value:t}))),this.adaptionList=e.data.matched_res.sort(((e,t)=>e.origin_busId-t.origin_busId)).map(((e,t)=>({dbcComment:{key:this.adaptionOpt.find((t=>t.value===e.dbcComment)).key,value:e.dbcComment},matchRate:e.matchRate,matched_busId:e.matched_busId,origin_busId:e.origin_busId})))):this.showMessage({level:"error",content:e.data.msg,timeout:2e3})})).finally((()=>{this.dataLoading=!1})))},showMessage({level:e,content:t,timeout:a}){clearTimeout(ee),null!=e&&(this.message.level=e),null!=t&&(this.message.content=t),this.message.visible=!0,a>0&&(ee=setTimeout((()=>{this.message.visible=!1}),a))},deleteDBC(e){this.adaptionList[e].matchRate=""}}},se=e=>(f("data-v-8f404091"),e=e(),y(),e),ie=["data-loading"],le={class:"o-dialog-wrap"},de={class:"o-dialog-header-wrap"},oe={class:"o-dialog-title"},ce={class:"o-dialog-container-wrap"},ne={class:"o-import-configuration"},re=se((()=>n("div",{class:"o-dialog-item-tit"},"导入参数配置",-1))),he={class:"o-dialog-item-wrap"},pe=se((()=>n("span",{class:"o-dialog-item"},"导入文件",-1))),me={key:0,class:"o-dialog-item-p"},be={class:"o-dialog-item-wrap"},ue=se((()=>n("span",{class:"o-dialog-item"},"DBC配置",-1))),fe={class:"o-dialog-item-select"},ye={key:0},ge=["value"],ve={class:"icon-ques"},Ce=["data-loading"],ke=se((()=>n("tr",null,[n("th",null,"chn"),n("th",null,"dbc_chn"),n("th",null,"rate")],-1))),Ve={style:{width:"100px"}},we={key:1,class:"o-td-center",style:{width:"260px",height:"33.6px","line-height":"33.6px"}},De=["onClick"],Te={style:{width:"100px"}},Ae={key:0,class:"o-content-view"},_e={class:"o-dialog-item-wrap"},$e=se((()=>n("span",{class:"o-dialog-item"},"通道配置",-1))),xe={style:{width:"30%"}},Me=se((()=>n("span",{style:{color:"#D9D9D9","font-size":"18px",margin:"0 0px 2px 16px"}},"|",-1))),Ie=se((()=>n("i",{class:"t-icon rename"},null,-1))),Le=se((()=>n("span",null,"重命名",-1))),Oe=se((()=>n("i",{class:"t-icon delete"},null,-1))),Be=se((()=>n("span",null,"删除模板",-1))),Fe=[se((()=>n("i",{class:"t-icon copy"},null,-1))),se((()=>n("span",null,"复制为新模板",-1)))],Se={class:"o-dialog-table"},Re=L('<div class="o-dialog-table-title" data-v-8f404091><span class="o-table-can" style="font-weight:bold;" data-v-8f404091>通道</span><span style="color:#D9D9D9;font-size:18px;margin-right:12px;" data-v-8f404091>|</span><span style="font-weight:bold;width:364px;display:inline-block;" data-v-8f404091>DBC文件</span><span style="color:#D9D9D9;font-size:18px;margin-right:12px;" data-v-8f404091>|</span><span class="o-table-remark" style="font-weight:bold;" data-v-8f404091>通道备注</span></div>',1),Ue={class:"o-dialog-table-item"},Ne={class:"o-table-can o-dialog-table-can",style:{"font-size":"18px",color:"#666"}},Pe={key:0},Ee={class:"o-input-wrap"},je=["title"],qe=["onClick"],Ge=["onClick"],Je=["onUpdate:modelValue"],ze={key:1,class:"o-choose-view"},He=se((()=>n("div",{class:"o-dialog-item-tit"},"选择视图",-1))),Ke={class:"o-dialog-card-wrap"},Qe=["onClick"],We={class:"o-dialog-card-header"},Xe={class:"o-dialog-card-tit"},Ye={key:0,class:"i-checked"},Ze={key:1,class:"i-check-box"},et={class:"o-modal-card-container"},tt={class:"o-dialog-footer-wrap"},at={class:"o-dialog-footer"};e("I",l(ae,[["render",function(e,t,a,s,i,l){const u=d("CopyPath"),f=d("Cascader"),y=d("v-select"),g=d("AddOrSelector"),v=d("RenameTool"),C=d("TipModal"),k=d("Button"),V=d("Message"),w=D("tooltip"),L=D("esc");return r((o(),c("div",{class:"o-import-dialog","data-loading":i.changeDbcLoading},[n("div",le,[n("div",de,[n("div",oe,T(e.$props.title),1),n("i",{class:"o-dialog-title-close",onClick:t[0]||(t[0]=t=>e.$emit("cancel"))})]),n("div",ce,[n("div",ne,[re,n("div",he,[pe,i.directory?(o(),c("p",me,[p(u,{path:i.directory,length:68},null,8,["path"])])):A("",!0),n("a",{class:"chose-file",onClick:t[1]||(t[1]=(...e)=>l.choosePath&&l.choosePath(...e)),style:{width:"70px"}},"选择文件")]),"mdf"!==l.fileType?(o(),c(_,{key:0},[n("div",be,[ue,n("div",fe,[p(f,{options:l.dbcVerOpts,modelValue:i.dbcVal,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dbcVal=e)},null,8,["options","modelValue"])]),i.adaCheckFlag?(o(),c("div",ye,[(o(!0),c(_,null,$(i.adaCheckList,((e,a)=>(o(),c("label",{class:"o-input record-header-message-imp",key:a},[b(" "),r(n("input",{name:"pull_type",type:"radio","onUpdate:modelValue":t[3]||(t[3]=e=>i.adaptedType=e),value:a},null,8,ge),[[x,i.adaptedType]]),b(T(e.label),1)])))),128)),r(n("i",ve,null,512),[[w,"仅对前10万帧数据进行匹配dbc配置"]])])):A("",!0)]),r(n("table",{class:"adp-er timechart-er","data-loading":i.dataLoading},[ke,(o(!0),c(_,null,$(i.adaptionList,((e,t)=>(o(),c("tr",{key:t,style:{height:"33.6px","line-height":"33.6px"}},[n("td",Ve,"CAN "+T(e.origin_busId),1),""===e.matchRate?(o(),M(y,{key:0,style:{width:"260px"},options:i.adaptionOpt,clearable:!1,label:"value",value:"key",modelValue:i.adaptionList[t].dbcComment,"onUpdate:modelValue":e=>i.adaptionList[t].dbcComment=e,class:"chf-input-ecu"},null,8,["options","modelValue","onUpdate:modelValue"])):(o(),c("td",we,[b(T(e.dbcComment.value)+"   ",1),n("i",{class:"i-close",onClick:e=>l.deleteDBC(t)},null,8,De)])),n("td",Te,T(e.matchRate),1)])))),128))],8,Ce),[[I,"adapted"===i.adaptedType||"quickAdapted"===i.adaptedType]])],64)):A("",!0)]),"自定义模板"===i.dbcVal[0]&&"mdf"!==l.fileType?(o(),c("div",Ae,[n("div",_e,[$e,n("div",xe,[p(g,{options:l.customOpts,value:"value",label:"label",modelValue:i.sdbVal,"onUpdate:modelValue":t[4]||(t[4]=e=>i.sdbVal=e),onAdd:l.onAdd},null,8,["options","modelValue","onAdd"])]),Me,n("div",{class:"head-btn",onClick:t[5]||(t[5]=e=>l.reNameModule())},[Ie,Le,i.showRenameModal?(o(),M(v,{key:0,onOk:l.clickRename,cardName:i.sdbVal.label,onRenameCancel:l.cancelRename},null,8,["onOk","cardName","onRenameCancel"])):A("",!0)]),i.treeData[e.$props.curViewInx].sdb!==i.sdbVal.label&&"mdf"!==i.sdbVal.label?(o(),c("div",{key:0,class:"head-btn delete-module",id:"delete_module",onClick:t[6]||(t[6]=e=>l.deleteModule())},[Oe,Be,i.showDeleteModal?(o(),M(C,{key:0,onOk:l.clickTipModal,onDelCancel:l.cancelTipModal},null,8,["onOk","onDelCancel"])):A("",!0)])):A("",!0),n("div",{class:"head-btn",id:"copy_module",onClick:t[7]||(t[7]=e=>l.copyModule())},Fe)]),n("div",Se,[Re,n("div",Ue,[(o(!0),c(_,null,$(i.sdbCustom[i.sdbVal.value]?.files||[],((e,t)=>(o(),c("div",{class:"o-table-item-wrap",key:t},[n("span",Ne,[b("CAN"),t<9?(o(),c("span",Pe," ")):A("",!0),b(T(t+1),1)]),n("div",Ee,[r((o(),c("div",{class:"o-table-dbc chs-input-er input-overflow-sty",title:e||"--"},[b(T(e||"--"),1)],8,je)),[[w,e]]),r(n("i",{class:"t-icon delete-file",onClick:e=>l.delDbcPath(t)},null,8,qe),[[I,e]]),n("a",{class:"chose-file chose-dbc-file",onClick:e=>l.chooseDbcPath(t)},"选择",8,Ge)]),r(n("input",{class:"o-table-remark chs-input-er",placeholder:"通道描述","onUpdate:modelValue":e=>i.sdbCustom[i.sdbVal.value].comments[t]=e},null,8,Je),[[h,i.sdbCustom[i.sdbVal.value].comments[t]]])])))),128))])])])):A("",!0),"tinyBattery"!==e.$props.from&&"eteReader"!=e.$props.from&&"frameAnalysis"!=e.$props.from?(o(),c("div",ze,[He,n("div",Ke,[(o(!0),c(_,null,$(l.cardView,(e=>(o(),c("div",{class:"o-dialog-card",key:e.id,onClick:t=>l.selectCard(e.id)},[n("div",We,[n("span",Xe,T(e.title),1),i.curId===e.id?(o(),c("i",Ye)):(o(),c("i",Ze))]),n("div",et,T(e.content),1)],8,Qe)))),128))])])):A("",!0)]),n("div",tt,[n("div",at,[p(k,{style:{width:"52px"},onClick:t[8]||(t[8]=e=>l.reSet())},{default:m((()=>[b("重置")])),_:1}),p(k,{type:"primary","data-cy":"importFileBtn",disabled:!l.formValid,style:{width:"52px",margin:"0 20px 0 10px"},onClick:l.submit},{default:m((()=>[b("确定")])),_:1},8,["disabled","onClick"])])])]),p(V,{message:i.message},null,8,["message"])],8,ie)),[[L,()=>e.$emit("cancel")]])}],["__scopeId","data-v-8f404091"]]))}}}));
