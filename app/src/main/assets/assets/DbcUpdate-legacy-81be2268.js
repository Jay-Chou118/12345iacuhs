System.register(["./Header-legacy-d058d22f.js","./CopyPath-legacy-50b7d2f6.js","./Button-legacy-369e3127.js","./Message-legacy-24c75713.js","./index-legacy-b47698ab.js"],(function(e,s){"use strict";var a,t,i,o,n,l,p,c,d,r,u,b,g,f,m,y,h,k,w;return{setters:[e=>{a=e.H},e=>{t=e.C},e=>{i=e.B},e=>{o=e.M},e=>{n=e._,l=e.e,p=e.r,c=e.c,d=e.h,r=e.d,u=e.t,b=e.a,g=e.f,f=e.i,m=e.w,y=e.v,h=e.o,k=e.p,w=e.b}],execute:function(){const s={name:"tsp-assistant",private:!0,version:"1.2.8",description:"TSP 辅助工具 由 整车基础软件部-软件开发平台及数据运营-软件集成及工具链 团队支持",keywords:["TSP","assistant","辅助工具","调试助手","小米","小米汽车"],author:{name:"整软"},scripts:{prepare:"run-script-os",server:"run-script-os",client:"run-script-os",web:"run-script-os",build:"run-script-os","test:server":"run-script-os","prepare:win32":"python -m pip install -r requirements.txt","prepare:darwin":"python3.10 -m pip install -r requirements.txt","prepare:linux":"python3.8 -m pip install -r requirements.txt","server:linux":"python3.8 backend/server.py","server:darwin":"python3.10 backend/server.py","server:win32":"python backend/server.py","client:win32":"python backend/TSPA.py","client:linux":"python3.8 backend/TSPA.py","client:darwin":"python3.10 backend/TSPA.py","test:server:win32":"python -m pytest ./tests","test:server:darwin":"python3.10  -m pytest ./tests","test:server:linux":"python3.8  -m pytest ./tests","test:web":"cypress run --headed --browser edge --config-file cypress.config.js","test:watch":"cypress open","web:default":"vite --host --port 5173",prebuild:"node ./scripts/prebuild.mjs",postbuild:"run-script-os","postbuild:win32":"python ./scripts/postbuild.py","postbuild:darwin":"python3.10 ./scripts/postbuild.py","postbuild:linux":"python3.8 ./scripts/postbuild.py","publish-update":"run-script-os","publish-update:win32":"python ./scripts/publish-update.py","publish-update:darwin":"python3.10 ./scripts/publish-update.py","publish-update:linux":"python3.8 ./scripts/publish-update.py",publish:"node ./scripts/publish.mjs","build:web":"vite build","build:android":"vite build --config vite.config.android.js","build:win32":"time /t && python -m nuitka --enable-console --standalone --windows-icon-from-ico=public/logo.ico   --include-data-dir=backend/www=www --include-data-dir=backend/apps/pullData/usr=apps/pullData/usr --include-data-file=backend/apps/pullData/usr/bin/*.dll=apps/pullData/usr/bin/  --include-data-file=backend/apps/blft/assets/bin/*.dll=apps/blft/assets/bin/ --include-data-file=backend/apps/blfMerge/assets/*.dll=apps/blfMerge/assets/ --include-data-file=backend/apps/blfCpp/assets/*.dll=apps/blfCpp/assets/  --include-data-file=backend/apps/blfMAT/assets/*.dll=apps/blfMAT/assets/ --include-data-file=backend/apps/mdfReader/*.db=apps/mdfReader/ --include-data-file=backend/apps/blfTraceCpp/assets/*.dll=apps/blfTraceCpp/assets/ --include-data-dir=backend/logging_unit=logging_unit --include-data-file=backend/logging_unit/*.dll=logging_unit/ --include-data-file=backend/apps/E2ECheck/assets/*.dll=apps/E2ECheck/assets/  --include-data-file=backend/apps/E2ECheck/datas/*.csv=apps/E2ECheck/datas/ --include-data-file=backend/apps/shared_pkg/*.py=apps/shared_pkg/ --include-data-file=backend/apps/blfMAT/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/bflfMAT/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/apps/blfCpp/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/blfCpp/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/adb/*=adb/  --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/apps/shared_pkg/*.json=apps/shared_pkg/ --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/ --follow-imports --nofollow-import-to=snappy --nofollow-import-to=pandas --nofollow-import-to=jinja2  --nofollow-import-to=numpy --nofollow-import-to=scipy  --nofollow-import-to=matplotlib --nofollow-import-to=asammdf --nofollow-import-to=werkzeug backend/TSPA.py&& time /t","build:linux":"date && python3.8 -m nuitka --enable-console --standalone --include-data-dir=backend/www=www --include-data-file=backend/apps/blfMerge/assets/*.so=apps/blfMerge/assets/ --include-data-dir=backend/logging_unit=logging_unit --include-data-file=backend/logging_unit/*.so=logging_unit/ --include-data-file=backend/apps/blfCpp/assets/*.so=apps/blfCpp/assets/ --include-data-file=backend/apps/blfCpp/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/blfCpp/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/apps/shared_pkg/*.py=apps/shared_pkg/ --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/ --include-data-file=backend/apps/shared_pkg/*.json=apps/shared_pkg/  --follow-imports --include-data-file=backend/apps/mdfReader/*.db=apps/mdfReader/ --nofollow-import-to=snappy --nofollow-import-to=pandas --nofollow-import-to=jinja2  --nofollow-import-to=numpy --nofollow-import-to=scipy  --nofollow-import-to=matplotlib --nofollow-import-to=asammdf --nofollow-import-to=werkzeug --nofollow-import-to=gi backend/TSPA.py && date","build:darwin":"date && python3.10 -m nuitka --macos-create-app-bundle --macos-app-icon=setup/deb/usr/share/icons/TSPA/logo.icns --enable-console --standalone --include-data-dir=backend/www=www --include-data-file=backend/apps/shared_pkg/*.py=apps/shared_pkg/ --include-data-dir=backend/logging_unit=logging_unit --include-data-file=backend/logging_unit/mac-arm64/*.dylib=logging_unit/mac-arm64/ --include-data-dir=backend/logging_unit/mac-arm64/=logging_unit/mac-arm64/ --include-data-file=backend/logging_unit/mac-intel/*.dylib=logging_unit/mac-intel/ --include-data-dir=backend/logging_unit/mac-intel/=logging_unit/mac-intel/ --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib/ --include-data-file=backend/apps/blfCpp/assets/*.dylib=apps/blfCpp/assets/ --include-data-file=backend/apps/blfMerge/assets/*.dylib=apps/blfMerge/assets/ --include-data-file=backend/apps/mdfReader/*.db=apps/mdfReader/ --include-data-file=backend/apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/*=apps/shared_pkg/bdaces/cfignsf/Extp2DceSpicProtIo/Lib_ldf/ --include-data-file=backend/apps/shared_pkg/*.json=apps/shared_pkg/ --follow-imports --nofollow-import-to=snappy --nofollow-import-to=pandas --nofollow-import-to=jinja2  --nofollow-import-to=numpy --nofollow-import-to=scipy  --nofollow-import-to=matplotlib --nofollow-import-to=asammdf --nofollow-import-to=werkzeug backend/TSPA.py && date","build:setup.exe":"C:\\PROGRA~2\\NSIS\\makensis.exe setup.nsi",apidoc:"apidoc -t ./node_modules/@gitawego/apidoc-theme/template -i backend -o backend/www/docs"},dependencies:{"@he-tree/vue":"^2.7.0","@vitejs/plugin-legacy":"^4.1.1","@vue/compiler-sfc":"^3.3.7",axios:"^1.6.0",binarysearch:"^1.0.1","draggable-polyfill":"^1.2.4","driver.js":"^1.3.0","ev-timeplot":"git+https://git.n.xiaomi.com/ev-fe/ev-timeplot.git#main","fake-progress":"^1.0.4","floating-vue":"^2.0.0-beta.24","js-cookie":"^3.0.5","node-jq":"^4.3.1","normalize-path":"^3.0.0",qs:"^6.11.2","resize-observer-polyfill":"^1.5.1","rollup-plugin-visualizer":"^5.9.2","stats.js":"^0.17.0",uplot:"^1.6.27",vconsole:"^3.15.1",vue:"^3.3.7","vue-ls":"^4.2.0","vue-router":"^4.2.5","vue-select":"^4.0.0-beta.6","vue-slider-component":"^4.1.0-beta.7","vue-virtual-scroller":"^2.0.0-beta.8"},devDependencies:{"@gitawego/apidoc-theme":"^1.0.2","@rollup/plugin-strip":"^3.0.4","@vitejs/plugin-vue":"^4.4.0",apidoc:"^1.2.0","changelog-parser":"^3.0.1",concurrently:"^8.2.2","cross-env":"^7.0.3",cypress:"^12.17.2",execa:"^8.0.1","iconv-lite":"^0.6.3",less:"^4.2.0","rollup-plugin-external-globals":"^0.9.0","run-script-os":"^1.1.6",vite:"^4.5.0","vite-plugin-html":"^3.2.0","wait-on":"^7.0.1"}};let v=0;const _={props:["store"],components:{Button:i,Header:a,CopyPath:t,Message:o},data:()=>({consoleText:"",errorNumber:0,directory:"",onFlag:!0,chartDataLoaded:!0,fileDirectory:[],fileDirectoryStr:"",inputFiles:[],fileTypesList:[],dbcCheckValid:!1,recLoading:!1,recLoadingProgress:"",showWaitWarn:!1,showWaitWarnMsg:"",consoleText:"",respData:[],message:{visible:!1,level:"",content:""},localDBCVersion:"",latestLocalDBCVersion:""}),watch:{chartDataLoaded(e,s){e?(document.querySelector("#app").style.cursor="",document.querySelector(".back-icon").style.pointerEvents="",document.querySelector(".record-header").style.cursor="",document.querySelector(".o-pul-er").style.pointerEvents="",document.querySelector(".o-menu").style.pointerEvents=""):(document.querySelector("#app").style.cursor="wait",document.querySelector(".back-icon").style.pointerEvents="none",document.querySelector(".o-pul-er").style.pointerEvents="none",document.querySelector(".o-menu").style.pointerEvents="none")}},computed:{dbcCheckValid(){if(this.localDBCVersion!==this.latestLocalDBCVersion)return!0;this.$nextTick((()=>!1))},quitConfirm(){return!!this.directory.trim()}},mounted(){this.getLocalDBCVersion()},methods:{async getLocalDBCVersion(){console.log("doc111",s.DBC_version),this.localDBCVersion=s.DBC_version},async checkUpsetVersion(){await l.confUpdate.getLastestConf({file_type:"DBC"}).then((e=>{console.log("获取最新的配置版本号",e,e.status),200===e.status&&(this.latestLocalDBCVersion=e.data.DBC_latest_version)}))},showMessage({level:e,content:s,timeout:a}){clearTimeout(v),null!=e&&(this.message.level=e),null!=s&&(this.message.content=s),this.message.visible=!0,a>0&&(v=setTimeout((()=>{console.log(v,"msgTimer"),this.message.visible=!1}),a))}}},C=e=>(k("data-v-e356471f"),e=e(),w(),e),D={class:"diagnostics-data"},x={class:"o-pul-er",id:"el-record-form"},S=C((()=>r("div",{class:"o-pul-title"},"DBC导入配置",-1))),L={class:"o-pul-p"},E={class:"record-header-message"},P={key:0,class:"o-warn"},T=C((()=>r("i",{class:"warn-icon"},null,-1))),j={class:"o-pul-p"},B={class:"record-header-message"},I={key:0,class:"o-pul-p start-rec"},q=C((()=>r("i",{class:"play-icon"},null,-1))),M=["data-empty"],V=C((()=>r("div",{class:"o-console-wrap"},[r("div",{class:"o-console-title"},"更新结果")],-1))),A=["data-loading"];e("default",n(_,[["render",function(e,s,a,t,i,o){const n=p("Header"),l=p("Button"),k=p("Message");return h(),c("div",D,[d(n,{title:"DBC云端同步",quitConfirm:o.quitConfirm,showRight:!0,carNum:e.$props.store.connectCar.carNum,connectStatus:e.$props.store.connectCar.status,recentTest:e.$props.store.connectCar.latest},null,8,["quitConfirm","carNum","connectStatus","recentTest"]),r("div",x,[S,r("div",L,[r("span",E,"当前DBC版本："+u(i.localDBCVersion),1),i.showWaitWarn?(h(),c("div",P,[T,b(u(i.showWaitWarnMsg),1)])):g("",!0)]),r("div",j,[r("span",B,"最新DBC版本："+u(i.latestLocalDBCVersion),1),b("   "),d(l,{onClick:o.checkUpsetVersion},{default:f((()=>[b("获取最新配置版本号")])),_:1},8,["onClick"])]),i.onFlag?(h(),c("div",I,[d(l,{type:"primary",disabled:!o.dbcCheckValid,progress:i.recLoadingProgress,loading:i.recLoading},{default:f((()=>[q,b("开始更新")])),_:1},8,["disabled","progress","loading"])])):g("",!0)]),r("div",{class:"o-console-er","data-empty":""===i.consoleText,id:"el-record-console"},[V,m(r("div",{class:"o-console-body","data-loading":!i.chartDataLoaded},u(i.consoleText),9,A),[[y,i.consoleText]])],8,M),d(k,{message:i.message},null,8,["message"])])}],["__scopeId","data-v-e356471f"]]))}}}));
