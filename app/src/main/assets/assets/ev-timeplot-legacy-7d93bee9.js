System.register(["./index-legacy-59a8d9a2.js"],(function(t,e){"use strict";var n,i,r,s,o,l,a,u,c,d,h,p,f,m,g,y,b,x,w,k,S,D,E,_,T,A,C,P,M,O,R,V,$,F,z,B,j,N,H,L,Y,I,X,U,W,G,K,q,Z,J,Q,tt,et,nt,it,rt,st,ot,lt,at,ut,ct,dt,ht,pt,ft,mt,vt,gt,yt,bt,xt,wt,kt,St,Dt,Et,_t,Tt,At,Ct,Pt,Mt,Ot,Rt,Vt,$t,Ft,zt,Bt,jt,Nt,Ht,Lt,Yt,It,Xt,Ut,Wt,Gt,Kt,qt,Zt,Jt,Qt,te,ee,ne,ie,re,se,oe,le,ae,ue,ce,de,he,pe,fe,me,ve,ge,ye,be,xe,we,ke,Se,De,Ee,_e,Te,Ae,Ce,Pe,Me,Oe,Re,Ve,$e,Fe,ze,Be,je,Ne,He,Le,Ye,Ie,Xe,Ue,We,Ge,Ke,qe;return{setters:[t=>{n=t.X,i=t.Y,r=t.Z,s=t.$,o=t.F,l=t.a0,a=t.a1,u=t.a2,c=t.a3,d=t.a4,h=t.a5,p=t.a6,f=t.a7,m=t.a8,g=t.a9,y=t.aa,b=t.ab,x=t.ac,w=t.ad,k=t.ae,S=t.af,D=t.Q,E=t.ag,_=t.A,T=t.f,A=t.c,C=t.d,P=t.ah,M=t.ai,O=t.aj,R=t.ak,V=t.al,$=t.C,F=t.a,z=t.h,B=t.am,j=t.an,N=t.O,H=t.ao,L=t.ap,Y=t.aq,I=t.ar,X=t.as,U=t.at,W=t.au,G=t.av,K=t.aw,q=t.ax,Z=t.ay,J=t.az,Q=t.aA,tt=t.aB,et=t.aC,nt=t.aD,it=t.aE,rt=t.aF,st=t.aG,ot=t.aH,lt=t.aI,at=t.aJ,ut=t.aK,ct=t.aL,dt=t.aM,ht=t.aN,pt=t.aO,ft=t.aP,mt=t.aQ,vt=t.aR,gt=t.aS,yt=t.aT,bt=t.aU,xt=t.aV,wt=t.W,kt=t.y,St=t.aW,Dt=t.B,Et=t.aX,_t=t.aY,Tt=t.aZ,At=t.a_,Ct=t.a$,Pt=t.b0,Mt=t.V,Ot=t.b1,Rt=t.b2,Vt=t.b3,$t=t.b4,Ft=t.b5,zt=t.b6,Bt=t.o,jt=t.b,Nt=t.b7,Ht=t.b8,Lt=t.p,Yt=t.b9,It=t.R,Xt=t.ba,Ut=t.P,Wt=t.bb,Gt=t.bc,Kt=t.m,qt=t.K,Zt=t.r,Jt=t.l,Qt=t.bd,te=t.be,ee=t.bf,ne=t.bg,ie=t.bh,re=t.bi,se=t.bj,oe=t.bk,le=t.bl,ae=t.bm,ue=t.bn,ce=t.bo,de=t.t,he=t.bp,pe=t.bq,fe=t.br,me=t.bs,ve=t.bt,ge=t.bu,ye=t.bv,be=t.bw,xe=t.bx,we=t.by,ke=t.bz,Se=t.bA,De=t.bB,Ee=t.bC,_e=t.bD,Te=t.bE,Ae=t.E,Ce=t.bF,Pe=t.n,Me=t.N,Oe=t.g,Re=t.v,Ve=t.bG,$e=t.bH,Fe=t.U,ze=t.bI,Be=t.bJ,je=t.bK,Ne=t.bL,He=t.i,Le=t.bM,Ye=t.w,Ie=t.M,Xe=t.bN,Ue=t.x,We=t.bO,Ge=t.bP,Ke=t._,qe=t.bQ,t.bR}],execute:function(){const e=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:n,BaseTransitionPropsValidators:i,Comment:r,EffectScope:s,Fragment:o,KeepAlive:l,ReactiveEffect:a,Static:u,Suspense:c,Teleport:d,Text:h,Transition:p,TransitionGroup:f,VueElement:m,assertNumber:g,callWithAsyncErrorHandling:y,callWithErrorHandling:b,camelize:x,capitalize:w,cloneVNode:k,compatUtils:S,compile:()=>{},computed:D,createApp:E,createBlock:_,createCommentVNode:T,createElementBlock:A,createElementVNode:C,createHydrationRenderer:P,createPropsRestProxy:M,createRenderer:O,createSSRApp:R,createSlots:V,createStaticVNode:$,createTextVNode:F,createVNode:z,customRef:B,defineAsyncComponent:j,defineComponent:N,defineCustomElement:H,defineEmits:L,defineExpose:Y,defineModel:I,defineOptions:X,defineProps:U,defineSSRCustomElement:W,defineSlots:G,get devtools(){return K},effect:q,effectScope:Z,getCurrentInstance:J,getCurrentScope:Q,getTransitionRawChildren:tt,guardReactiveProps:et,h:nt,handleError:it,hasInjectionContext:rt,hydrate:st,initCustomFormatter:ot,initDirectivesForSSR:lt,inject:at,isMemoSame:ut,isProxy:ct,isReactive:dt,isReadonly:ht,isRef:pt,isRuntimeOnly:ft,isShallow:mt,isVNode:vt,markRaw:gt,mergeDefaults:yt,mergeModels:bt,mergeProps:xt,nextTick:wt,normalizeClass:kt,normalizeProps:St,normalizeStyle:Dt,onActivated:Et,onBeforeMount:_t,onBeforeUnmount:Tt,onBeforeUpdate:At,onDeactivated:Ct,onErrorCaptured:Pt,onMounted:Mt,onRenderTracked:Ot,onRenderTriggered:Rt,onScopeDispose:Vt,onServerPrefetch:$t,onUnmounted:Ft,onUpdated:zt,openBlock:Bt,popScopeId:jt,provide:Nt,proxyRefs:Ht,pushScopeId:Lt,queuePostFlushCb:Yt,reactive:It,readonly:Xt,ref:Ut,registerRuntimeCompiler:Wt,render:Gt,renderList:Kt,renderSlot:qt,resolveComponent:Zt,resolveDirective:Jt,resolveDynamicComponent:Qt,resolveFilter:te,resolveTransitionHooks:ee,setBlockTracking:ne,setDevtoolsHook:ie,setTransitionHooks:re,shallowReactive:se,shallowReadonly:oe,shallowRef:le,ssrContextKey:ae,ssrUtils:ue,stop:ce,toDisplayString:de,toHandlerKey:he,toHandlers:pe,toRaw:fe,toRef:me,toRefs:ve,toValue:ge,transformVNodeArgs:ye,triggerRef:be,unref:xe,useAttrs:we,useCssModule:ke,useCssVars:Se,useModel:De,useSSRContext:Ee,useSlots:_e,useTransitionState:Te,vModelCheckbox:Ae,vModelDynamic:Ce,vModelRadio:Pe,vModelSelect:Me,vModelText:Oe,vShow:Re,version:Ve,warn:$e,watch:Fe,watchEffect:ze,watchPostEffect:Be,watchSyncEffect:je,withAsyncContext:Ne,withCtx:He,withDefaults:Le,withDirectives:Ye,withKeys:Ie,withMemo:Xe,withModifiers:Ue,withScopeId:We},Symbol.toStringTag,{value:"Module"}));var Ze={exports:{}};!function(t,e){const n=function(t){t||(t={}),this.timeConstant=t.timeConstant||1e3,this.progress=0,this._running=!1,this._intervalFrequency=100,this.autoStart=t.autoStart||!1,this.parent=t.parent,this.parentStart=t.parentStart,this.parentEnd=t.parentEnd,this.autoStart&&this.start()};n.prototype.start=function(){this._time=0,this._intervalId=setInterval(this._onInterval.bind(this),this._intervalFrequency)},n.prototype._onInterval=function(){this._time+=this._intervalFrequency,this.setProgress(1-Math.exp(-1*this._time/this.timeConstant))},n.prototype.end=function(){this.stop(),this.setProgress(1)},n.prototype.stop=function(){clearInterval(this._intervalId),this._intervalId=null},n.prototype.createSubProgress=function(t){const e=t.start||this.progress,i=t.end||1,r=Object.assign({},t,{parent:this,parentStart:e,parentEnd:i,start:null,end:null});return new n(r)},n.prototype.setProgress=function(t){this.progress=t,this.parent&&this.parent.setProgress((this.parentEnd-this.parentStart)*this.progress+this.parentStart)},t.exports=n}(Ze);const Je=Ge(Ze.exports),Qe={class:"c-prog-er"};t("P",Ke({props:["second"],data:()=>({per:0}),mounted(){console.log("tm",this.second);var t=new Je({timeConstant:this.second/3,autoStart:!0});this.p=t;var e=setInterval((()=>{this.per=(100*t.progress).toFixed(1)+"%"}),1e3);(t=>{setTimeout((()=>{t()}),this.second)})((()=>{console.log("end"),t.end(),clearInterval(e),this.per="99%"}))},beforeUnmount(){this.p.end()},unmounted(){}},[["render",function(t,e,n,i,r,s){return Bt(),A("div",Qe,[C("div",{class:"c-prog-bar",style:Dt({width:r.per})},null,4)])}],["__scopeId","data-v-05388493"]]));const tn={props:["options","modelValue","placeholder","clearable","searchable"],emits:["add","update:modelValue"],data:()=>({text:"",opening:!1,focusing:!1}),computed:{valid(){return!!this.text.trim()}},watch:{modelValue(){this.focusing=!1,setTimeout((()=>{this.$nextTick((()=>{this.opening=!1}))}),100)}},mounted(){window.addEventListener("mousedown",this.winClick)},unmounted(){window.removeEventListener("mousedown",this.winClick)},methods:{winClick(t){let e=this.$refs.selector.$el;e&&0==e.contains(t.target)&&(this.focusing=!1,this.opening=!1)},onAdd(){this.valid&&(this.focusing=!1,this.opening=!1,this.$emit("add",{label:this.text,from:"AddOrSelector"}),this.text="")},shouldOpen(){return this.opening},onOpen(){console.log("onopen"),this.opening=!0},onClose(){console.log("onclose"),this.focusing||(this.opening=!1)},onFocus(t){console.log("focus"),this.focusing=!0,t.target.focus()},onUpdate(t){this.$emit("update:modelValue",t),this.opening=!1},onBlur(){console.log("blur"),this.focusing=!1}}},en=t=>(Lt("data-v-faf6b618"),t=t(),jt(),t),nn={key:0,class:"opt-tag"},rn={key:0,class:"opt-tag"},sn={class:"footer-er"},on={class:"footer-body"},ln=en((()=>C("div",{class:"hr"},null,-1))),an={class:"footer"},un=["placeholder"],cn=["data-disable"],dn=[en((()=>C("div",{class:"i-add"},null,-1))),en((()=>C("div",{class:"btn-text"},"新建",-1)))];t("A",Ke(tn,[["render",function(t,e,n,i,r,s){const o=Zt("v-select"),l=Jt("esc");return Ye((Bt(),_(o,{ref:"selector",options:t.$props.options,class:"c-addorselector",modelValue:t.$props.modelValue,"dropdown-should-open":s.shouldOpen,"onUpdate:modelValue":s.onUpdate,clearable:!1,searchable:!1,onOpen:s.onOpen,onClose:s.onClose,"onOption:selected":s.onBlur},{"selected-option":He((t=>[C("div",{class:"selected-option",onMousedown:e[0]||(e[0]=Ue((t=>r.opening=!r.opening),["stop","prevent"]))},[F(de(t.text||t.label),1),t.tag?(Bt(),A("div",nn,de(t.tag),1)):T("",!0)],32)])),option:He((t=>[C("div",{onMouseup:e[1]||(e[1]=Ue(((...t)=>s.onBlur&&s.onBlur(...t)),["stop"])),class:"opt"},[F(de(t.text||t.label),1),t.tag?(Bt(),A("div",rn,de(t.tag),1)):T("",!0)],32)])),"list-footer":He((()=>[C("div",sn,[C("div",on,[ln,C("div",an,[Ye(C("input",{class:"input",maxlength:"20",placeholder:t.$props.placeholder||"输入名称",onMousedown:e[2]||(e[2]=Ue(((...t)=>s.onFocus&&s.onFocus(...t)),["stop"])),"onUpdate:modelValue":e[3]||(e[3]=t=>r.text=t)},null,40,un),[[Oe,r.text]]),C("div",{class:"btn-er","data-disable":!s.valid,onMousedown:e[4]||(e[4]=Ue(((...t)=>s.onAdd&&s.onAdd(...t)),["prevent","stop"]))},dn,40,cn)])])])])),_:1},8,["options","modelValue","dropdown-should-open","onUpdate:modelValue","onOpen","onClose","onOption:selected"])),[[l,()=>r.focusing=!1]])}],["__scopeId","data-v-faf6b618"]]));const hn="u-off",pn="u-label",fn="width",mn="height",vn="top",gn="bottom",yn="left",bn="right",xn="#000",wn=xn+"0",kn="mousemove",Sn="mousedown",Dn="mouseup",En="mouseenter",_n="mouseleave",Tn="dblclick",An="change",Cn="dppxchange",Pn="--",Mn="undefined"!=typeof window,On=Mn?document:null,Rn=Mn?window:null,Vn=Mn?navigator:null;let $n,Fn;function zn(t,e){if(null!=e){let n=t.classList;!n.contains(e)&&n.add(e)}}function Bn(t,e){let n=t.classList;n.contains(e)&&n.remove(e)}function jn(t,e,n){t.style[e]=n+"px"}function Nn(t,e,n,i){let r=On.createElement(t);return null!=e&&zn(r,e),null!=n&&n.insertBefore(r,i),r}function Hn(t,e){return Nn("div",t,e)}const Ln=new WeakMap;function Yn(t,e,n,i,r){let s="translate("+e+"px,"+n+"px)";s!=Ln.get(t)&&(t.style.transform=s,Ln.set(t,s),e<0||n<0||e>i||n>r?zn(t,hn):Bn(t,hn))}const In=new WeakMap;function Xn(t,e,n){let i=e+n;i!=In.get(t)&&(In.set(t,i),t.style.background=e,t.style.borderColor=n)}const Un=new WeakMap;function Wn(t,e,n,i){let r=e+""+n;r!=Un.get(t)&&(Un.set(t,r),t.style.height=n+"px",t.style.width=e+"px",t.style.marginLeft=i?-e/2+"px":0,t.style.marginTop=i?-n/2+"px":0)}const Gn={passive:!0},Kn={...Gn,capture:!0};function qn(t,e,n,i){e.addEventListener(t,n,i?Kn:Gn)}function Zn(t,e,n,i){e.removeEventListener(t,n,i?Kn:Gn)}function Jn(t,e,n,i){let r;n=n||0;let s=(i=i||e.length-1)<=2147483647;for(;i-n>1;)r=s?n+i>>1:fi((n+i)/2),e[r]<t?n=r:i=r;return t-e[n]<=e[i]-t?n:i}function Qn(t,e,n,i){for(let r=1==i?e:n;r>=e&&r<=n;r+=i)if(null!=t[r])return r;return-1}function ti(t,e,n,i){let r=xi(t),s=xi(e),o=10==n?wi:ki;t==e&&(-1==r?(t*=n,e/=n):(t/=n,e*=n));let l=1==s?vi:fi,a=(1==r?fi:vi)(o(pi(t))),u=l(o(pi(e))),c=bi(n,a),d=bi(n,u);return 10==n&&(a<0&&(c=zi(c,-a)),u<0&&(d=zi(d,-u))),i||2==n?(t=c*r,e=d*s):(t=Fi(t,c),e=$i(e,d)),[t,e]}function ei(t,e,n,i){let r=ti(t,e,n,i);return 0==t&&(r[0]=0),0==e&&(r[1]=0),r}Mn&&function t(){let e=devicePixelRatio;$n!=e&&($n=e,Fn&&Zn(An,Fn,t),Fn=matchMedia(`(min-resolution: ${$n-.001}dppx) and (max-resolution: ${$n+.001}dppx)`),qn(An,Fn,t),Rn.dispatchEvent(new CustomEvent(Cn)))}();const ni=.1,ii={mode:3,pad:ni},ri={pad:0,soft:null,mode:0},si={min:ri,max:ri};function oi(t,e,n,i){return Wi(n)?ai(t,e,n):(ri.pad=n,ri.soft=i?0:null,ri.mode=i?3:0,ai(t,e,si))}function li(t,e){return null==t?e:t}function ai(t,e,n){let i=n.min,r=n.max,s=li(i.pad,0),o=li(r.pad,0),l=li(i.hard,-Di),a=li(r.hard,Di),u=li(i.soft,Di),c=li(r.soft,-Di),d=li(i.mode,0),h=li(r.mode,0),p=e-t,f=wi(p),m=yi(pi(t),pi(e)),v=wi(m),g=pi(v-f);(p<1e-9||g>10)&&(p=0,0!=t&&0!=e||(p=1e-9,2==d&&u!=Di&&(s=0),2==h&&c!=-Di&&(o=0)));let y=p||m||1e3,b=wi(y),x=bi(10,fi(b)),w=zi(Fi(t-y*(0==p?0==t?.1:1:s),x/10),9),k=t>=u&&(1==d||3==d&&w<=u||2==d&&w>=u)?u:Di,S=yi(l,w<k&&t>=k?k:gi(k,w)),D=zi($i(e+y*(0==p?0==e?.1:1:o),x/10),9),E=e<=c&&(1==h||3==h&&D>=c||2==h&&D<=c)?c:-Di,_=gi(a,D>E&&e<=E?E:yi(E,D));return S==_&&0==S&&(_=100),[S,_]}const ui=new Intl.NumberFormat(Mn?Vn.language:"en-US"),ci=t=>ui.format(t),di=Math,hi=di.PI,pi=di.abs,fi=di.floor,mi=di.round,vi=di.ceil,gi=di.min,yi=di.max,bi=di.pow,xi=di.sign,wi=di.log10,ki=di.log2,Si=(t,e=1)=>di.asinh(t/e),Di=1/0;function Ei(t){return 1+(0|wi((t^t>>31)-(t>>31)))}function _i(t,e,n){return gi(yi(t,e),n)}function Ti(t){return"function"==typeof t?t:()=>t}const Ai=t=>t,Ci=(t,e)=>e,Pi=t=>null,Mi=t=>!0,Oi=(t,e)=>t==e,Ri=t=>zi(t,14);function Vi(t,e){return Ri(zi(Ri(t/e))*e)}function $i(t,e){return Ri(vi(Ri(t/e))*e)}function Fi(t,e){return Ri(fi(Ri(t/e))*e)}function zi(t,e=0){if(Xi(t))return t;let n=10**e,i=t*n*(1+Number.EPSILON);return mi(i)/n}const Bi=new Map;function ji(t){return((""+t).split(".")[1]||"").length}function Ni(t,e,n,i){let r=[],s=i.map(ji);for(let o=e;o<n;o++){let e=pi(o),n=zi(bi(t,o),e);for(let t=0;t<i.length;t++){let l=i[t]*n,a=(l>=0&&o>=0?0:e)+(o>=s[t]?0:s[t]),u=zi(l,a);r.push(u),Bi.set(u,a)}}return r}const Hi={},Li=[],Yi=[null,null],Ii=Array.isArray,Xi=Number.isInteger;function Ui(t){return"string"==typeof t}function Wi(t){let e=!1;if(null!=t){let n=t.constructor;e=null==n||n==Object}return e}function Gi(t){return null!=t&&"object"==typeof t}const Ki=Object.getPrototypeOf(Uint8Array);function qi(t,e=Wi){let n;if(Ii(t)){let i=t.find((t=>null!=t));if(Ii(i)||e(i)){n=Array(t.length);for(let i=0;i<t.length;i++)n[i]=qi(t[i],e)}else n=t.slice()}else if(t instanceof Ki)n=t.slice();else if(e(t)){n={};for(let i in t)n[i]=qi(t[i],e)}else n=t;return n}function Zi(t){let e=arguments;for(let n=1;n<e.length;n++){let i=e[n];for(let e in i)Wi(t[e])?Zi(t[e],qi(i[e])):t[e]=qi(i[e])}return t}function Ji(t,e,n){for(let i,r=0,s=-1;r<e.length;r++){let o=e[r];if(o>s){for(i=o-1;i>=0&&null==t[i];)t[i--]=null;for(i=o+1;i<n&&null==t[i];)t[s=i++]=null}}}const Qi="undefined"==typeof queueMicrotask?t=>Promise.resolve().then(t):queueMicrotask,tr=["January","February","March","April","May","June","July","August","September","October","November","December"],er=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function nr(t){return t.slice(0,3)}const ir=er.map(nr),rr=tr.map(nr),sr={MMMM:tr,MMM:rr,WWWW:er,WWW:ir};function or(t){return(t<10?"0":"")+t}const lr={YYYY:t=>t.getFullYear(),YY:t=>(t.getFullYear()+"").slice(2),MMMM:(t,e)=>e.MMMM[t.getMonth()],MMM:(t,e)=>e.MMM[t.getMonth()],MM:t=>or(t.getMonth()+1),M:t=>t.getMonth()+1,DD:t=>or(t.getDate()),D:t=>t.getDate(),WWWW:(t,e)=>e.WWWW[t.getDay()],WWW:(t,e)=>e.WWW[t.getDay()],HH:t=>or(t.getHours()),H:t=>t.getHours(),h:t=>{let e=t.getHours();return 0==e?12:e>12?e-12:e},AA:t=>t.getHours()>=12?"PM":"AM",aa:t=>t.getHours()>=12?"pm":"am",a:t=>t.getHours()>=12?"p":"a",mm:t=>or(t.getMinutes()),m:t=>t.getMinutes(),ss:t=>or(t.getSeconds()),s:t=>t.getSeconds(),fff:t=>{return((e=t.getMilliseconds())<10?"00":e<100?"0":"")+e;var e}};function ar(t,e){e=e||sr;let n,i=[],r=/\{([a-z]+)\}|[^{]+/gi;for(;n=r.exec(t);)i.push("{"==n[0][0]?lr[n[1]]:n[0]);return t=>{let n="";for(let r=0;r<i.length;r++)n+="string"==typeof i[r]?i[r]:i[r](t,e);return n}}const ur=(new Intl.DateTimeFormat).resolvedOptions().timeZone,cr=t=>t%1==0,dr=[1,2,2.5,5],hr=Ni(10,-16,0,dr),pr=Ni(10,0,16,dr),fr=pr.filter(cr),mr=hr.concat(pr),vr="{YYYY}",gr="\n"+vr,yr="{M}/{D}",br="\n"+yr,xr=br+"/{YY}",wr="{aa}",kr="{h}:{mm}"+wr,Sr="\n"+kr,Dr=":{ss}",Er=null;function _r(t){let e=1e3*t,n=60*e,i=60*n,r=24*i,s=30*r,o=365*r;return[(1==t?Ni(10,0,3,dr).filter(cr):Ni(10,-3,0,dr)).concat([e,5*e,10*e,15*e,30*e,n,5*n,10*n,15*n,30*n,i,2*i,3*i,4*i,6*i,8*i,12*i,r,2*r,3*r,4*r,5*r,6*r,7*r,8*r,9*r,10*r,15*r,s,2*s,3*s,4*s,6*s,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,vr,Er,Er,Er,Er,Er,Er,1],[28*r,"{MMM}",gr,Er,Er,Er,Er,Er,1],[r,yr,gr,Er,Er,Er,Er,Er,1],[i,"{h}"+wr,xr,Er,br,Er,Er,Er,1],[n,kr,xr,Er,br,Er,Er,Er,1],[e,Dr,xr+" "+kr,Er,br+" "+kr,Er,Sr,Er,1],[t,Dr+".{fff}",xr+" "+kr,Er,br+" "+kr,Er,Sr,Er,1]],function(e){return(l,a,u,c,d,h)=>{let p=[],f=d>=o,m=d>=s&&d<o,v=e(u),g=zi(v*t,3),y=$r(v.getFullYear(),f?0:v.getMonth(),m||f?1:v.getDate()),b=zi(y*t,3);if(m||f){let n=m?d/s:0,i=f?d/o:0,r=g==b?g:zi($r(y.getFullYear()+i,y.getMonth()+n,1)*t,3),l=new Date(mi(r/t)),a=l.getFullYear(),u=l.getMonth();for(let s=0;r<=c;s++){let o=$r(a+i*s,u+n*s,1),l=o-e(zi(o*t,3));r=zi((+o+l)*t,3),r<=c&&p.push(r)}}else{let s=d>=r?r:d,o=b+(fi(u)-fi(g))+$i(g-b,s);p.push(o);let f=e(o),m=f.getHours()+f.getMinutes()/n+f.getSeconds()/i,v=d/i,y=h/l.axes[a]._space;for(;o=zi(o+d,1==t?0:3),!(o>c);)if(v>1){let t=fi(zi(m+v,6))%24,n=e(o).getHours()-t;n>1&&(n=-1),o-=n*i,m=(m+v)%24,zi((o-p[p.length-1])/d,3)*y>=.7&&p.push(o)}else p.push(o)}return p}}]}const[Tr,Ar,Cr]=_r(1),[Pr,Mr,Or]=_r(.001);function Rr(t,e){return t.map((t=>t.map(((n,i)=>0==i||8==i||null==n?n:e(1==i||0==t[8]?n:t[1]+n)))))}function Vr(t,e){return(n,i,r,s,o)=>{let l,a,u,c,d,h,p=e.find((t=>o>=t[0]))||e[e.length-1];return i.map((e=>{let n=t(e),i=n.getFullYear(),r=n.getMonth(),s=n.getDate(),o=n.getHours(),f=n.getMinutes(),m=n.getSeconds(),v=i!=l&&p[2]||r!=a&&p[3]||s!=u&&p[4]||o!=c&&p[5]||f!=d&&p[6]||m!=h&&p[7]||p[1];return l=i,a=r,u=s,c=o,d=f,h=m,v(n)}))}}function $r(t,e,n){return new Date(t,e,n)}function Fr(t,e){return e(t)}function zr(t,e){return(n,i,r,s)=>null==s?Pn:e(t(i))}Ni(2,-53,53,[1]);const Br={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(t,e){let n=t.series[e];return n.width?n.stroke(t,e):n.points.width?n.points.stroke(t,e):null},fill:function(t,e){return t.series[e].fill(t,e)},dash:"solid"},idx:null,idxs:null,values:[]},jr=[0,0];function Nr(t,e,n,i=!0){return t=>{0==t.button&&(!i||t.target==e)&&n(t)}}function Hr(t,e,n,i=!0){return t=>{(!i||t.target==e)&&n(t)}}const Lr={show:!0,x:!0,y:!0,lock:!1,move:function(t,e,n){return jr[0]=e,jr[1]=n,jr},points:{show:function(t,e){let n=t.cursor.points,i=Hn(),r=n.size(t,e);jn(i,fn,r),jn(i,mn,r);let s=r/-2;jn(i,"marginLeft",s),jn(i,"marginTop",s);let o=n.width(t,e,r);return o&&jn(i,"borderWidth",o),i},size:function(t,e){return t.series[e].points.size},width:0,stroke:function(t,e){let n=t.series[e].points;return n._stroke||n._fill},fill:function(t,e){let n=t.series[e].points;return n._fill||n._stroke}},bind:{mousedown:Nr,mouseup:Nr,click:Nr,dblclick:Nr,mousemove:Hr,mouseleave:Hr,mouseenter:Hr},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(t,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:function(t,e,n){return n},idxs:null,event:null},Yr={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Ir=Zi({},Yr,{filter:Ci}),Xr=Zi({},Ir,{size:10}),Ur=Zi({},Yr,{show:!1}),Wr='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Gr="bold "+Wr,Kr={show:!0,scale:"x",stroke:xn,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gr,side:2,grid:Ir,ticks:Xr,border:Ur,font:Wr,lineGap:1.5,rotate:0},qr={show:!0,scale:"x",auto:!1,sorted:1,min:Di,max:-Di,idxs:[]};function Zr(t,e,n,i,r){return e.map((t=>null==t?"":ci(t)))}function Jr(t,e,n,i,r,s,o){let l=[],a=Bi.get(r)||0;for(let u=n=o?n:zi($i(n,r),a);u<=i;u=zi(u+r,a))l.push(Object.is(u,-0)?0:u);return l}function Qr(t,e,n,i,r,s,o){const l=[],a=t.scales[t.axes[e].scale].log,u=fi((10==a?wi:ki)(n));r=bi(a,u),10==a&&u<0&&(r=zi(r,-u));let c=n;do{l.push(c),c+=r,10==a&&(c=zi(c,Bi.get(r))),c>=r*a&&(r=c)}while(c<=i);return l}function ts(t,e,n,i,r,s,o){let l=t.scales[t.axes[e].scale].asinh,a=i>l?Qr(t,e,yi(l,n),i,r):[l],u=i>=0&&n<=0?[0]:[];return(n<-l?Qr(t,e,yi(l,-i),-n,r):[l]).reverse().map((t=>-t)).concat(u,a)}const es=/./,ns=/[12357]/,is=/[125]/,rs=/1/,ss=(t,e,n,i)=>t.map(((t,r)=>4==e&&0==t||r%i==0&&n.test(t.toExponential()[t<0?1:0])?t:null));function os(t,e,n,i,r){let s=t.axes[n],o=s.scale,l=t.scales[o],a=t.valToPos,u=s._space,c=a(10,o),d=a(9,o)-c>=u?es:a(7,o)-c>=u?ns:a(5,o)-c>=u?is:rs;if(d==rs){let t=pi(a(1,o)-c);if(t<u)return ss(e.slice().reverse(),l.distr,d,vi(u/t)).reverse()}return ss(e,l.distr,d,1)}function ls(t,e,n,i,r){let s=t.axes[n],o=s.scale,l=s._space,a=t.valToPos,u=pi(a(1,o)-a(2,o));return u<l?ss(e.slice().reverse(),3,es,vi(l/u)).reverse():e}function as(t,e,n,i){return null==i?Pn:null==e?"":ci(e)}const us={show:!0,scale:"y",stroke:xn,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gr,side:3,grid:Ir,ticks:Xr,border:Ur,font:Wr,lineGap:1.5,rotate:0},cs={scale:null,auto:!0,sorted:0,min:Di,max:-Di},ds=(t,e,n,i,r)=>r,hs={show:!0,auto:!0,sorted:0,gaps:ds,alpha:1,facets:[Zi({},cs,{scale:"x"}),Zi({},cs,{scale:"y"})]},ps={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:ds,alpha:1,points:{show:function(t,e){let{scale:n,idxs:i}=t.series[0],r=t._data[0],s=t.valToPos(r[i[0]],n,!0),o=t.valToPos(r[i[1]],n,!0),l=pi(o-s)/(t.series[e].points.space*$n);return i[1]-i[0]<=l},filter:null},values:null,min:Di,max:-Di,idxs:[],path:null,clip:null};function fs(t,e,n,i,r){return n/10}const ms={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},vs=Zi({},ms,{time:!1,ori:1}),gs={};function ys(t,e){let n=gs[t];return n||(n={key:t,plots:[],sub(t){n.plots.push(t)},unsub(t){n.plots=n.plots.filter((e=>e!=t))},pub(t,e,i,r,s,o,l){for(let a=0;a<n.plots.length;a++)n.plots[a]!=e&&n.plots[a].pub(t,e,i,r,s,o,l)}},null!=t&&(gs[t]=n)),n}const bs=1;function xs(t,e,n){const i=t.mode,r=t.series[e],s=2==i?t._data[e]:t._data,o=t.scales,l=t.bbox;let a=s[0],u=2==i?s[1]:s[e],c=2==i?o[r.facets[0].scale]:o[t.series[0].scale],d=2==i?o[r.facets[1].scale]:o[r.scale],h=l.left,p=l.top,f=l.width,m=l.height,v=t.valToPosH,g=t.valToPosV;return 0==c.ori?n(r,a,u,c,d,v,g,h,p,f,m,As,Ps,Os,Vs,Fs):n(r,a,u,c,d,g,v,p,h,m,f,Cs,Ms,Rs,$s,zs)}function ws(t,e){let n=0,i=0,r=li(t.bands,Li);for(let s=0;s<r.length;s++){let t=r[s];t.series[0]==e?n=t.dir:t.series[1]==e&&(1==t.dir?i|=1:i|=2)}return[n,1==i?-1:2==i?1:3==i?2:0]}function ks(t,e,n,i,r){let s=t.mode,o=t.series[e],l=2==s?o.facets[1].scale:o.scale,a=t.scales[l];return-1==r?a.min:1==r?a.max:3==a.distr?1==a.dir?a.min:a.max:0}function Ss(t,e,n,i,r,s){return xs(t,e,((t,e,o,l,a,u,c,d,h,p,f)=>{let m=t.pxRound;const v=l.dir*(0==l.ori?1:-1),g=0==l.ori?Ps:Ms;let y,b;1==v?(y=n,b=i):(y=i,b=n);let x=m(u(e[y],l,p,d)),w=m(c(o[y],a,f,h)),k=m(u(e[b],l,p,d)),S=m(c(1==s?a.max:a.min,a,f,h)),D=new Path2D(r);return g(D,k,S),g(D,x,S),g(D,x,w),D}))}function Ds(t,e,n,i,r,s){let o=null;if(t.length>0){o=new Path2D;const l=0==e?Os:Rs;let a=n;for(let e=0;e<t.length;e++){let n=t[e];if(n[1]>n[0]){let t=n[0]-a;t>0&&l(o,a,i,t,i+s),a=n[1]}}let u=n+r-a,c=10;u>0&&l(o,a,i-c/2,u,i+s+c)}return o}function Es(t,e,n,i,r,s,o){let l=[],a=t.length;for(let u=1==r?n:i;u>=n&&u<=i;u+=r)if(null===e[u]){let c=u,d=u;if(1==r)for(;++u<=i&&null===e[u];)d=u;else for(;--u>=n&&null===e[u];)d=u;let h=s(t[c]),p=d==c?h:s(t[d]),f=c-r;h=o<=0&&f>=0&&f<a?s(t[f]):h;let m=d+r;p=o>=0&&m>=0&&m<a?s(t[m]):p,p>=h&&l.push([h,p])}return l}function _s(t){return 0==t?Ai:1==t?mi:e=>Vi(e,t)}function Ts(t){let e=0==t?As:Cs,n=0==t?(t,e,n,i,r,s)=>{t.arcTo(e,n,i,r,s)}:(t,e,n,i,r,s)=>{t.arcTo(n,e,r,i,s)},i=0==t?(t,e,n,i,r)=>{t.rect(e,n,i,r)}:(t,e,n,i,r)=>{t.rect(n,e,r,i)};return(t,r,s,o,l,a=0,u=0)=>{0==a&&0==u?i(t,r,s,o,l):(a=gi(a,o/2,l/2),u=gi(u,o/2,l/2),e(t,r+a,s),n(t,r+o,s,r+o,s+l,a),n(t,r+o,s+l,r,s+l,u),n(t,r,s+l,r,s,u),n(t,r,s,r+o,s,a),t.closePath())}}const As=(t,e,n)=>{t.moveTo(e,n)},Cs=(t,e,n)=>{t.moveTo(n,e)},Ps=(t,e,n)=>{t.lineTo(e,n)},Ms=(t,e,n)=>{t.lineTo(n,e)},Os=Ts(0),Rs=Ts(1),Vs=(t,e,n,i,r,s)=>{t.arc(e,n,i,r,s)},$s=(t,e,n,i,r,s)=>{t.arc(n,e,i,r,s)},Fs=(t,e,n,i,r,s,o)=>{t.bezierCurveTo(e,n,i,r,s,o)},zs=(t,e,n,i,r,s,o)=>{t.bezierCurveTo(n,e,r,i,o,s)};function Bs(t){return(t,e,n,i,r)=>xs(t,e,((e,s,o,l,a,u,c,d,h,p,f)=>{let m,v,{pxRound:g,points:y}=e;0==l.ori?(m=As,v=Vs):(m=Cs,v=$s);const b=zi(y.width*$n,3);let x=(y.size-y.width)/2*$n,w=zi(2*x,3),k=new Path2D,S=new Path2D,{left:D,top:E,width:_,height:T}=t.bbox;Os(S,D-w,E-w,_+2*w,T+2*w);const A=t=>{if(null!=o[t]){let e=g(u(s[t],l,p,d)),n=g(c(o[t],a,f,h));m(k,e+x,n),v(k,e,n,x,0,2*hi)}};if(r)r.forEach(A);else for(let t=n;t<=i;t++)A(t);return{stroke:b>0?k:null,fill:k,clip:S,flags:2|bs}}))}function js(t){return(e,n,i,r,s,o)=>{i!=r&&(s!=i&&o!=i&&t(e,n,i),s!=r&&o!=r&&t(e,n,r),t(e,n,o))}}const Ns=js(Ps),Hs=js(Ms);function Ls(t){const e=li(t?.alignGaps,0);return(t,n,i,r)=>xs(t,n,((s,o,l,a,u,c,d,h,p,f,m)=>{let v,g,y=s.pxRound,b=t=>y(c(t,a,f,h)),x=t=>y(d(t,u,m,p));0==a.ori?(v=Ps,g=Ns):(v=Ms,g=Hs);const w=a.dir*(0==a.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:bs},S=k.stroke;let D,E,_,T=Di,A=-Di,C=b(o[1==w?i:r]),P=Qn(l,i,r,1*w),M=Qn(l,i,r,-1*w),O=b(o[P]),R=b(o[M]),V=!1;for(let t=1==w?i:r;t>=i&&t<=r;t+=w){let e=b(o[t]),n=l[t];e==C?null!=n?(E=x(n),T==Di&&(v(S,e,E),D=E),T=gi(E,T),A=yi(E,A)):null===n&&(V=!0):(T!=Di&&(g(S,C,T,A,D,E),_=C),null!=n?(E=x(n),v(S,e,E),T=A=D=E):(T=Di,A=-Di,null===n&&(V=!0)),C=e)}T!=Di&&T!=A&&_!=C&&g(S,C,T,A,D,E);let[$,F]=ws(t,n);if(null!=s.fill||0!=$){let e=k.fill=new Path2D(S),i=x(s.fillTo(t,n,s.min,s.max,$));v(e,R,i),v(e,O,i)}if(!s.spanGaps){let u=[];V&&u.push(...Es(o,l,i,r,w,b,e)),k.gaps=u=s.gaps(t,n,i,r,u),k.clip=Ds(u,a.ori,h,p,f,m)}return 0!=F&&(k.band=2==F?[Ss(t,n,i,r,S,-1),Ss(t,n,i,r,S,1)]:Ss(t,n,i,r,S,F)),k}))}function Ys(t,e,n,i,r,s){const o=t.length;if(o<2)return null;const l=new Path2D;if(n(l,t[0],e[0]),2==o)i(l,t[1],e[1]);else{let n=Array(o),i=Array(o-1),s=Array(o-1),a=Array(o-1);for(let r=0;r<o-1;r++)s[r]=e[r+1]-e[r],a[r]=t[r+1]-t[r],i[r]=s[r]/a[r];n[0]=i[0];for(let t=1;t<o-1;t++)0===i[t]||0===i[t-1]||i[t-1]>0!=i[t]>0?n[t]=0:(n[t]=3*(a[t-1]+a[t])/((2*a[t]+a[t-1])/i[t-1]+(a[t]+2*a[t-1])/i[t]),isFinite(n[t])||(n[t]=0));n[o-1]=i[o-2];for(let u=0;u<o-1;u++)r(l,t[u]+a[u]/3,e[u]+n[u]*a[u]/3,t[u+1]-a[u]/3,e[u+1]-n[u+1]*a[u]/3,t[u+1],e[u+1])}return l}const Is=new Set;function Xs(){for(let t of Is)t.syncRect(!0)}Mn&&(qn("resize",Rn,Xs),qn("scroll",Rn,Xs,!0),qn(Cn,Rn,(()=>{oo.pxRatio=$n})));const Us=Ls(),Ws=Bs();function Gs(t,e,n,i){return(i?[t[0],t[1]].concat(t.slice(2)):[t[0]].concat(t.slice(1))).map(((t,i)=>Ks(t,i,e,n)))}function Ks(t,e,n,i){return Zi({},0==e?n:i,t)}function qs(t,e,n){return null==e?Yi:[e,n]}const Zs=qs;function Js(t,e,n){return null==e?Yi:oi(e,n,ni,!0)}function Qs(t,e,n,i){return null==e?Yi:ti(e,n,t.scales[i].log,!1)}const to=Qs;function eo(t,e,n,i){return null==e?Yi:ei(e,n,t.scales[i].log,!1)}const no=eo;function io(t,e,n,i,r){let s=yi(Ei(t),Ei(e)),o=e-t,l=Jn(r/i*o,n);do{let t=n[l],e=i*t/o;if(e>=r&&s+(t<5?Bi.get(t):0)<=17)return[t,e]}while(++l<n.length);return[0,0]}function ro(t){let e,n;return[t=t.replace(/(\d+)px/,((t,i)=>(e=mi((n=+i)*$n))+"px")),e,n]}function so(t){t.show&&[t.font,t.labelFont].forEach((t=>{let e=zi(t[2]*$n,1);t[0]=t[0].replace(/[0-9.]+px/,e+"px"),t[1]=e}))}function oo(t,e,n){const i={mode:li(t.mode,1)},r=i.mode;function s(t,e){return((3==e.distr?wi(t>0?t:e.clamp(i,t,e.min,e.max,e.key)):4==e.distr?Si(t,e.asinh):t)-e._min)/(e._max-e._min)}function o(t,e,n,i){let r=s(t,e);return i+n*(-1==e.dir?1-r:r)}function l(t,e,n,i){let r=s(t,e);return i+n*(-1==e.dir?r:1-r)}function a(t,e,n,i){return 0==e.ori?o(t,e,n,i):l(t,e,n,i)}i.valToPosH=o,i.valToPosV=l;let u=!1;i.status=0;const c=i.root=Hn("uplot");null!=t.id&&(c.id=t.id),zn(c,t.class),t.title&&(Hn("u-title",c).textContent=t.title);const d=Nn("canvas"),h=i.ctx=d.getContext("2d"),p=Hn("u-wrap",c);qn("click",p,(t=>{t.target===m&&(xe!=ve||we!=ge)&&Te.click(i,t)}),!0);const f=i.under=Hn("u-under",p);p.appendChild(d);const m=i.over=Hn("u-over",p),v=+li((t=qi(t)).pxAlign,1),g=_s(v);(t.plugins||[]).forEach((e=>{e.opts&&(t=e.opts(i,t)||t)}));const y=t.ms||.001,b=i.series=1==r?Gs(t.series||[],qr,ps,!1):(x=t.series||[null],w=hs,x.map(((t,e)=>0==e?null:Zi({},w,t))));var x,w;const k=i.axes=Gs(t.axes||[],Kr,us,!0),S=i.scales={},D=i.bands=t.bands||[];D.forEach((t=>{t.fill=Ti(t.fill||null),t.dir=li(t.dir,-1)}));const E=2==r?b[1].facets[0].scale:b[0].scale,_={axes:function(){for(let t=0;t<k.length;t++){let e=k[t];if(!e.show||!e._show)continue;let n,r,s=e.side,o=s%2,l=e.stroke(i,t),u=0==s||3==s?-1:1;if(e.label){let t=e.labelGap*u,i=mi((e._lpos+t)*$n);Jt(e.labelFont[0],l,"center",2==s?vn:gn),h.save(),1==o?(n=r=0,h.translate(i,mi(ct+ht/2)),h.rotate((3==s?-hi:hi)/2)):(n=mi(ut+dt/2),r=i),h.fillText(e.label,n,r),h.restore()}let[c,d]=e._found;if(0==d)continue;let p=S[e.scale],f=0==o?dt:ht,m=0==o?ut:ct,v=mi(e.gap*$n),y=e._splits,b=2==p.distr?y.map((t=>Wt[t])):y,x=2==p.distr?Wt[y[1]]-Wt[y[0]]:c,w=e.ticks,D=e.border,E=w.show?mi(w.size*$n):0,_=e._rotate*-hi/180,T=g(e._pos*$n),A=T+(E+v)*u;r=0==o?A:0,n=1==o?A:0,Jt(e.font[0],l,1==e.align?yn:2==e.align?bn:_>0?yn:_<0?bn:0==o?"center":3==s?bn:yn,_||1==o?"middle":2==s?vn:gn);let C=e.font[1]*e.lineGap,P=y.map((t=>g(a(t,p,f,m)))),M=e._values;for(let t=0;t<M.length;t++){let e=M[t];if(null!=e){0==o?n=P[t]:r=P[t],e=""+e;let i=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let t=0;t<i.length;t++){let e=i[t];_?(h.save(),h.translate(n,r+t*C),h.rotate(_),h.fillText(e,0,0),h.restore()):h.fillText(e,n,r+t*C)}}}w.show&&oe(P,w.filter(i,b,t,d,x),o,s,T,E,zi(w.width*$n,3),w.stroke(i,t),w.dash,w.cap);let O=e.grid;O.show&&oe(P,O.filter(i,b,t,d,x),o,0==o?2:1,0==o?ct:ut,0==o?ht:dt,zi(O.width*$n,3),O.stroke(i,t),O.dash,O.cap),D.show&&oe([T],[1],0==o?1:0,0==o?1:2,1==o?ct:ut,1==o?ht:dt,zi(D.width*$n,3),D.stroke(i,t),D.dash,D.cap)}cn("drawAxes")},series:function(){Rt>0&&(b.forEach(((t,n)=>{if(n>0&&t.show&&(te(n,!1),te(n,!0),null==t._paths)){let s=2==r?[0,e[n][0].length-1]:function(t){let e=_i(Vt-1,0,Rt-1),n=_i($t+1,0,Rt-1);for(;null==t[e]&&e>0;)e--;for(;null==t[n]&&n<Rt-1;)n++;return[e,n]}(e[n]);t._paths=t.paths(i,n,s[0],s[1])}})),b.forEach(((t,e)=>{if(e>0&&t.show){Ut!=t.alpha&&(h.globalAlpha=Ut=t.alpha),null!=t._paths&&ee(e,!1);{let n=null!=t._paths?t._paths.gaps:null,r=t.points.show(i,e,Vt,$t,n),s=t.points.filter(i,e,r,n);(r||s)&&(t.points._paths=t.points.paths(i,e,Vt,$t,s),ee(e,!0))}1!=Ut&&(h.globalAlpha=Ut=1),cn("drawSeries",e)}})))}},T=(t.drawOrder||["axes","series"]).map((t=>_[t]));function A(e){let n=S[e];if(null==n){let i=(t.scales||Hi)[e]||Hi;if(null!=i.from)A(i.from),S[e]=Zi({},S[i.from],i,{key:e});else{n=S[e]=Zi({},e==E?ms:vs,i),n.key=e;let t=n.time,s=n.range,o=Ii(s);if((e!=E||2==r&&!t)&&(!o||null!=s[0]&&null!=s[1]||(s={min:null==s[0]?ii:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?ii:{mode:1,hard:s[1],soft:s[1]}},o=!1),!o&&Wi(s))){let t=s;s=(e,n,i)=>null==n?Yi:oi(n,i,t)}n.range=Ti(s||(t?Zs:e==E?3==n.distr?to:4==n.distr?no:qs:3==n.distr?Qs:4==n.distr?eo:Js)),n.auto=Ti(!o&&n.auto),n.clamp=Ti(n.clamp||fs),n._min=n._max=null}}}A("x"),A("y"),1==r&&b.forEach((t=>{A(t.scale)})),k.forEach((t=>{A(t.scale)}));for(let hn in t.scales)A(hn);const C=S[E],P=C.distr;let M,O;0==C.ori?(zn(c,"u-hz"),M=o,O=l):(zn(c,"u-vt"),M=l,O=o);const R={};for(let hn in S){let t=S[hn];null==t.min&&null==t.max||(R[hn]={min:t.min,max:t.max},t.min=t.max=null)}const V=t.tzDate||(t=>new Date(mi(t/y))),$=t.fmtDate||ar,F=1==y?Cr(V):Or(V),z=Vr(V,Rr(1==y?Ar:Mr,$)),B=zr(V,Fr("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",$)),j=[],N=i.legend=Zi({},Br,t.legend),H=N.show,L=N.markers;let Y,I,X;N.idxs=j,L.width=Ti(L.width),L.dash=Ti(L.dash),L.stroke=Ti(L.stroke),L.fill=Ti(L.fill);let U,W=[],G=[],K=!1,q={};if(N.live){const t=b[1]?b[1].values:null;K=null!=t,U=K?t(i,1,0):{_:0};for(let e in U)q[e]=Pn}if(H)if(Y=Nn("table","u-legend",c),X=Nn("tbody",null,Y),N.mount(i,Y),K){I=Nn("thead",null,Y,X);let t=Nn("tr",null,I);for(var Z in Nn("th",null,t),U)Nn("th",pn,t).textContent=Z}else zn(Y,"u-inline"),N.live&&zn(Y,"u-live");const J={show:!0},Q={show:!1},tt=new Map;function et(t,e,n,r=!0){const s=tt.get(e)||{},o=kt.bind[t](i,e,n,r);o&&(qn(t,e,s[t]=o),tt.set(e,s))}function nt(t,e,n){const i=tt.get(e)||{};for(let r in i)null!=t&&r!=t||(Zn(r,e,i[r]),delete i[r]);null==t&&tt.delete(e)}let it=0,rt=0,st=0,ot=0,lt=0,at=0,ut=0,ct=0,dt=0,ht=0;i.bbox={};let pt=!1,ft=!1,mt=!1,vt=!1,gt=!1,yt=!1;function bt(t,e,n){(n||t!=i.width||e!=i.height)&&xt(t,e),ue(!1),mt=!0,ft=!0,kt.left>=0&&(vt=yt=!0),Se()}function xt(t,e){i.width=it=st=t,i.height=rt=ot=e,lt=at=0,function(){let t=!1,e=!1,n=!1,i=!1;k.forEach(((r,s)=>{if(r.show&&r._show){let{side:s,_size:o}=r,l=s%2,a=o+(null!=r.label?r.labelSize:0);a>0&&(l?(st-=a,3==s?(lt+=a,i=!0):n=!0):(ot-=a,0==s?(at+=a,t=!0):e=!0))}})),Ct[0]=t,Ct[1]=n,Ct[2]=e,Ct[3]=i,st-=Ot[1]+Ot[3],lt+=Ot[3],ot-=Ot[2]+Ot[0],at+=Ot[0]}(),function(){let t=lt+st,e=at+ot,n=lt,i=at;function r(r,s){switch(r){case 1:return t+=s,t-s;case 2:return e+=s,e-s;case 3:return n-=s,n+s;case 0:return i-=s,i+s}}k.forEach(((t,e)=>{if(t.show&&t._show){let e=t.side;t._pos=r(e,t._size),null!=t.label&&(t._lpos=r(e,t.labelSize))}}))}();let n=i.bbox;ut=n.left=Vi(lt*$n,.5),ct=n.top=Vi(at*$n,.5),dt=n.width=Vi(st*$n,.5),ht=n.height=Vi(ot*$n,.5)}const wt=3;i.setSize=function({width:t,height:e}){bt(t,e)};const kt=i.cursor=Zi({},Lr,{drag:{y:2==r}},t.cursor),St=t=>{kt.event=t};kt.idxs=j,kt._lock=!1;let Dt=kt.points;Dt.show=Ti(Dt.show),Dt.size=Ti(Dt.size),Dt.stroke=Ti(Dt.stroke),Dt.width=Ti(Dt.width),Dt.fill=Ti(Dt.fill);const Et=i.focus=Zi({},t.focus||{alpha:.3},kt.focus),_t=Et.prox>=0;let Tt=[null];function At(t,e){if(1==r||e>0){let e=1==r&&S[t.scale].time,n=t.value;t.value=e?Ui(n)?zr(V,Fr(n,$)):n||B:n||as,t.label=t.label||(e?"Time":"Value")}if(e>0){t.width=null==t.width?1:t.width,t.paths=t.paths||Us||Pi,t.fillTo=Ti(t.fillTo||ks),t.pxAlign=+li(t.pxAlign,v),t.pxRound=_s(t.pxAlign),t.stroke=Ti(t.stroke||null),t.fill=Ti(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let e=zi(1*(3+2*(yi(1,t.width)||1)),3),n=t.points=Zi({},{size:e,width:yi(1,.2*e),stroke:t.stroke,space:2*e,paths:Ws,_stroke:null,_fill:null},t.points);n.show=Ti(n.show),n.filter=Ti(n.filter),n.fill=Ti(n.fill),n.stroke=Ti(n.stroke),n.paths=Ti(n.paths),n.pxAlign=t.pxAlign}if(H){let n=function(t,e){if(0==e&&(K||!N.live||2==r))return Yi;let n=[],s=Nn("tr","u-series",X,X.childNodes[e]);zn(s,t.class),t.show||zn(s,hn);let o=Nn("th",null,s);if(L.show){let t=Hn("u-marker",o);if(e>0){let n=L.width(i,e);n&&(t.style.border=n+"px "+L.dash(i,e)+" "+L.stroke(i,e)),t.style.background=L.fill(i,e)}}let l=Hn(pn,o);for(var a in l.textContent=t.label,e>0&&(L.show||(l.style.color=t.width>0?L.stroke(i,e):L.fill(i,e)),et("click",o,(e=>{if(kt._lock)return;St(e);let n=b.indexOf(t);if((e.ctrlKey||e.metaKey)!=N.isolate){let t=b.some(((t,e)=>e>0&&e!=n&&t.show));b.forEach(((e,i)=>{i>0&&Ve(i,t?i==n?J:Q:J,!0,xn.setSeries)}))}else Ve(n,{show:!t.show},!0,xn.setSeries)}),!1),_t&&et(En,o,(e=>{kt._lock||(St(e),Ve(b.indexOf(t),Be,!0,xn.setSeries))}),!1)),U){let t=Nn("td","u-value",s);t.textContent="--",n.push(t)}return[s,n]}(t,e);W.splice(e,0,n[0]),G.splice(e,0,n[1]),N.values.push(null)}if(kt.show){j.splice(e,0,null);let n=function(t,e){if(e>0){let n=kt.points.show(i,e);if(n)return zn(n,"u-cursor-pt"),zn(n,t.class),Yn(n,-10,-10,st,ot),m.insertBefore(n,Tt[e]),n}}(t,e);n&&Tt.splice(e,0,n)}cn("addSeries",e)}i.addSeries=function(t,e){e=null==e?b.length:e,t=1==r?Ks(t,e,qr,ps):Ks(t,e,null,hs),b.splice(e,0,t),At(b[e],e)},i.delSeries=function(t){if(b.splice(t,1),H){N.values.splice(t,1),G.splice(t,1);let e=W.splice(t,1)[0];nt(null,e.firstChild),e.remove()}kt.show&&(j.splice(t,1),Tt.length>1&&Tt.splice(t,1)[0].remove()),cn("delSeries",t)};const Ct=[!1,!1,!1,!1];function Pt(t,e,n,i){let[r,s,o,l]=n,a=e%2,u=0;return 0==a&&(l||s)&&(u=0==e&&!r||2==e&&!o?mi(Kr.size/3):0),1==a&&(r||o)&&(u=1==e&&!s||3==e&&!l?mi(us.size/2):0),u}const Mt=i.padding=(t.padding||[Pt,Pt,Pt,Pt]).map((t=>Ti(li(t,Pt)))),Ot=i._padding=Mt.map(((t,e)=>t(i,e,Ct,0)));let Rt,Vt=null,$t=null;const Ft=1==r?b[0].idxs:null;let zt,Bt,jt,Nt,Ht,Lt,Yt,It,Xt,Ut,Wt=null,Gt=!1;function Kt(t,n){if(e=null==t?[]:qi(t,Gi),2==r){Rt=0;for(let t=1;t<b.length;t++)Rt+=e[t][0].length;i.data=e=t}else if(null==e[0]&&(e[0]=[]),i.data=e.slice(),Wt=e[0],Rt=Wt.length,2==P){e[0]=Array(Rt);for(let t=0;t<Rt;t++)e[0][t]=t}if(i._data=e,ue(!0),cn("setData"),2==P&&(mt=!0),!1!==n){let t=C;t.auto(i,Gt)?qt():Re(E,t.min,t.max),vt=vt||kt.left>=0,yt=!0,Se()}}function qt(){let t,n;Gt=!0,1==r&&(Rt>0?(Vt=Ft[0]=0,$t=Ft[1]=Rt-1,t=e[0][Vt],n=e[0][$t],2==P?(t=Vt,n=$t):t==n&&(3==P?[t,n]=ti(t,t,C.log,!1):4==P?[t,n]=ei(t,t,C.log,!1):C.time?n=t+mi(86400/y):[t,n]=oi(t,n,ni,!0))):(Vt=Ft[0]=t=null,$t=Ft[1]=n=null)),Re(E,t,n)}function Zt(t,e,n,i,r,s){t??=wn,n??=Li,i??="butt",r??=wn,s??="round",t!=zt&&(h.strokeStyle=zt=t),r!=Bt&&(h.fillStyle=Bt=r),e!=jt&&(h.lineWidth=jt=e),s!=Ht&&(h.lineJoin=Ht=s),i!=Lt&&(h.lineCap=Lt=i),n!=Nt&&h.setLineDash(Nt=n)}function Jt(t,e,n,i){e!=Bt&&(h.fillStyle=Bt=e),t!=Yt&&(h.font=Yt=t),n!=It&&(h.textAlign=It=n),i!=Xt&&(h.textBaseline=Xt=i)}function Qt(t,e,n,r,s=0){if(r.length>0&&t.auto(i,Gt)&&(null==e||null==e.min)){let e=li(Vt,0),i=li($t,r.length-1),o=null==n.min?3==t.distr?function(t,e,n){let i=Di,r=-Di;for(let s=e;s<=n;s++){let e=t[s];null!=e&&e>0&&(e<i&&(i=e),e>r&&(r=e))}return[i==Di?1:i,r==-Di?10:r]}(r,e,i):function(t,e,n,i){let r=Di,s=-Di;if(1==i)r=t[e],s=t[n];else if(-1==i)r=t[n],s=t[e];else for(let o=e;o<=n;o++){let e=t[o];null!=e&&(e<r&&(r=e),e>s&&(s=e))}return[r,s]}(r,e,i,s):[n.min,n.max];t.min=gi(t.min,n.min=o[0]),t.max=yi(t.max,n.max=o[1])}}function te(t,e){let n=e?b[t].points:b[t];n._stroke=n.stroke(i,t),n._fill=n.fill(i,t)}function ee(t,n){let r=n?b[t].points:b[t],{stroke:s,fill:o,clip:l,flags:a,_stroke:u=r._stroke,_fill:c=r._fill,_width:d=r.width}=r._paths;d=zi(d*$n,3);let p=null,f=d%2/2;n&&null==c&&(c=d>0?"#fff":u);let m=1==r.pxAlign&&f>0;if(m&&h.translate(f,f),!n){let t=ut-d/2,e=ct-d/2,n=dt+d,i=ht+d;p=new Path2D,p.rect(t,e,n,i)}n?ie(u,d,r.dash,r.cap,c,s,o,a,l):function(t,n,r,s,o,l,a,u,c,d,h){let p=!1;D.forEach(((f,m)=>{if(f.series[0]==t){let t,v=b[f.series[1]],g=e[f.series[1]],y=(v._paths||Hi).band;Ii(y)&&(y=1==f.dir?y[0]:y[1]);let x=null;v.show&&y&&function(t,e,n){for(e=li(e,0),n=li(n,t.length-1);e<=n;){if(null!=t[e])return!0;e++}return!1}(g,Vt,$t)?(x=f.fill(i,m)||l,t=v._paths.clip):y=null,ie(n,r,s,o,x,a,u,c,d,h,t,y),p=!0}})),p||ie(n,r,s,o,l,a,u,c,d,h)}(t,u,d,r.dash,r.cap,c,s,o,a,p,l),m&&h.translate(-f,-f)}i.setData=Kt;const ne=2|bs;function ie(t,e,n,i,r,s,o,l,a,u,c,d){Zt(t,e,n,i,r),(a||u||d)&&(h.save(),a&&h.clip(a),u&&h.clip(u)),d?(l&ne)==ne?(h.clip(d),c&&h.clip(c),se(r,o),re(t,s,e)):2&l?(se(r,o),h.clip(d),re(t,s,e)):l&bs&&(h.save(),h.clip(d),c&&h.clip(c),se(r,o),h.restore(),re(t,s,e)):(se(r,o),re(t,s,e)),(a||u||d)&&h.restore()}function re(t,e,n){n>0&&(e instanceof Map?e.forEach(((t,e)=>{h.strokeStyle=zt=e,h.stroke(t)})):null!=e&&t&&h.stroke(e))}function se(t,e){e instanceof Map?e.forEach(((t,e)=>{h.fillStyle=Bt=e,h.fill(t)})):null!=e&&t&&h.fill(e)}function oe(t,e,n,i,r,s,o,l,a,u){let c=o%2/2;1==v&&h.translate(c,c),Zt(l,o,a,u,l),h.beginPath();let d,p,f,m,g=r+(0==i||3==i?-s:s);0==n?(p=r,m=g):(d=r,f=g);for(let v=0;v<t.length;v++)null!=e[v]&&(0==n?d=f=t[v]:p=m=t[v],h.moveTo(d,p),h.lineTo(f,m));h.stroke(),1==v&&h.translate(-c,-c)}function le(t){let e=!0;return k.forEach(((n,r)=>{if(!n.show)return;let s=S[n.scale];if(null==s.min)return void(n._show&&(e=!1,n._show=!1,ue(!1)));n._show||(e=!1,n._show=!0,ue(!1));let o=n.side,l=o%2,{min:a,max:u}=s,[c,d]=function(t,e,n,r){let s,o=k[t];if(r<=0)s=[0,0];else{let l=o._space=o.space(i,t,e,n,r);s=io(e,n,o._incrs=o.incrs(i,t,e,n,r,l),r,l)}return o._found=s}(r,a,u,0==l?st:ot);if(0==d)return;let h=2==s.distr,p=n._splits=n.splits(i,r,a,u,c,d,h),f=2==s.distr?p.map((t=>Wt[t])):p,m=2==s.distr?Wt[p[1]]-Wt[p[0]]:c,v=n._values=n.values(i,n.filter(i,f,r,d,m),r,d,m);n._rotate=2==o?n.rotate(i,v,r,d):0;let g=n._size;n._size=vi(n.size(i,v,r,t)),null!=g&&n._size!=g&&(e=!1)})),e}function ae(t){let e=!0;return Mt.forEach(((n,r)=>{let s=n(i,r,Ct,t);s!=Ot[r]&&(e=!1),Ot[r]=s})),e}function ue(t){b.forEach(((e,n)=>{n>0&&(e._paths=null,t&&(1==r?(e.min=null,e.max=null):e.facets.forEach((t=>{t.min=null,t.max=null}))))}))}let ce,de,he,pe,fe,me,ve,ge,ye,be,xe,we,ke=!1;function Se(){ke||(Qi(De),ke=!0)}function De(){pt&&(function(){let t=qi(S,Gi);for(let e in t){let n=t[e],s=R[e];if(null!=s&&null!=s.min)Zi(n,s),e==E&&ue(!0);else if(e!=E||2==r)if(0==Rt&&null==n.from){let t=n.range(i,null,null,e);n.min=t[0],n.max=t[1]}else n.min=Di,n.max=-Di}if(Rt>0){b.forEach(((n,s)=>{if(1==r){let r=n.scale,o=t[r],l=R[r];if(0==s){let t=o.range(i,o.min,o.max,r);o.min=t[0],o.max=t[1],Vt=Jn(o.min,e[0]),$t=Jn(o.max,e[0]),$t-Vt>1&&(e[0][Vt]<o.min&&Vt++,e[0][$t]>o.max&&$t--),n.min=Wt[Vt],n.max=Wt[$t]}else n.show&&n.auto&&Qt(o,l,n,e[s],n.sorted);n.idxs[0]=Vt,n.idxs[1]=$t}else if(s>0&&n.show&&n.auto){let[i,r]=n.facets,o=i.scale,l=r.scale,[a,u]=e[s];Qt(t[o],R[o],i,a,i.sorted),Qt(t[l],R[l],r,u,r.sorted),n.min=r.min,n.max=r.max}}));for(let e in t){let n=t[e],r=R[e];if(null==n.from&&(null==r||null==r.min)){let t=n.range(i,n.min==Di?null:n.min,n.max==-Di?null:n.max,e);n.min=t[0],n.max=t[1]}}}for(let e in t){let n=t[e];if(null!=n.from){let r=t[n.from];if(null==r.min)n.min=n.max=null;else{let t=n.range(i,r.min,r.max,e);n.min=t[0],n.max=t[1]}}}let n={},s=!1;for(let e in t){let i=t[e],r=S[e];if(r.min!=i.min||r.max!=i.max){r.min=i.min,r.max=i.max;let t=r.distr;r._min=3==t?wi(r.min):4==t?Si(r.min,r.asinh):r.min,r._max=3==t?wi(r.max):4==t?Si(r.max,r.asinh):r.max,n[e]=s=!0}}if(s){b.forEach(((t,e)=>{2==r?e>0&&n.y&&(t._paths=null):n[t.scale]&&(t._paths=null)}));for(let t in n)mt=!0,cn("setScale",t);kt.show&&kt.left>=0&&(vt=yt=!0)}for(let e in R)R[e]=null}(),pt=!1),mt&&(function(){let t=!1,e=0;for(;!t;){e++;let n=le(e),r=ae(e);t=e==wt||n&&r,t||(xt(i.width,i.height),ft=!0)}}(),mt=!1),ft&&(jn(f,yn,lt),jn(f,vn,at),jn(f,fn,st),jn(f,mn,ot),jn(m,yn,lt),jn(m,vn,at),jn(m,fn,st),jn(m,mn,ot),jn(p,fn,it),jn(p,mn,rt),d.width=mi(it*$n),d.height=mi(rt*$n),k.forEach((({_el:t,_show:e,_size:n,_pos:i,side:r})=>{if(null!=t)if(e){let e=r%2==1;jn(t,e?"left":"top",i-(3===r||0===r?n:0)),jn(t,e?"width":"height",n),jn(t,e?"top":"left",e?at:lt),jn(t,e?"height":"width",e?ot:st),Bn(t,hn)}else zn(t,hn)})),zt=Bt=jt=Ht=Lt=Yt=It=Xt=Nt=null,Ut=1,Ge(!0),cn("setSize"),ft=!1),it>0&&rt>0&&(h.clearRect(0,0,d.width,d.height),cn("drawClear"),T.forEach((t=>t())),cn("draw")),Pe.show&&gt&&(Oe(Pe),gt=!1),kt.show&&vt&&(Ue(null,!0,!1),vt=!1),N.show&&N.live&&yt&&(Ie(),yt=!1),u||(u=!0,i.status=1,cn("ready")),Gt=!1,ke=!1}function Ee(t,n){let r=S[t];if(null==r.from){if(0==Rt){let e=r.range(i,n.min,n.max,t);n.min=e[0],n.max=e[1]}if(n.min>n.max){let t=n.min;n.min=n.max,n.max=t}if(Rt>1&&null!=n.min&&null!=n.max&&n.max-n.min<1e-16)return;t==E&&2==r.distr&&Rt>0&&(n.min=Jn(n.min,e[0]),n.max=Jn(n.max,e[0]),n.min==n.max&&n.max++),R[t]=n,pt=!0,Se()}}i.redraw=(t,e)=>{mt=e||!1,!1!==t?Re(E,C.min,C.max):Se()},i.setScale=Ee;let _e=!1;const Te=kt.drag;let Ae=Te.x,Ce=Te.y;kt.show&&(kt.x&&(ce=Hn("u-cursor-x",m)),kt.y&&(de=Hn("u-cursor-y",m)),0==C.ori?(he=ce,pe=de):(he=de,pe=ce),xe=kt.left,we=kt.top);const Pe=i.select=Zi({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Me=Pe.show?Hn("u-select",Pe.over?m:f):null;function Oe(t,e){if(Pe.show){for(let e in t)Pe[e]=t[e],e in Ze&&jn(Me,e,t[e]);!1!==e&&cn("setSelect")}}function Re(t,e,n){Ee(t,{min:e,max:n})}function Ve(t,e,n,s){null!=e.focus&&function(t){if(t!=ze){let e=null==t,n=1!=Et.alpha;b.forEach(((i,r)=>{let s=e||0==r||r==t;i._focus=e?null:s,n&&function(t,e){b[t].alpha=e,kt.show&&Tt[t]&&(Tt[t].style.opacity=e),H&&W[t]&&(W[t].style.opacity=e)}(r,s?1:Et.alpha)})),ze=t,n&&Se()}}(t),null!=e.show&&b.forEach(((n,i)=>{i>0&&(t==i||null==t)&&(n.show=e.show,function(t,e){let n=b[t],i=H?W[t]:null;n.show?i&&Bn(i,hn):(i&&zn(i,hn),Tt.length>1&&Yn(Tt[t],-10,-10,st,ot))}(i,e.show),Re(2==r?n.facets[1].scale:n.scale,null,null),Se())})),!1!==n&&cn("setSeries",t,e),s&&Vn("setSeries",i,t,e)}let $e,Fe,ze;i.setSelect=Oe,i.setSeries=Ve,i.addBand=function(t,e){t.fill=Ti(t.fill||null),t.dir=li(t.dir,-1),e=null==e?D.length:e,D.splice(e,0,t)},i.setBand=function(t,e){Zi(D[t],e)},i.delBand=function(t){null==t?D.length=0:D.splice(t,1)};const Be={focus:!0};function je(t,e,n){let i=S[e];n&&(t=t/$n-(1==i.ori?at:lt));let r=st;1==i.ori&&(r=ot,t=r-t),-1==i.dir&&(t=r-t);let s=i._min,o=s+(i._max-s)*(t/r),l=i.distr;return 3==l?bi(10,o):4==l?((t,e=1)=>di.sinh(t)*e)(o,i.asinh):o}function Ne(t,e){jn(Me,yn,Pe.left=t),jn(Me,fn,Pe.width=e)}function He(t,e){jn(Me,vn,Pe.top=t),jn(Me,mn,Pe.height=e)}H&&_t&&et(_n,Y,(t=>{kt._lock||(St(t),null!=ze&&Ve(null,Be,!0,xn.setSeries))})),i.valToIdx=t=>Jn(t,e[0]),i.posToIdx=function(t,n){return Jn(je(t,E,n),e[0],Vt,$t)},i.posToVal=je,i.valToPos=(t,e,n)=>0==S[e].ori?o(t,S[e],n?dt:st,n?ut:0):l(t,S[e],n?ht:ot,n?ct:0),i.batch=function(t){t(i),Se()},i.setCursor=(t,e,n)=>{xe=t.left,we=t.top,Ue(null,e,n)};let Le=0==C.ori?Ne:He,Ye=1==C.ori?Ne:He;function Ie(t,e){null!=t&&(t.idxs?t.idxs.forEach(((t,e)=>{j[e]=t})):(t=>void 0===t)(t.idx)||j.fill(t.idx),N.idx=j[0]);for(let n=0;n<b.length;n++)(n>0||1==r&&!K)&&Xe(n,j[n]);H&&N.live&&function(){if(H&&N.live)for(let t=2==r?1:0;t<b.length;t++){if(0==t&&K)continue;let e=N.values[t],n=0;for(let i in e)G[t][n++].firstChild.nodeValue=e[i]}}(),yt=!1,!1!==e&&cn("setLegend")}function Xe(t,n){let r,s=b[t],o=0==t&&2==P?Wt:e[t];K?r=s.values(i,t,n)??q:(r=s.value(i,null==n?null:o[n],t,n),r=null==r?q:{_:r}),N.values[t]=r}function Ue(t,n,s){let o;ye=xe,be=we,[xe,we]=kt.move(i,xe,we),kt.show&&(he&&Yn(he,mi(xe),0,st,ot),pe&&Yn(pe,0,mi(we),st,ot));let l=Vt>$t;$e=Di;let a=0==C.ori?st:ot,u=1==C.ori?st:ot;if(xe<0||0==Rt||l){o=null;for(let t=0;t<b.length;t++)t>0&&Tt.length>1&&Yn(Tt[t],-10,-10,st,ot);_t&&Ve(null,Be,!0,null==t&&xn.setSeries),N.live&&(j.fill(o),yt=!0)}else{let t,n,s;1==r&&(t=0==C.ori?xe:we,n=je(t,E),o=Jn(n,e[0],Vt,$t),s=M(e[0][o],C,a,0));for(let l=2==r?1:0;l<b.length;l++){let t=b[l],c=j[l],d=1==r?e[l][c]:e[l][1][c],h=kt.dataIdx(i,l,o,n),p=1==r?e[l][h]:e[l][1][h];yt=yt||p!=d||h!=c,j[l]=h;let f=$i(h==o?s:M(1==r?e[0][h]:e[l][0][h],C,a,0),1);if(l>0&&t.show){let e,n,s=null==p?-10:$i(O(p,1==r?S[t.scale]:S[t.facets[1].scale],u,0),1);if(_t&&s>=0&&1==r){let e=pi(s-we);if(e<$e){let n=Et.bias;if(0!=n){let i=je(1==C.ori?xe:we,t.scale),r=i>=0?1:-1;r==(p>=0?1:-1)&&(1==r?1==n?p>=i:p<=i:1==n?p<=i:p>=i)&&($e=e,Fe=l)}else $e=e,Fe=l}}if(0==C.ori?(e=f,n=s):(e=s,n=f),yt&&Tt.length>1){Xn(Tt[l],kt.points.fill(i,l),kt.points.stroke(i,l));let t,r,s,o,a=!0,u=kt.points.bbox;if(null!=u){a=!1;let e=u(i,l);s=e.left,o=e.top,t=e.width,r=e.height}else s=e,o=n,t=r=kt.points.size(i,l);Wn(Tt[l],t,r,a),Yn(Tt[l],s,o,st,ot)}}}}if(kt.idx=o,kt.left=xe,kt.top=we,yt&&(N.idx=o,Ie()),Pe.show&&_e)if(null!=t){let[e,n]=xn.scales,[i,r]=xn.match,[s,o]=t.cursor.sync.scales,l=t.cursor.drag;if(Ae=l._x,Ce=l._y,Ae||Ce){let l,c,d,h,p,{left:f,top:m,width:v,height:g}=t.select,y=t.scales[e].ori,b=t.posToVal,x=null!=e&&i(e,s),w=null!=n&&r(n,o);x&&Ae?(0==y?(l=f,c=v):(l=m,c=g),d=S[e],h=M(b(l,s),d,a,0),p=M(b(l+c,s),d,a,0),Le(gi(h,p),pi(p-h))):Le(0,a),w&&Ce?(1==y?(l=f,c=v):(l=m,c=g),d=S[n],h=O(b(l,o),d,u,0),p=O(b(l+c,o),d,u,0),Ye(gi(h,p),pi(p-h))):Ye(0,u)}else Je()}else{let t=pi(ye-fe),e=pi(be-me);if(1==C.ori){let n=t;t=e,e=n}Ae=Te.x&&t>=Te.dist,Ce=Te.y&&e>=Te.dist;let n,i,r=Te.uni;null!=r?Ae&&Ce&&(Ae=t>=r,Ce=e>=r,Ae||Ce||(e>t?Ce=!0:Ae=!0)):Te.x&&Te.y&&(Ae||Ce)&&(Ae=Ce=!0),Ae&&(0==C.ori?(n=ve,i=xe):(n=ge,i=we),Le(gi(n,i),pi(i-n)),Ce||Ye(0,u)),Ce&&(1==C.ori?(n=ve,i=xe):(n=ge,i=we),Ye(gi(n,i),pi(i-n)),Ae||Le(0,a)),Ae||Ce||(Le(0,0),Ye(0,0))}if(Te._x=Ae,Te._y=Ce,null==t){if(s){if(null!=An){let[t,e]=xn.scales;xn.values[0]=null!=t?je(0==C.ori?xe:we,t):null,xn.values[1]=null!=e?je(1==C.ori?xe:we,e):null}Vn(kn,i,xe,we,st,ot,o)}if(_t){let t=s&&xn.setSeries,e=Et.prox;null==ze?$e<=e&&Ve(Fe,Be,!0,t):$e>e?Ve(null,Be,!0,t):Fe!=ze&&Ve(Fe,Be,!0,t)}}!1!==n&&cn("setCursor")}i.setLegend=Ie;let We=null;function Ge(t=!1){t?We=null:(We=m.getBoundingClientRect(),cn("syncRect",We))}function Ke(t,e,n,i,r,s,o){kt._lock||_e&&null!=t&&0==t.movementX&&0==t.movementY||(qe(t,e,n,i,r,s,0,!1,null!=t),null!=t?Ue(null,!0,!0):Ue(e,!0,!1))}function qe(t,e,n,r,s,o,l,u,c){if(null==We&&Ge(!1),St(t),null!=t)n=t.clientX-We.left,r=t.clientY-We.top;else{if(n<0||r<0)return xe=-10,void(we=-10);let[t,i]=xn.scales,l=e.cursor.sync,[u,c]=l.values,[d,h]=l.scales,[p,f]=xn.match,m=e.axes[0].side%2==1,v=0==C.ori?st:ot,g=1==C.ori?st:ot,y=m?o:s,b=m?s:o,x=m?r:n,w=m?n:r;if(n=null!=d?p(t,d)?a(u,S[t],v,0):-10:v*(x/y),r=null!=h?f(i,h)?a(c,S[i],g,0):-10:g*(w/b),1==C.ori){let t=n;n=r,r=t}}c&&((n<=1||n>=st-1)&&(n=Vi(n,st)),(r<=1||r>=ot-1)&&(r=Vi(r,ot))),u?(fe=n,me=r,[ve,ge]=kt.move(i,n,r)):(xe=n,we=r)}Object.defineProperty(i,"rect",{get:()=>(null==We&&Ge(!1),We)});const Ze={width:0,height:0,left:0,top:0};function Je(){Oe(Ze,!1)}let Qe,tn,en,nn;function rn(t,e,n,r,s,o,l){_e=!0,Ae=Ce=Te._x=Te._y=!1,qe(t,e,n,r,s,o,0,!0,!1),null!=t&&(et(Dn,On,sn,!1),Vn(Sn,i,ve,ge,st,ot,null));let{left:a,top:u,width:c,height:d}=Pe;Qe=a,tn=u,en=c,nn=d,Je()}function sn(t,e,n,r,s,o,l){_e=Te._x=Te._y=!1,qe(t,e,n,r,s,o,0,!1,!0);let{left:a,top:u,width:c,height:d}=Pe,h=c>0||d>0,p=Qe!=a||tn!=u||en!=c||nn!=d;if(h&&p&&Oe(Pe),Te.setScale&&h&&p){let t=a,e=c,n=u,i=d;if(1==C.ori&&(t=u,e=d,n=a,i=c),Ae&&Re(E,je(t,E),je(t+e,E)),Ce)for(let r in S){let t=S[r];r!=E&&null==t.from&&t.min!=Di&&Re(r,je(n+i,r),je(n,r))}Je()}else kt.lock&&(kt._lock=!kt._lock,kt._lock||Ue(null,!0,!1));null!=t&&(nt(Dn,On),Vn(Dn,i,xe,we,st,ot,null))}function on(t,e,n,r,s,o,l){kt._lock||(St(t),qt(),Je(),null!=t&&Vn(Tn,i,xe,we,st,ot,null))}function ln(){k.forEach(so),bt(i.width,i.height,!0)}qn(Cn,Rn,ln);const an={};an.mousedown=rn,an.mousemove=Ke,an.mouseup=sn,an.dblclick=on,an.setSeries=(t,e,n,r)=>{-1!=(n=(0,xn.match[2])(i,e,n))&&Ve(n,r,!0,!1)},kt.show&&(et(Sn,m,rn),et(kn,m,Ke),et(En,m,(t=>{St(t),Ge(!1)})),et(_n,m,(function(t,e,n,i,r,s,o){if(kt._lock)return;St(t);let l=_e;if(_e){let t,e,n=!0,i=!0,r=10;0==C.ori?(t=Ae,e=Ce):(t=Ce,e=Ae),t&&e&&(n=xe<=r||xe>=st-r,i=we<=r||we>=ot-r),t&&n&&(xe=xe<ve?0:st),e&&i&&(we=we<ge?0:ot),Ue(null,!0,!0),_e=!1}xe=-10,we=-10,Ue(null,!0,!0),l&&(_e=l)})),et(Tn,m,on),Is.add(i),i.syncRect=Ge);const un=i.hooks=t.hooks||{};function cn(t,e,n){t in un&&un[t].forEach((t=>{t.call(null,i,e,n)}))}(t.plugins||[]).forEach((t=>{for(let e in t.hooks)un[e]=(un[e]||[]).concat(t.hooks[e])}));const dn=(t,e,n)=>n,xn=Zi({key:null,setSeries:!1,filters:{pub:Mi,sub:Mi},scales:[E,b[1]?b[1].scale:null],match:[Oi,Oi,dn],values:[null,null]},kt.sync);2==xn.match.length&&xn.match.push(dn),kt.sync=xn;const An=xn.key,Mn=ys(An);function Vn(t,e,n,i,r,s,o){xn.filters.pub(t,e,n,i,r,s,o)&&Mn.pub(t,e,n,i,r,s,o)}function Fn(){cn("init",t,e),Kt(e||t.data,!1),R[E]?Ee(E,R[E]):qt(),gt=Pe.show&&(Pe.width>0||Pe.height>0),vt=yt=!0,bt(t.width,t.height)}return Mn.sub(i),i.pub=function(t,e,n,i,r,s,o){xn.filters.sub(t,e,n,i,r,s,o)&&an[t](null,e,n,i,r,s,o)},i.destroy=function(){Mn.unsub(i),Is.delete(i),tt.clear(),Zn(Cn,Rn,ln),c.remove(),Y?.remove(),cn("destroy")},b.forEach(At),k.forEach((function(t,e){if(t._show=t.show,t.show){let n=t.side%2,r=S[t.scale];null==r&&(t.scale=n?b[1].scale:E,r=S[t.scale]);let s=r.time;t.size=Ti(t.size),t.space=Ti(t.space),t.rotate=Ti(t.rotate),Ii(t.incrs)&&t.incrs.forEach((t=>{!Bi.has(t)&&Bi.set(t,ji(t))})),t.incrs=Ti(t.incrs||(2==r.distr?fr:s?1==y?Tr:Pr:mr)),t.splits=Ti(t.splits||(s&&1==r.distr?F:3==r.distr?Qr:4==r.distr?ts:Jr)),t.stroke=Ti(t.stroke),t.grid.stroke=Ti(t.grid.stroke),t.ticks.stroke=Ti(t.ticks.stroke),t.border.stroke=Ti(t.border.stroke);let o=t.values;t.values=Ii(o)&&!Ii(o[0])?Ti(o):s?Ii(o)?Vr(V,Rr(o,$)):Ui(o)?function(t,e){let n=ar(e);return(e,i,r,s,o)=>i.map((e=>n(t(e))))}(V,o):o||z:o||Zr,t.filter=Ti(t.filter||(r.distr>=3&&10==r.log?os:3==r.distr&&2==r.log?ls:Ci)),t.font=ro(t.font),t.labelFont=ro(t.labelFont),t._size=t.size(i,null,e,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Ct[e]=!0,t._el=Hn("u-axis",p))}})),n?n instanceof HTMLElement?(n.appendChild(c),Fn()):n(i,Fn):Fn(),i}oo.assign=Zi,oo.fmtNum=ci,oo.rangeNum=oi,oo.rangeLog=ti,oo.rangeAsinh=ei,oo.orient=xs,oo.pxRatio=$n,oo.join=function(t,e){if(function(t){let e=t[0][0],n=e.length;for(let i=1;i<t.length;i++){let r=t[i][0];if(r.length!=n)return!1;if(r!=e)for(let t=0;t<n;t++)if(r[t]!=e[t])return!1}return!0}(t)){let e=t[0].slice();for(let n=1;n<t.length;n++)e.push(...t[n].slice(1));return function(t,e=100){const n=t.length;if(n<=1)return!0;let i=0,r=n-1;for(;i<=r&&null==t[i];)i++;for(;r>=i&&null==t[r];)r--;if(r<=i)return!0;const s=yi(1,fi((r-i+1)/e));for(let o=t[i],l=i+s;l<=r;l+=s){const e=t[l];if(null!=e){if(e<=o)return!1;o=e}}return!0}(e[0])||(e=function(t){let e=t[0],n=e.length,i=Array(n);for(let s=0;s<i.length;s++)i[s]=s;i.sort(((t,n)=>e[t]-e[n]));let r=[];for(let s=0;s<t.length;s++){let e=t[s],o=Array(n);for(let t=0;t<n;t++)o[t]=e[i[t]];r.push(o)}return r}(e)),e}let n=new Set;for(let o=0;o<t.length;o++){let e=t[o][0],i=e.length;for(let t=0;t<i;t++)n.add(e[t])}let i=[Array.from(n).sort(((t,e)=>t-e))],r=i[0].length,s=new Map;for(let o=0;o<r;o++)s.set(i[0][o],o);for(let o=0;o<t.length;o++){let n=t[o],l=n[0];for(let t=1;t<n.length;t++){let a=n[t],u=Array(r).fill(void 0),c=e?e[o][t]:1,d=[];for(let t=0;t<a.length;t++){let e=a[t],n=s.get(l[t]);null===e?0!=c&&(u[n]=e,2==c&&d.push(n)):u[n]=e}Ji(u,d,r),i.push(u)}}return i},oo.fmtDate=ar,oo.tzDate=function(t,e){let n;return"UTC"==e||"Etc/UTC"==e?n=new Date(+t+6e4*t.getTimezoneOffset()):e==ur?n=t:(n=new Date(t.toLocaleString("en-US",{timeZone:e})),n.setMilliseconds(t.getMilliseconds())),n},oo.sync=ys;{oo.addGap=function(t,e,n){let i=t[t.length-1];i&&i[0]==e?i[1]=n:t.push([e,n])},oo.clipGaps=Ds;let t=oo.paths={points:Bs};t.linear=Ls,t.stepped=function(t){const e=li(t.align,1),n=li(t.ascDesc,!1),i=li(t.alignGaps,0),r=li(t.extend,!1);return(t,s,o,l)=>xs(t,s,((a,u,c,d,h,p,f,m,v,g,y)=>{let b=a.pxRound,{left:x,width:w}=t.bbox,k=t=>b(p(t,d,g,m)),S=t=>b(f(t,h,y,v)),D=0==d.ori?Ps:Ms;const E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:bs},_=E.stroke,T=d.dir*(0==d.ori?1:-1);o=Qn(c,o,l,1),l=Qn(c,o,l,-1);let A=S(c[1==T?o:l]),C=k(u[1==T?o:l]),P=C,M=C;r&&-1==e&&(M=x,D(_,M,A)),D(_,C,A);for(let t=1==T?o:l;t>=o&&t<=l;t+=T){let n=c[t];if(null==n)continue;let i=k(u[t]),r=S(n);1==e?D(_,i,A):D(_,P,r),D(_,i,r),A=r,P=i}let O=P;r&&1==e&&(O=x+w,D(_,O,A));let[R,V]=ws(t,s);if(null!=a.fill||0!=R){let e=E.fill=new Path2D(_),n=S(a.fillTo(t,s,a.min,a.max,R));D(e,O,n),D(e,M,n)}if(!a.spanGaps){let r=[];r.push(...Es(u,c,o,l,T,k,i));let h=a.width*$n/2,p=n||1==e?h:-h,f=n||-1==e?-h:h;r.forEach((t=>{t[0]+=p,t[1]+=f})),E.gaps=r=a.gaps(t,s,o,l,r),E.clip=Ds(r,d.ori,m,v,g,y)}return 0!=V&&(E.band=2==V?[Ss(t,s,o,l,_,-1),Ss(t,s,o,l,_,1)]:Ss(t,s,o,l,_,V)),E}))},t.bars=function(t){const e=li((t=t||Hi).size,[.6,Di,1]),n=t.align||0,i=(t.gap||0)*$n;let r=t.radius;r=null==r?[0,0]:"number"==typeof r?[r,0]:r;const s=Ti(r),o=1-e[0],l=li(e[1],Di)*$n,a=li(e[2],1)*$n,u=li(t.disp,Hi),c=li(t.each,(t=>{})),{fill:d,stroke:h}=u;return(t,e,r,p)=>xs(t,e,((f,m,v,g,y,b,x,w,k,S,D)=>{let E,_,T=f.pxRound;0==g.ori?[E,_]=s(t,e):[_,E]=s(t,e);const A=g.dir*(0==g.ori?1:-1),C=y.dir*(1==y.ori?1:-1);let P,M,O=0==g.ori?Os:Rs,R=0==g.ori?c:(t,e,n,i,r,s,o)=>{c(t,e,n,r,i,o,s)},[V,$]=ws(t,e),F=3==y.distr?1==V?y.max:y.min:0,z=x(F,y,D,k),B=T(f.width*$n),j=!1,N=null,H=null,L=null,Y=null;null==d||0!=B&&null==h||(j=!0,N=d.values(t,e,r,p),H=new Map,new Set(N).forEach((t=>{null!=t&&H.set(t,new Path2D)})),B>0&&(L=h.values(t,e,r,p),Y=new Map,new Set(L).forEach((t=>{null!=t&&Y.set(t,new Path2D)}))));let{x0:I,size:X}=u,U=!0;if(null!=I&&null!=X){m=I.values(t,e,r,p),2==I.unit&&(m=m.map((e=>t.posToVal(w+e*S,g.key,!0))));let n=X.values(t,e,r,p);M=2==X.unit?n[0]*S:b(n[0],g,S,w)-b(0,g,S,w),B>=M/2&&(B=0),M=T(_i(M-B,a,l)),P=1==A?-B/2:M+B/2}else{let t=S;if(m.length>1){let e=null;for(let n=0,i=1/0;n<m.length;n++)if(void 0!==v[n]){if(null!=e){let r=pi(m[n]-m[e]);r<i&&(i=r,t=pi(b(m[n],g,S,w)-b(m[e],g,S,w)))}e=n}}let e=t*o;M=t-e-i,B>=M/2&&(B=0),e+i<5&&(T=Ai),M=T(_i(t-e,a,l)-B-i),P=(0==n?M/2:n==A?0:M)-n*A*i/2,M+B>t&&(U=!1)}const W={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:2|bs};let G;0!=$&&(W.band=new Path2D,G=T(x(1==$?y.max:y.min,y,D,k)));const K=j?null:new Path2D,q=W.band;let{y0:Z,y1:J}=u,Q=null;null!=Z&&null!=J&&(v=J.values(t,e,r,p),Q=Z.values(t,e,r,p));let tt=E*M,et=_*M;for(let n=1==A?r:p;n>=r&&n<=p;n+=A){let i=v[n];if(void 0===i)continue;let r=b(2!=g.distr||null!=u?m[n]:n,g,S,w),s=x(li(i,F),y,D,k);null!=Q&&null!=i&&(z=x(Q[n],y,D,k));let o=T(r-P),l=T(yi(s,z)),a=T(gi(s,z)),c=l-a;if(null!=i){let r=i<0?et:tt,s=i<0?tt:et;j?(B>0&&null!=L[n]&&O(Y.get(L[n]),o,a+fi(B/2),M,yi(0,c-B),r,s),null!=N[n]&&O(H.get(N[n]),o,a+fi(B/2),M,yi(0,c-B),r,s)):O(K,o,a+fi(B/2),M,yi(0,c-B),r,s),R(t,e,n,o-B/2,a,M+B,c)}0==$||null==i&&!U||(C*$==1?(l=a,a=G):(a=l,l=G),c=l-a,O(q,o-B/2,a,M+B,yi(0,c),0,0))}return B>0?W.stroke=j?Y:K:j||(W._fill=0==f.width?f._fill:f._stroke??f._fill,W.width=0),W.fill=j?H:K,W}))},t.spline=function(t){return function(t,e){const n=li(e?.alignGaps,0);return(e,i,r,s)=>xs(e,i,((o,l,a,u,c,d,h,p,f,m,v)=>{let g,y,b,x=o.pxRound,w=t=>x(d(t,u,m,p)),k=t=>x(h(t,c,v,f));0==u.ori?(g=As,b=Ps,y=Fs):(g=Cs,b=Ms,y=zs);const S=u.dir*(0==u.ori?1:-1);r=Qn(a,r,s,1),s=Qn(a,r,s,-1);let D=w(l[1==S?r:s]),E=D,_=[],T=[];for(let t=1==S?r:s;t>=r&&t<=s;t+=S)if(null!=a[t]){let e=w(l[t]);_.push(E=e),T.push(k(a[t]))}const A={stroke:t(_,T,g,b,y,x),fill:null,clip:null,band:null,gaps:null,flags:bs},C=A.stroke;let[P,M]=ws(e,i);if(null!=o.fill||0!=P){let t=A.fill=new Path2D(C),n=k(o.fillTo(e,i,o.min,o.max,P));b(t,E,n),b(t,D,n)}if(!o.spanGaps){let t=[];t.push(...Es(l,a,r,s,S,w,n)),A.gaps=t=o.gaps(e,i,r,s,t),A.clip=Ds(t,u.ori,p,f,m,v)}return 0!=M&&(A.band=2==M?[Ss(e,i,r,s,C,-1),Ss(e,i,r,s,C,1)]:Ss(e,i,r,s,C,M)),A}))}(Ys,t)}}var lo={exports:{}};const ao=qe(e);!function(t,e){var n;"undefined"!=typeof self&&self,t.exports=(n=ao,function(){var t={388:function(t,e){var n,i,r,s;"undefined"!=typeof self&&self,s=function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,i,r,s=/@([^@]*):(\d+):(\d+)\s*$/gi,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(h.stack)||s.exec(h.stack),l=o&&o[1]||!1,a=o&&o[2]||!1,u=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===l)return c[d];if(l===u&&c[d].innerHTML&&c[d].innerHTML.trim()===r)return c[d]}return null}}return t},i=[],void 0===(r="function"==typeof(n=s)?n.apply(e,i):n)||(t.exports=r)},905:function(t,e,n){n.r(e);var i=n(117),r=n.n(i),s=n(488),o=n.n(s)()(r());o.push([t.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),e.default=o},121:function(t,e,n){n.r(e);var i=n(117),r=n.n(i),s=n(488),o=n.n(s)()(r());o.push([t.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),e.default=o},207:function(t,e,n){n.r(e);var i=n(117),r=n.n(i),s=n(488),o=n.n(s)()(r());o.push([t.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),e.default=o},488:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(i)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(o[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);i&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},117:function(t){t.exports=function(t){return t[1]}},831:function(t,e){e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}},466:function(t,e,n){var i=n(905);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(959).Z)("50bc1720",i,!0,{sourceMap:!1,shadowMode:!1})},18:function(t,e,n){var i=n(121);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(959).Z)("10aa5f36",i,!0,{sourceMap:!1,shadowMode:!1})},631:function(t,e,n){var i=n(207);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(959).Z)("1772934e",i,!0,{sourceMap:!1,shadowMode:!1})},959:function(t,e,n){function i(t,e){for(var n=[],i={},r=0;r<e.length;r++){var s=e[r],o=s[0],l={id:t+":"+r,css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(l):n.push(i[o]={id:o,parts:[l]})}return n}n.d(e,{Z:function(){return f}});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),l=null,a=0,u=!1,c=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,n,r){u=n,d=r||{};var o=i(t,e);return m(o),function(e){for(var n=[],r=0;r<o.length;r++){var l=o[r],a=s[l.id];a.refs--,n.push(a)}for(e?m(o=i(t,e)):o=[],r=0;r<n.length;r++)if(0===(a=n[r]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete s[a.id]}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],i=s[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(g(n.parts[r]));s[n.id]={id:n.id,refs:1,parts:o}}}}function v(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function g(t){var e,n,i=document.querySelector("style["+h+'~="'+t.id+'"]');if(i){if(u)return c;i.parentNode.removeChild(i)}if(p){var r=a++;i=l||(l=v()),e=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=v(),e=x.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function x(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),d.ssrId&&t.setAttribute(h,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},927:function(t){t.exports=n}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="";var r={};return function(){if(i.d(r,{default:function(){return gt}}),"undefined"!=typeof window){var t=window.document.currentScript,e=i(388);t=e(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:e});var n=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(i.p=n[1])}var s=i(927);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={key:0,class:"vue-slider-marks"};function a(t,e,n,i,r,a){var u=(0,s.resolveComponent)("vue-slider-mark"),c=(0,s.resolveComponent)("vue-slider-dot");return(0,s.openBlock)(),(0,s.createElementBlock)("div",(0,s.mergeProps)({ref:"container",class:t.containerClasses,style:t.containerStyles,onClick:e[2]||(e[2]=function(){return t.clickHandle&&t.clickHandle.apply(t,arguments)}),onTouchstartPassive:e[3]||(e[3]=function(){return t.dragStartOnProcess&&t.dragStartOnProcess.apply(t,arguments)}),onMousedownPassive:e[4]||(e[4]=function(){return t.dragStartOnProcess&&t.dragStartOnProcess.apply(t,arguments)})},t.$attrs),[(0,s.createElementVNode)("div",{class:"vue-slider-rail",style:(0,s.normalizeStyle)(t.railStyle)},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.processArray,(function(e,n){return(0,s.renderSlot)(t.$slots,"process",(0,s.normalizeProps)((0,s.guardReactiveProps)(e)),(function(){return[((0,s.openBlock)(),(0,s.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(n),style:(0,s.normalizeStyle)(e.style)},null,4))]}))})),256)),t.sliderMarks&&t.control?((0,s.openBlock)(),(0,s.createElementBlock)("div",l,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.control.markList,(function(n,i){return(0,s.renderSlot)(t.$slots,"mark",(0,s.normalizeProps)((0,s.guardReactiveProps)(n)),(function(){var r;return[((0,s.openBlock)(),(0,s.createBlock)(u,{key:"mark-".concat(i),mark:n,hideLabel:t.hideLabel,style:(0,s.normalizeStyle)((r={},o(r,t.isHorizontal?"height":"width","100%"),o(r,t.isHorizontal?"width":"height",t.tailSize),o(r,t.mainDirection,"".concat(n.pos,"%")),r)),stepStyle:t.stepStyle,stepActiveStyle:t.stepActiveStyle,labelStyle:t.labelStyle,labelActiveStyle:t.labelActiveStyle,onPressLabel:e[0]||(e[0]=function(e){return t.clickable&&t.setValueByPos(e)})},{step:(0,s.withCtx)((function(){return[(0,s.renderSlot)(t.$slots,"step",(0,s.normalizeProps)((0,s.guardReactiveProps)(n)))]})),label:(0,s.withCtx)((function(){return[(0,s.renderSlot)(t.$slots,"label",(0,s.normalizeProps)((0,s.guardReactiveProps)(n)))]})),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle"]))]}))})),256))])):(0,s.createCommentVNode)("",!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.dots,(function(n,i){var r;return(0,s.openBlock)(),(0,s.createBlock)(c,(0,s.mergeProps)({ref_for:!0,ref:"dot-".concat(i),key:"dot-".concat(i),value:n.value,disabled:n.disabled,focus:n.focus,"dot-style":[n.style,n.disabled?n.disabledStyle:null,n.focus?n.focusStyle:null],tooltip:n.tooltip||t.tooltip,"tooltip-style":[t.tooltipStyle,n.tooltipStyle,n.disabled?n.tooltipDisabledStyle:null,n.focus?n.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(t.sliderTooltipFormatter)?t.sliderTooltipFormatter[i]:t.sliderTooltipFormatter,"tooltip-placement":t.tooltipDirections[i],style:[t.dotBaseStyle,(r={},o(r,t.mainDirection,"".concat(n.pos,"%")),o(r,"transition","".concat(t.mainDirection," ").concat(t.animateTime,"s")),r)],onDragStart:function(){return t.dragStart(i)},role:"slider","aria-valuenow":n.value,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return t.focus(n,i)},onBlur:e[1]||(e[1]=function(){return t.blur()})},t.dotAttrs),{dot:(0,s.withCtx)((function(){return[(0,s.renderSlot)(t.$slots,"dot",(0,s.normalizeProps)((0,s.guardReactiveProps)(n)))]})),tooltip:(0,s.withCtx)((function(){return[(0,s.renderSlot)(t.$slots,"tooltip",(0,s.normalizeProps)((0,s.guardReactiveProps)(n)))]})),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])})),128))],4),(0,s.renderSlot)(t.$slots,"default",{value:t.getValue()})],16)}var u=["aria-valuetext"],c={class:"vue-slider-dot-tooltip-text"};function d(t,e,n,i,r,o){var l;return(0,s.openBlock)(),(0,s.createElementBlock)("div",{ref:"dot",class:(0,s.normalizeClass)(t.dotClasses),"aria-valuetext":null===(l=t.tooltipValue)||void 0===l?void 0:l.toString(),onMousedownPassive:e[0]||(e[0]=function(){return t.dragStart&&t.dragStart.apply(t,arguments)}),onTouchstartPassive:e[1]||(e[1]=function(){return t.dragStart&&t.dragStart.apply(t,arguments)})},[(0,s.renderSlot)(t.$slots,"dot",{},(function(){return[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(t.handleClasses),style:(0,s.normalizeStyle)(t.dotStyle)},null,6)]})),"none"!==t.tooltip?((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:0,class:(0,s.normalizeClass)(t.tooltipClasses)},[(0,s.renderSlot)(t.$slots,"tooltip",{},(function(){return[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(t.tooltipInnerClasses),style:(0,s.normalizeStyle)(t.tooltipStyle)},[(0,s.createElementVNode)("span",c,(0,s.toDisplayString)(t.tooltipValue),1)],6)]}))],2)):(0,s.createCommentVNode)("",!0)],42,u)}i(466);var h=(0,s.defineComponent)({name:"VueSliderDot",emits:["drag-start"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(t){return["top","right","bottom","left"].indexOf(t)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":"hover"===this.tooltip||"active"===this.tooltip,"vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":default:return!1;case"focus":case"active":return!!this.focus}},tooltipValue:function(){return this.tooltipFormatter?"string"==typeof this.tooltipFormatter?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("drag-start")}}}),p=i(831),f=(0,p.Z)(h,[["render",d]]);function m(t,e,n,i,r,o){return(0,s.openBlock)(),(0,s.createElementBlock)("div",{class:(0,s.normalizeClass)(t.marksClasses)},[(0,s.renderSlot)(t.$slots,"step",{},(function(){return[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(t.stepClasses),style:(0,s.normalizeStyle)([t.stepStyle,t.mark.style||{},t.mark.active&&t.stepActiveStyle?t.stepActiveStyle:{},t.mark.active&&t.mark.activeStyle?t.mark.activeStyle:{}])},null,6)]})),t.hideLabel?(0,s.createCommentVNode)("",!0):(0,s.renderSlot)(t.$slots,"label",{key:0},(function(){return[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(t.labelClasses),style:(0,s.normalizeStyle)([t.labelStyle,t.mark.labelStyle||{},t.mark.active&&t.labelActiveStyle?t.labelActiveStyle:{},t.mark.active&&t.mark.labelActiveStyle?t.mark.labelActiveStyle:{}]),onClick:e[0]||(e[0]=function(){return t.labelClickHandle&&t.labelClickHandle.apply(t,arguments)})},(0,s.toDisplayString)(t.mark.label),7)]}))],2)}i(18);var v,g=(0,s.defineComponent)({name:"VueSliderMark",emits:["press-label"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object,default:function(){return{}}},stepActiveStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},labelActiveStyle:{type:Object,default:function(){return{}}}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(t){t.stopPropagation(),this.$emit("press-label",this.mark.pos)}}}),y=(0,p.Z)(g,[["render",m]]),b=function(t){return"number"==typeof t?"".concat(t,"px"):t},x=function(t){var e=document.documentElement,n=document.body,i=t.getBoundingClientRect();return{y:i.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||n.clientTop||0),x:i.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||n.clientLeft||0)}},w=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r="targetTouches"in t?t.targetTouches[0]:t,s=x(e),o={x:r.pageX-s.x,y:r.pageY-s.y};return{x:n?e.offsetWidth*i-o.x:o.x,y:n?e.offsetHeight*i-o.y:o.y}};!function(t){t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"}(v||(v={}));var k=function(t,e){if(e.hook){var n=e.hook(t);if("function"==typeof n)return n;if(!n)return null}switch(t.keyCode){case v.UP:return function(t){return"ttb"===e.direction?t-1:t+1};case v.RIGHT:return function(t){return"rtl"===e.direction?t-1:t+1};case v.DOWN:return function(t){return"ttb"===e.direction?t+1:t-1};case v.LEFT:return function(t){return"rtl"===e.direction?t+1:t-1};case v.END:return function(){return e.max};case v.HOME:return function(){return e.min};case v.PAGE_UP:return function(t){return t+10};case v.PAGE_DOWN:return function(t){return t-10};default:return null}};function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e,n){return e&&D(t.prototype,e),n&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T,A,C=function(){function t(e){S(this,t),_(this,"num",void 0),this.num=e}return E(t,[{key:"decimal",value:function(t,e){var n=this.num,i=this.getDecimalLen(n),r=this.getDecimalLen(t),s=0;switch(e){case"+":s=this.getExponent(i,r),this.num=(this.safeRoundUp(n,s)+this.safeRoundUp(t,s))/s;break;case"-":s=this.getExponent(i,r),this.num=(this.safeRoundUp(n,s)-this.safeRoundUp(t,s))/s;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(n,this.getExponent(i)),this.safeRoundUp(t,this.getExponent(r)))/this.getExponent(i+r);break;case"/":s=this.getExponent(i,r),this.num=this.safeRoundUp(n,s)/this.safeRoundUp(t,s);break;case"%":s=this.getExponent(i,r),this.num=this.safeRoundUp(n,s)%this.safeRoundUp(t,s)/s}return this}},{key:"plus",value:function(t){return this.decimal(t,"+")}},{key:"minus",value:function(t){return this.decimal(t,"-")}},{key:"multiply",value:function(t){return this.decimal(t,"*")}},{key:"divide",value:function(t){return this.decimal(t,"/")}},{key:"remainder",value:function(t){return this.decimal(t,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(t){var e="".concat(t).split("e");return("".concat(e[0]).split(".")[1]||"").length-(e[1]?+e[1]:0)}},{key:"getExponent",value:function(t,e){return Math.pow(10,void 0!==e?Math.max(t,e):t)}},{key:"safeRoundUp",value:function(t,e){return Math.round(t*e)}}]),t}();function P(t,e){return R(t)||O(t,e)||B(t,e)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);o=!0);}catch(a){l=!0,r=a}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return s}}function R(t){if(Array.isArray(t))return t}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t){return N(t)||j(t)||B(t)||z()}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function j(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function N(t){if(Array.isArray(t))return H(t)}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.VALUE=1]="VALUE",t[t.INTERVAL=2]="INTERVAL",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.ORDER=5]="ORDER"}(A||(A={}));var U=(X(T={},A.VALUE,'The type of the "value" is illegal'),X(T,A.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),X(T,A.MIN,'The "value" must be greater than or equal to the "min".'),X(T,A.MAX,'The "value" must be less than or equal to the "max".'),X(T,A.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),T),W=function(){function t(e){L(this,t),X(this,"dotsPos",[]),X(this,"dotsValue",[]),X(this,"data",void 0),X(this,"enableCross",void 0),X(this,"fixed",void 0),X(this,"max",void 0),X(this,"min",void 0),X(this,"interval",void 0),X(this,"minRange",void 0),X(this,"maxRange",void 0),X(this,"order",void 0),X(this,"marks",void 0),X(this,"included",void 0),X(this,"process",void 0),X(this,"adsorb",void 0),X(this,"dotOptions",void 0),X(this,"onError",void 0),X(this,"cacheRangeDir",{}),this.data=e.data,this.max=e.max,this.min=e.min,this.interval=e.interval,this.order=e.order,this.marks=e.marks,this.included=e.included,this.process=e.process,this.adsorb=e.adsorb,this.dotOptions=e.dotOptions,this.onError=e.onError,this.order?(this.minRange=e.minRange||0,this.maxRange=e.maxRange||0,this.enableCross=e.enableCross,this.fixed=e.fixed):((e.minRange||e.maxRange||!e.enableCross||e.fixed)&&this.emitError(A.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(e.value)}return I(t,[{key:"setValue",value:function(t){this.setDotsValue(Array.isArray(t)?F(t):[t],!0)}},{key:"setDotsValue",value:function(t,e){this.dotsValue=t,e&&this.syncDotsPos()}},{key:"setDotsPos",value:function(t){var e=this,n=this.order?F(t).sort((function(t,e){return t-e})):t;this.dotsPos=n,this.setDotsValue(n.map((function(t){return e.getValueByPos(t)})),this.adsorb)}},{key:"getValueByPos",value:function(t){var e=this.parsePos(t);if(this.included){var n=100;this.markList.forEach((function(i){var r=Math.abs(i.pos-t);r<n&&(n=r,e=i.value)}))}return e}},{key:"syncDotsPos",value:function(){var t=this;this.dotsPos=this.dotsValue.map((function(e){return t.parseValue(e)}))}},{key:"markList",get:function(){var t=this;if(!this.marks)return[];var e=function(e,n){var i=t.parseValue(e);return $({pos:i,value:e,label:e,active:t.isActiveByPos(i)},n)};return!0===this.marks?this.getValues().map((function(t){return e(t)})):"[object Object]"===Object.prototype.toString.call(this.marks)?Object.keys(this.marks).sort((function(t,e){return+t-+e})).map((function(n){var i=t.marks[n];return e(n,"string"!=typeof i?i:{label:i})})):Array.isArray(this.marks)?this.marks.map((function(t){return e(t)})):"function"==typeof this.marks?this.getValues().map((function(e){return{value:e,result:t.marks(e)}})).filter((function(t){return!!t.result})).map((function(t){var n=t.value,i=t.result;return e(n,i)})):[]}},{key:"getRecentDot",value:function(t){var e=this.dotsPos.map((function(e){return Math.abs(e-t)}));return e.indexOf(Math.min.apply(Math,F(e)))}},{key:"getIndexByValue",value:function(t){return this.data?this.data.indexOf(t):new C(+t).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(t){return t<0?t=0:t>this.total&&(t=this.total),this.data?this.data[t]:new C(t).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(t,e){var n=(t=this.getValidPos(t,e).pos)-this.dotsPos[e];if(n){var i=new Array(this.dotsPos.length);this.fixed?i=this.getFixedChangePosArr(n,e):this.minRange||this.maxRange?i=this.getLimitRangeChangePosArr(t,n,e):i[e]=n,this.setDotsPos(this.dotsPos.map((function(t,e){return t+(i[e]||0)})))}}},{key:"getFixedChangePosArr",value:function(t,e){var n=this;return this.dotsPos.forEach((function(i,r){if(r!==e){var s=n.getValidPos(i+t,r),o=s.pos;s.inRange||(t=Math.min(Math.abs(o-i),Math.abs(t))*(t<0?-1:1))}})),this.dotsPos.map((function(e){return t}))}},{key:"getLimitRangeChangePosArr",value:function(t,e,n){var i=this,r=[{index:n,changePos:e}],s=e;return[this.minRange,this.maxRange].forEach((function(o,l){if(!o)return!1;for(var a=0===l,u=e>0,c=0,d=function(t,e){var n=Math.abs(t-e);return a?n<i.minRangeDir:n>i.maxRangeDir},h=n+(c=a?u?1:-1:u?-1:1),p=i.dotsPos[h],f=t;i.isPos(p)&&d(p,f);){var m=i.getValidPos(p+s,h).pos;r.push({index:h,changePos:m-p}),h+=c,f=m,p=i.dotsPos[h]}})),this.dotsPos.map((function(t,e){var n=r.filter((function(t){return t.index===e}));return n.length?n[0].changePos:0}))}},{key:"isPos",value:function(t){return"number"==typeof t}},{key:"getValidPos",value:function(t,e){var n=this.valuePosRange[e],i=!0;return t<n[0]?(t=n[0],i=!1):t>n[1]&&(t=n[1],i=!1),{pos:t,inRange:i}}},{key:"parseValue",value:function(t){if(this.data)t=this.data.indexOf(t);else if("number"==typeof t||"string"==typeof t){if((t=+t)<this.min)return this.emitError(A.MIN),0;if(t>this.max)return this.emitError(A.MAX),0;if("number"!=typeof t||t!=t)return this.emitError(A.VALUE),0;t=new C(t).minus(this.min).divide(this.interval).toNumber()}var e=new C(t).multiply(this.gap).toNumber();return e<0?0:e>100?100:e}},{key:"parsePos",value:function(t){var e=Math.round(t/this.gap);return this.getValueByIndex(e)}},{key:"isActiveByPos",value:function(t){return this.processArray.some((function(e){var n=P(e,2),i=n[0],r=n[1];return t>=i&&t<=r}))}},{key:"getValues",value:function(){if(this.data)return this.data;for(var t=[],e=0;e<=this.total;e++)t.push(new C(e).multiply(this.interval).plus(this.min).toNumber());return t}},{key:"getRangeDir",value:function(t){return t?new C(t).divide(new C(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(t){this.onError&&this.onError(t,U[t])}},{key:"processArray",get:function(){if(this.process){if("function"==typeof this.process)return this.process(this.dotsPos);if(1===this.dotsPos.length)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,F(this.dotsPos)),Math.max.apply(Math,F(this.dotsPos))]]}return[]}},{key:"total",get:function(){var t=0;return(t=this.data?this.data.length-1:new C(this.max).minus(this.min).divide(this.interval).toNumber())-Math.floor(t)!=0?(this.emitError(A.INTERVAL),0):t}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(t,e,n){if(!this.dotOptions)return n;var i=Array.isArray(this.dotOptions)?this.dotOptions[t]:this.dotOptions;return i&&void 0!==i[e]?this.parseValue(i[e]):n}},{key:"valuePosRange",get:function(){var t=this,e=this.dotsPos,n=[];return e.forEach((function(i,r){n.push([Math.max(t.minRange?t.minRangeDir*r:0,t.enableCross?0:e[r-1]||0,t.getDotRange(r,"min",0)),Math.min(t.minRange?100-t.minRangeDir*(e.length-1-r):100,t.enableCross?100:e[r+1]||100,t.getDotRange(r,"max",100))])})),n}},{key:"dotsIndex",get:function(){var t=this;return this.dotsValue.map((function(e){return t.getIndexByValue(e)}))}}]),t}();function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=function(){function t(e){G(this,t),Z(this,"map",void 0),Z(this,"states",0),this.map=e}return q(t,[{key:"add",value:function(t){this.states|=t}},{key:"delete",value:function(t){this.states&=~t}},{key:"toggle",value:function(t){this.has(t)?this.delete(t):this.add(t)}},{key:"has",value:function(t){return!!(this.states&t)}}]),t}();function Q(t){return nt(t)||et(t)||ut(t)||tt()}function tt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function nt(t){if(Array.isArray(t))return ct(t)}function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lt(t,e){return ht(t)||dt(t,e)||ut(t,e)||at()}function at(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ut(t,e){if(t){if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dt(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);o=!0);}catch(a){l=!0,r=a}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return s}}function ht(t){if(Array.isArray(t))return t}i(631);var pt={None:0,Drag:2,Focus:4},ft=4,mt=(0,s.defineComponent)({name:"VueSlider",components:{VueSliderDot:f,VueSliderMark:y},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new J(pt),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(t){return["ltr","rtl","ttb","btt"].indexOf(t)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},data:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(t){return["none","always","focus","hover","active"].indexOf(t)>-1}},tooltipPlacement:{type:[String,Array],validator:function(t){return(Array.isArray(t)?t:[t]).every((function(t){return["top","right","bottom","left"].indexOf(t)>-1}))}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:Number},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return"ltr"===this.direction||"rtl"===this.direction},isReverse:function(){return"rtl"===this.direction||"btt"===this.direction},tailSize:function(){return b((this.isHorizontal?this.height:this.width)||ft)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var t=lt(Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],2),e=t[0],n=t[1],i=this.width?b(this.width):this.isHorizontal?"auto":b(ft),r=this.height?b(this.height):this.isHorizontal?b(ft):"auto";return{padding:this.contained?"".concat(n/2,"px ").concat(e/2,"px"):this.isHorizontal?"".concat(n/2,"px 0"):"0 ".concat(e/2,"px"),width:i,height:r}},processArray:function(){var t=this;return this.control.processArray.map((function(e,n){var i,r=lt(e,3),s=r[0],o=r[1],l=r[2];if(s>o){var a=[o,s];s=a[0],o=a[1]}var u=t.isHorizontal?"width":"height";return{start:s,end:o,index:n,style:st(st((i={},ot(i,t.isHorizontal?"height":"width","100%"),ot(i,t.isHorizontal?"top":"left",0),ot(i,t.mainDirection,"".concat(s,"%")),ot(i,u,"".concat(o-s,"%")),ot(i,"transitionProperty","".concat(u,",").concat(t.mainDirection)),ot(i,"transitionDuration","".concat(t.animateTime,"s")),i),t.processStyle),l)}}))},dotBaseStyle:function(){var t,e=lt(Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],2),n=e[0],i=e[1];return t=this.isHorizontal?ot({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},"ltr"===this.direction?"left":"right","0"):ot({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},"btt"===this.direction?"bottom":"top","0"),st({width:"".concat(n,"px"),height:"".concat(i,"px")},t)},mainDirection:function(){switch(this.direction){case"ltr":default:return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top"}},tooltipDirections:function(){var t=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(t)?t:this.dots.map((function(){return t}))},dots:function(){var t=this;return this.control.dotsPos.map((function(e,n){return st({pos:e,index:n,value:t.control.dotsValue[n],focus:t.states.has(pt.Focus)&&t.focusDotIndex===n,disabled:t.disabled,style:t.dotStyle},(Array.isArray(t.dotOptions)?t.dotOptions[n]:t.dotOptions)||{})}))},animateTime:function(){return this.states.has(pt.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var t=this;return this.isObjectArrayData(this.data)?this.data.map((function(e){return e[t.dataValue]})):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var t=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(e){var n={label:e};return t.data.some((function(i){return i[t.dataValue]===e&&(n.label=i[t.dataLabel],!0)})),n}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var t=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(e){var n=""+e;return t.data.some((function(i){return i[t.dataValue]===e&&(n=i[t.dataLabel],!0)})),n};if(this.isObjectData(this.data)){var e=this.data;return function(t){return e[t]}}},isNotSync:function(){var t=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==t.length||this.modelValue.some((function(e,n){return e!==t[n]})):this.modelValue!==t[0]},dragRange:function(){var t=this.dots[this.focusDotIndex-1],e=this.dots[this.focusDotIndex+1];return[t?t.pos:-1/0,e?e.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(pt.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)},isObjectArrayData:function(t){return!!t&&Array.isArray(t)&&t.length>0&&"object"===it(t[0])},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new C(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).multiply(this.zoom||1).divide(100).toNumber()},initControl:function(){var t=this;this.control=new W({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach((function(e){t.$watch(e,(function(n){if("data"===e&&Array.isArray(t.control.data)&&Array.isArray(n)&&t.control.data.length===n.length&&n.every((function(e,n){return e===t.control.data[n]})))return!1;switch(e){case"data":case"dataLabel":case"dataValue":t.control.data=t.sliderData;break;case"mark":t.control.marks=t.sliderMarks;break;default:t.control[e]=n}["data","max","min","interval"].indexOf(e)>-1&&t.control.syncDotsPos()}))}))},syncValueByPos:function(){var t=this.control.dotsValue;if(this.isDiff(t,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var e=1===t.length?t[0]:Q(t);this.$emit("change",e,this.focusDotIndex),this.$emit("update:modelValue",e)}},isDiff:function(t,e){return t.length!==e.length||t.some((function(t,n){return t!==e[n]}))},emitError:function(t,e){this.silent||console.error("[VueSlider error]: ".concat(e)),this.$emit("error",t,e)},dragStartOnProcess:function(t){if(this.dragOnClick){this.setScale();var e=this.getPosByEvent(t),n=this.control.getRecentDot(e);if(this.dots[n].disabled)return;this.dragStart(n),this.control.setDotPos(e,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(t){this.focusDotIndex=t,this.setScale(),this.states.add(pt.Drag),this.states.add(pt.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(t){if(!this.states.has(pt.Drag))return!1;t.preventDefault();var e=this.getPosByEvent(t);this.isCrossDot(e),this.control.setDotPos(e,this.focusDotIndex),this.lazy||this.syncValueByPos();var n=this.control.dotsValue;this.$emit("dragging",1===n.length?n[0]:Q(n),this.focusDotIndex)},isCrossDot:function(t){if(this.canSort){var e=this.focusDotIndex,n=t;if(n>this.dragRange[1]?(n=this.dragRange[1],this.focusDotIndex++):n<this.dragRange[0]&&(n=this.dragRange[0],this.focusDotIndex--),e!==this.focusDotIndex){var i=this.$refs["dot-".concat(this.focusDotIndex)];i&&i.$el&&i.$el.focus(),this.control.setDotPos(n,e)}}},dragEnd:function(t){var e=this;if(!this.states.has(pt.Drag))return!1;setTimeout((function(){e.lazy&&e.syncValueByPos(),e.included&&e.isNotSync?e.control.setValue(e.modelValue):e.control.syncDotsPos(),e.states.delete(pt.Drag),e.useKeyboard&&!("targetTouches"in t)||e.states.delete(pt.Focus),e.$emit("drag-end",e.focusDotIndex)}))},blurHandle:function(t){if(!this.states.has(pt.Focus)||!this.$refs.container||this.$refs.container.contains(t.target))return!1;this.states.delete(pt.Focus)},clickHandle:function(t){if(!this.clickable||this.disabled)return!1;if(!this.states.has(pt.Drag)){this.setScale();var e=this.getPosByEvent(t);this.setValueByPos(e)}},focus:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.disabled||(this.states.add(pt.Focus),this.focusDotIndex=e)},blur:function(){this.states.delete(pt.Focus)},getValue:function(){var t=this.control.dotsValue;return 1===t.length?t[0]:t},getIndex:function(){var t=this.control.dotsIndex;return 1===t.length?t[0]:t},setValue:function(t){this.control.setValue(Array.isArray(t)?Q(t):[t]),this.syncValueByPos()},setIndex:function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return e.control.getValueByIndex(t)})):this.control.getValueByIndex(t);this.setValue(n)},setValueByPos:function(t){var e=this,n=this.control.getRecentDot(t);if(this.disabled||this.dots[n].disabled)return!1;this.focusDotIndex=n,this.control.setDotPos(t,n),this.syncValueByPos(),this.useKeyboard&&this.states.add(pt.Focus),setTimeout((function(){e.included&&e.isNotSync?e.control.setValue(e.modelValue):e.control.syncDotsPos()}))},keydownHandle:function(t){var e=this;if(!this.useKeyboard||!this.states.has(pt.Focus))return!1;var n=this.included&&this.marks,i=k(t,{direction:this.direction,max:n?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(i){t.preventDefault();var r=-1,s=0;n?(this.control.markList.some((function(t,n){return t.value===e.control.dotsValue[e.focusDotIndex]&&(r=i(n),!0)})),r<0?r=0:r>this.control.markList.length-1&&(r=this.control.markList.length-1),s=this.control.markList[r].pos):(r=i(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),s=this.control.parseValue(this.control.getValueByIndex(r))),this.isCrossDot(s),this.control.setDotPos(s,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(t){return w(t,this.$el,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(t,e,n){var i=this.$slots[t];return i?i(e):n}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}}),vt=(0,p.Z)(mt,[["render",a]]);vt.VueSliderMark=y,vt.VueSliderDot=f;var gt=vt}(),r=r.default}())}(lo);const uo=Ge(lo.exports);var co=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),ho="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,po="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),fo="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(po):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},mo=["top","right","bottom","left","width","height","size","weight"],vo="undefined"!=typeof MutationObserver,go=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&l()}function o(){fo(s)}function l(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,e);r=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){ho&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){ho&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;mo.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yo=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},bo=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||po},xo=_o(0,0,0,0);function wo(t){return parseFloat(t)||0}function ko(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+wo(t["border-"+n+"-width"])}),0)}function So(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return xo;var i=bo(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],s=t["padding-"+r];e[r]=wo(s)}return e}(i),s=r.left+r.right,o=r.top+r.bottom,l=wo(i.width),a=wo(i.height);if("border-box"===i.boxSizing&&(Math.round(l+s)!==e&&(l-=ko(i,"left","right")+s),Math.round(a+o)!==n&&(a-=ko(i,"top","bottom")+o)),!function(t){return t===bo(t).document.documentElement}(t)){var u=Math.round(l+s)-e,c=Math.round(a+o)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(c)&&(a-=c)}return _o(r.left,r.top,l,a)}var Do="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof bo(t).SVGGraphicsElement}:function(t){return t instanceof bo(t).SVGElement&&"function"==typeof t.getBBox};function Eo(t){return ho?Do(t)?function(t){var e=t.getBBox();return _o(0,0,e.width,e.height)}(t):So(t):xo}function _o(t,e,n,i){return{x:t,y:e,width:n,height:i}}var To=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_o(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Eo(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Ao=function(t,e){var n=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return yo(o,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),o}(e);yo(this,{target:t,contentRect:n})},Co=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new co,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new To(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Ao(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Po="undefined"!=typeof WeakMap?new WeakMap:new co,Mo=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=go.getInstance(),i=new Co(e,n,this);Po.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){Mo.prototype[t]=function(){var e;return(e=Po.get(this))[t].apply(e,arguments)}}));var Oo=void 0!==po.ResizeObserver?po.ResizeObserver:Mo;function Ro(t){let e,n,i,r,s,o,l=t.factor||.75;function a(t,e,n,i,r,s){return t>i?(e=r,n=s):e<r?(e=r,n=r+t):n>s&&(n=s,e=s-t),[e,n]}return{hooks:{ready:u=>{e=u.scales.x.min,n=u.scales.x.max,i=u.scales.y.min,r=u.scales.y.max,s=n-e,o=r-i;let c=u.over;c.addEventListener("wheel",(d=>{let h=c.getBoundingClientRect();if(!d.ctrlKey&&!d.shiftKey)return;d.preventDefault();let{left:p,top:f}=u.cursor;if(d.altKey){if(t.monitor)return;let e,n,s=1-f/h.height,c=u.posToVal(f,"y"),p=u.scales.y.max-u.scales.y.min,m=d.deltaY<0||d.deltaX<0?p*l:p/l,v=c-s*m,g=v+m;g-v<.5&&d.ctrlKey&&(d.deltaY<0||d.deltaX<0)&&(v=u.posToVal(0,"y"),g=v+.5),[v,g]=a(m,v,g,o,i,r),d.deltaY<0||d.deltaX<0?(e=u.posToVal(0,"y")-p*l*.1,n=e+p):(n=u.posToVal(u.over.clientHeight,"y")+p*l*.1,e=n-p),d.ctrlKey?u.batch((()=>{u.setScale("y",{min:+v.toFixed(3),max:+g.toFixed(3)})})):d.shiftKey&&(e<i?(n+=i-e,e=i):n>r&&(n=r,e=n-p),u.batch((()=>{u.setScale("y",{min:+e.toFixed(3),max:+n.toFixed(3)})})))}else{let t,i,r=p/h.width,o=u.posToVal(p,"x"),c=u.scales.x.max-u.scales.x.min,f=d.deltaY<0||d.deltaX<0?c*l:c/l,m=o-r*f,v=m+f;v-m<.5&&d.ctrlKey&&(d.deltaY<0||d.deltaX<0)&&(m=u.posToVal(0,"x"),v=m+.5),[m,v]=a(f,m,v,s,e,n),d.deltaY<0||d.deltaX<0?(t=u.posToVal(0,"x")-c*l*.1,i=t+c):(i=u.posToVal(u.over.clientWidth,"x")+c*l*.1,t=i-c),d.ctrlKey?u.batch((()=>{u.setScale("x",{min:+m.toFixed(3),max:+v.toFixed(3)})})):d.shiftKey&&(t<e?(i+=e-t,t=e):i>n&&(i=n,t=i-c),u.batch((()=>{u.setScale("x",{min:+t.toFixed(3),max:+i.toFixed(3)})})))}}),{passive:!1})}},destroy:t=>{}}}const Vo=(t,e)=>{const n=t.length;if(e>=n||0===e)return t;if(1===e)return[[t[0][0],t[0][1]]];const i=[];let r,s,o=0,l=(n-2)/(e-2),a=0,u=0,c=[];i[o++]=t[a];for(let h=0;h<e-2;h++){let e=0,d=0,p=Math.floor((h+1)*l)+1,f=Math.floor((h+2)*l)+1;f>n&&(f=n);let m=f-p;p>f&&p++,p<f&&(e+=t[p][0],d+=t[p][1]),e/=m,d/=m;let v=Math.floor((h+0)*l)+1,g=Math.floor((h+1)*l)+1,y=t[a][0],b=t[a][1];for(s=-1,r=-1;v<g;)r=.5*Math.abs((y-e)*(t[v][1]-b)-(y-t[v][0])*(d-b)),r>s&&(s=r,c=t[v],u=v),v++;i[o++]=c,a=u}if(i[o++]=t[n-1],i.length!==e)return[];const d=[];for(let h in i)d[h]=[i[h][0],i[h][1]];return c=null,d};function $o(t){let e=t.length,n=-1/0,i=1/0;if(0===e)return[0,1];if(1===e)return[t[0]-1,t[0]+1];for(;e--;)null===t[e]||void 0===t[e]||(n=t[e]>n?t[e]:n,i=t[e]<i?t[e]:i);return i<Number.MIN_SAFE_INTEGER||i>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||n>Number.MAX_SAFE_INTEGER?[0,0]:(i===n&&(i--,n++),[i,n])}function Fo(t){return+t.toFixed(3)}const zo="2-digit";function Bo(t){return new Date(1e3*t).toLocaleString("zh-Hans-CN",{year:"numeric",month:zo,day:zo,hour:zo,minute:zo,second:zo,fractionalSecondDigits:3,hourCycle:"h23",timeZone:"Asia/Shanghai"})}function jo(t,e){return new Date(1e3*t).toLocaleString("zh-Hans-CN",{hour:zo,minute:zo,second:zo,fractionalSecondDigits:e,hourCycle:"h23",timeZone:"Asia/Shanghai"})}function No(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ho={exports:{}};!function(t){function e(t,e,n){for(var r,s,o=t.length-1,l=0;o>=l;)if((s=n(t[r=i(l,o)],e,r))<0)l=r+1;else{if(!(s>0))return r;o=r-1}return-1}function n(t,e,n,i,s){for(var o,l,a={},u=0,c=t.length-1,d=t.length;u<c&&(l=n(t[o=r(u,c,a)],e,o),i?l>0?c=o-1:u=o:l<0?u=o+1:c=o,--d););if(c==u&&0===n(t[u],e))return u;if(s){var h=n(t[u],e);return u==t.length-1&&h<0?u:0==u&&h>0?0:s?i?u+1:u-1:-1}return-1}function i(t,e){return t+Math.floor((e-t)/2)}function r(t,e,n){var i=t+Math.floor((e-t)/2);return n[i]&&(i=t+Math.ceil((e-t)/2)),n[i]=1,i}t.exports=function(n,i,r){return n&&void 0!==n.length?(r||(r=t.exports._defaultComparitor()),e(n,i,r)):-1},t.exports.first=function(e,n,i){return t.exports.closest(e,n,{exists:!0},i)},t.exports.last=function(e,n,i){return t.exports.closest(e,n,{exists:!0,end:!0},i)},t.exports.closest=function(t,e,i,r){if("function"==typeof i&&(r=i,i={}),0===t.length)return-1;if(1===t.length)return 0;i=i||{},r||(r=this._defaultComparitor());var s=n(t,e,r,i.end,!i.exists);return s>t.length-1?s=t.length-1:s<0&&(s=0),s},t.exports.insert=function(e,n,i,r){if("function"==typeof i&&(r=i,i={}),i=i||{},r||(r=t.exports._defaultComparitor()),!e.length)return e[0]=n,0;var s=t.exports.closest(e,n,r),o=r(e[s],n);if(o<0)e.splice(++s,0,n);else if(o>0)e.splice(s,0,n);else if(i.unique)e[s]=n;else{for(;0===r(e[s],n)&&!(s>=e.length-1);)s++;e.splice(s,0,n)}return s},t.exports.range=function(e,n,i,r){r||(r=t.exports._defaultComparitor());for(var s=t.exports.closest(e,n,r),o=t.exports.closest(e,i,{end:!0},r);s<=o&&!(r(e[s],n)>-1);)s++;for(;o>=s&&!(r(e[o],i)<1);)o--;return[s,o]},t.exports.rangeValue=function(e,n,i,r){var s=t.exports.range(e,n,i,r);return e.slice(s[0],s[1]+1)},t.exports.indexObject=function(t,e){var n=[];return Object.keys(t).forEach((function(i){n.push({k:i,v:e(t[i])})})),n.sort((function(t,e){return t.v-e.v}))},t.exports.cmp=function(t,e){return t-e},t.exports._defaultComparitor=function(){var t,e,n;return function(i,r){return void 0===t&&("object"==typeof i&&i.hasOwnProperty("v")&&(t=!0),"object"==typeof r&&r.hasOwnProperty("v")&&(e=!0)),t&&(i=i.v),e&&(r=r.v),void 0===n&&(n=!1,("string"==typeof r||"string"==typeof i)&&(n=!0)),n&&(i+=""),i>r?1:i<r?-1:0}},t.exports._binarySearch=e,t.exports._binarySearchClosest=n}(Ho);const Lo=No(Ho.exports);function Yo(t,e){return Lo.closest(t,e,{end:!0})}function Io(t,e,n){let i,r,s,o,l,a,u=0,c=!1,d=!1,h=!0;const p=!e&&0!==e&&"function"==typeof requestAnimationFrame;function f(e){const n=i,s=r;return i=r=void 0,u=e,o=t.apply(s,n),o}function m(t,e){return p?(cancelAnimationFrame(l),requestAnimationFrame(t)):setTimeout(t,e)}function v(t){const n=t-a;return void 0===a||n>=e||n<0||d&&t-u>=s}function g(){const t=Date.now();if(v(t))return y(t);l=m(g,function(t){const n=t-u,i=e-(t-a);return d?Math.min(i,s-n):i}(t))}function y(t){return l=void 0,h&&i?f(t):(i=r=void 0,o)}function b(...t){const n=Date.now(),s=v(n);if(i=t,r=this,a=n,s){if(void 0===l)return function(t){return u=t,l=m(g,e),c?f(t):o}(a);if(d)return l=m(g,e),f(a)}return void 0===l&&(l=m(g,e)),o}return e=+e||0,n&&(c=!!n.leading,d="maxWait"in n,s=d?Math.max(+n.maxWait||0,e):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==l&&function(t){if(p)return cancelAnimationFrame(t);clearTimeout(t)}(l),u=0,i=a=r=l=void 0},b.flush=function(){return void 0===l?o:y(Date.now())},b.pending=function(){return void 0!==l},b}const Xo=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Uo=["mac","ipad","iphone","windows","android","linux",""].find((t=>!!window.navigator.userAgent.match(new RegExp(t,"i")))),Wo=2500,Go={name:"EvTimeplot",props:{initAreas:{type:Array,default:[]},initDots:{type:Array,default:[]},timeFilter:{type:String,default:"absolute"},timeData:{type:Array,default:[]},fileType:{type:String,default:"blf"},mode:{type:String,default:"single"},showDotsFrame:{type:Boolean,default:!1},startTime:{type:Number,default:0},showExport:{type:Boolean,default:!0},showSlider:{type:Boolean,default:!0},spanGaps:{type:Boolean,default:!0},monitor:{type:Boolean,default:!1},path:{type:String,default:"stepped"},fill:{type:Boolean,default:!1},showEnum:{type:Boolean,default:!1},showAreaFrame:{type:Boolean,default:!0},showClickFrame:{type:Boolean,default:!0},exportTypeOptions:{type:Array},exportCycleOptions:{type:Array},theme:{type:Object,default:{colorPrimary:"#EC7F00"}},exportCycleValue:{type:String,default:""},exportTypeValue:{type:String,default:""}},emits:["exportAreaData","exportDotsData","update:showDotsFrame","selectArea","clickDot","update:exportCycleValue","update:exportTypeValue"],components:{VueSlider:uo},errorCaptured:(t,e,n)=>!1,data(){return{system:Uo,dbl:!1,potFrameCopySuccess:!1,potFrameDescArr:[],potCounter:0,tt:{dataTitle:"",dataList:[],mode:"dot",start:0,end:0,exportType:"csv",exportCycle:"",display:!1,dX:0,dY:0,copySuccess:!1,down:{clientX:0,clientY:0}},selectAreasDisplay:!1,curAreaName:"",rid:Object.freeze([...Math.random().toString().slice(2,7)].map((t=>String.fromCharCode(100+parseInt(t)))).join("")),us:Object.freeze([]),lastScale:"",resizeBlock:Object.freeze(0),onScaleBlock:!1,onSliderBlock:!1,displaySelect:!1,data:[],selectPots:[],selectAreas:[],observer:null,sliderY:{range:[0,1],series:[]},slider:{range:[0,0],tooltipFormatter:t=>"absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(t-this.$props.startTime):jo(t,3)},scaleFired:0,updateMode:{t1:"START",t2:"END"},filterData:[],filterDataSorted:[],filterArr:[],pressMouse:!1,pressShift:!1,selecting:!1,clientX:0,clientY:0}},computed:{potFrameDescVal(){return 2===this.potFrameDescArr.length?Fo(Math.abs(this.potFrameDescArr[0].val-this.potFrameDescArr[1].val)):""},valueRangesY(){if(this.filterData.length<1)return[0,0];let t,e,n=20;return"single"==this.$props.mode?(t=Math.min(...this.filterData.map((t=>t.min)).slice(0,-1)),e=Math.max(...this.filterData.map((t=>t.max)).slice(0,-1))):(t=Math.min(...this.filterData.map((t=>t.min)).slice(0,-1).filter((t=>t!==1/0&&t!==-1/0))),e=Math.max(...this.filterData.map((t=>t.max)).slice(0,-1).filter((t=>t!==1/0&&t!==-1/0)))),"bars"===this.$props.path?(n=t,[+(t-n).toFixed(3),+(e+n).toFixed(3)]):(e>t&&(n=(e-t)/16),[+(t-n).toFixed(3),+(e+n).toFixed(3)])},valueRanges(){let t=this.filterData;if(this.slider.range[0]===this.slider.range[1])return[this.slider.range[0],this.slider.range[0]+1];if(t.length){let e=t[t.length-1].t;return 0===e.length?[this.$props.startTime,this.$props.startTime+1]:1===e.length?[e[0],e[0]+1]:[e[0],e[e.length-1]]}return[this.$props.startTime,this.$props.startTime+1]},selectPotsDataTable(){if(0===this.selectPots.length)return[];const t=this.selectPots.sort(((t,e)=>t.value-e.value)).map((t=>{const e=this.calcPotItem(t.value);return e[0]?(e.unshift(e.pop()),e[0].value=t?t.value:"--",e):[]}));return Array.from({length:t[0].length},((e,n)=>{const i=t.map((t=>t[n].value));return i.unshift(t[0][n].label),i}))},ttExportCycle(){return this.tt.exportCycle},ttExportType(){return this.tt.exportType}},watch:{exportTypeValue(t){this.tt.exportType=t},exportCycleValue(t){this.tt.exportCycle=t},ttExportCycle(t){this.$emit("update:exportCycleValue",t)},ttExportValue(){this.$emit("update:exportTypeValue",v)},showDotsFrame(t){t||(this.potFrameDescArr=[])},timeData:{handler(t,e){let n=[],i=new Set;for(let u=0;u<t.length;u++){const e={...t[u]};[e.min,e.max]=$o(e.v),e.min===e.max?this.sliderY.series[u]={min:e.min-1,max:e.max+1,dirty:!1}:this.sliderY.series[u]={min:e.min,max:e.max,dirty:!1},n.push(e);for(let t=e.t.length-1;t>=0;t--)i.add(e.t[t])}const r=Array.from(i);i=null,this.sliderY.series.length=t.length;let s=Math.min(...n.map((t=>t.min))),o=Math.max(...n.map((t=>t.max)));n.length<1&&(this.sliderY.range=[0,0]),this.sliderY.range=(()=>{let t=20;return"bars"===this.$props.path?(t=s,[+(s-t).toFixed(3),+(o+t).toFixed(3)]):(o>s&&(t=(o-s)/16),[+(s-t).toFixed(3),+(o+t).toFixed(3)])})(),r.sort(((t,e)=>t-e)),n.push({name:"Time",color:"#00000000",t:r,v:r}),this.filterDataSorted=Object.freeze(n.slice(0,-1).map((t=>{const e=t.t,n=Array.from({length:t.t.length},((t,n)=>[e[n],n])).sort(((t,e)=>t[0]-e[0]));return{t:n.map((t=>t[0])),i:n.map((t=>t[1]))}}))),this.filterArr=Object.freeze(n.slice(0,-1).map((t=>{const e=t.t,n=t.v;return Array.from({length:t.t.length},((t,i)=>[e[i],n[i]]))}))),this.filterData=Object.freeze(n),s=this.slider.range[0],o=this.slider.range[1];let l=o-s,a=(e||[]).map((t=>null==t?void 0:t.name)).join()===t.map((t=>null==t?void 0:t.name)).join();if(!this.$options._block)if(a&&this.$props.monitor){let t=!1;switch(this.updateMode.t1){case"START":s=this.valueRanges[0];break;case"END-DT":t=!0,s=this.valueRanges[1]-l}"END"===this.updateMode.t2&&(t=!0,o=this.valueRanges[1]),t&&(this._unmounted(),this.$nextTick((()=>{this._mounted(),this.slider.range[0]=s,this.slider.range[1]=o})))}else this._unmounted(),this.$nextTick((()=>{this._mounted()}))},deep:!0,immediate:!0},showSlider(){this.resizeHandler()},mode:{handler(t){let{t1:e,t2:n}=this.updateMode;this.us.forEach(((e,n)=>{e.batch((()=>{e.cursor.drag.y="same"===t,e.axes[1].grid.show="single"==t,e.setScale("x",{min:this.slider.range[0],max:this.slider.range[1]})}))})),this.$nextTick((()=>{this.resizeHandler(),setTimeout((()=>{this.updateMode={t1:e,t2:n}}),50)}))}},tt:{handler(t){t&&(t.exportCycle=+this.$props.exportCycleValue||"")}},spanGaps(){this._unmounted(),this.$nextTick((()=>{this._mounted()}))},timeFilter(){let{t1:t,t2:e}=this.updateMode;this._unmounted(),this.$nextTick((()=>{this._mounted(),setTimeout((()=>{this.updateMode={t1:t,t2:e}}),50)}))},path(){let{t1:t,t2:e}=this.updateMode;this._unmounted(),this.$nextTick((()=>{this._mounted(),setTimeout((()=>{this.updateMode={t1:t,t2:e}}),50)}))},fill(){this._unmounted(),this.$nextTick((()=>{this._mounted()}))},showEnum(){this._unmounted(),this.$nextTick((()=>{this._mounted()}))},monitor(t){t&&(this.updateMode={t1:"START",t2:"END"})}},mounted(){this._mounted()},beforeUnmount(){this.slider.tooltipFormatter=void 0,this.filterDataSorted=[],this.filterArr=[],this.filterData=[],this._unmounted()},methods:{onChangeAxisY(t,e,n){let i=+Number(n).toFixed(3),r=this.sliderY.series[t];if(isNaN(i))return void(r[e]=r[e]);if(r["min"===e?"max":"min"]===i)return void(r[e]=r[e]);r[e]=i,r.min>r.max&&([r.min,r.max]=[r.max,r.min]),r.dirty=!0;const s=this.us[t];s.batch((()=>{s.setScale("y",{min:r.min,max:r.max})}))},screenshot(){let t=[...this.$el.querySelectorAll(".et-view-er canvas")],e=t[t.length-1].getBoundingClientRect(),n=0,i=0,r=[];for(let a=0;a<t.length;a++){const s=t[a];r.push(s.getBoundingClientRect()),n=Math.max(n,r[a].width+r[a].x-e.x),i=Math.max(i,r[a].height+r[a].y-e.y)}const s=document.createElement("canvas");s.width=n,s.height=i;const o=s.getContext("2d");o.fillStyle="white",o.fillRect(0,0,n,i);for(let a=0;a<t.length;a++){"single"!=this.$props.mode&&a<t.length-1&&o.clearRect(0,0,70,i);const n=t[a];o.drawImage(n,r[a].x-e.x,r[a].y-e.y,r[a].width,r[a].height)}t=null;const l=document.createElement("a");l.href=s.toDataURL("image/png"),l.download="screenshot.png",document.body.appendChild(l),l.click(),document.body.removeChild(l)},onExportDots(){let t=this.selectPotsDataTable.map(((t,e)=>t.map(((t,n)=>0===e&&0===n?"信号/时间":t))));this.$emit("exportDotsData",t)},dblClickHandler(t){t.stopPropagation(),t.preventDefault(),this.dbl=!0,this.slider.range=this.valueRanges.slice(),this.updateMode={t1:"START",t2:"END"},setTimeout((()=>{this.dbl=!1}),400)},onCopyPots(){navigator.clipboard.writeText(this.selectPotsDataTable.map((t=>t.join("\t"))).join("\n").replace(/^[^\t]+\t/,"信号/时间\t")),this.potFrameCopySuccess=!0,window._potsCopyTextTimer=setTimeout((()=>{this.potFrameCopySuccess=!1}),1e3)},onResetPots(){this.$emit("update:showDotsFrame",!1),this.selectPots=[],this.resizeHandler()},onClickPotFrameSquare(t){2===this.potFrameDescArr.length?this.potFrameDescArr=[]:this.potFrameDescArr.push({col:t,val:this.selectPotsDataTable[0][t]})},date2Str(t){return"absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(t-this.$props.startTime):jo(t,3)},calcPotItem(t){return this.us.map(((e,n,i)=>{const r=e.series[1].label,s=e.cursor.points.stroke(e,1);let o=e.series[1].value(e,e.data[1][e.cursor.idxs[1]]);if(n!==i.length-1){let i=null,r=this.filterData[n].cycle||1e3,s=this.filterData[n].t,l=this.filterData[n].v;if("bars"===this.$props.path){let e=1/0;for(let n=s.length;n>=0;n--){let o=Math.abs(t-s[n]);o<=r/1e3&&o<e&&(e=o,i=l[n])}}else for(let e=s.length;e>=0;e--)if(t>=s[e]&&(!r||t-s[e]<=1.5*r/1e3)&&null!==l[e]){i=l[e];break}r=s=l=null,o=e.series[1].value(e,i)}return null==o&&(o="--"),{color:s,label:r,value:o}}))},mouseDownHandler(t){this.tt.display=!1,this.$props.monitor&&(this.updateMode={t1:"PREV",t2:"PREV"})},overClickHandler:function(t,e,n){let i=!0,r=!0;return n&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Io(t,e,{leading:i,trailing:r,maxWait:e})}((function(t){if(!this.dbl){if(t.target&&"um-pot-close"===t.target.className){const[e,n]=t.target.dataset.uid.split("-");switch(e){case"a":this.selectAreas=this.selectAreas.filter((t=>t.name!==n));break;case"p":this.selectPots.splice(+n,1)}return this.updateMode={t1:"END-DT",t2:"END"},void this.resizeHandler()}if(t.altKey||t.ctrlKey)if(t.altKey){const t=this.us[this.us.length-1];let e=t.posToVal(t.cursor.left,"x");e=Fo(e),this.selectPots.push({name:String.fromCharCode(65+this.potCounter%26),color:"#666666",value:e}),this.potCounter++,this.resizeHandler()}else this.us[this.us.length-1].over.querySelector(".um-tooltips").style.display="none",this.tt.display&&(this.tt.display=!1,this.tt.ding=!1,this.updateMode={t1:"END-DT",t2:"END"});else{if(this.selectAreasDisplay=!1,t.shiftKey||(this.selectAreas=this.selectAreas.filter((t=>!/^a/.test(t.name))),this.resizeHandler()),window._overClickTimer)return clearTimeout(window._overClickTimer),void(window._overClickTimer=0);const e=this.us[this.us.length-1];let n=e.cursor.left,i=e.posToVal(n,"x");i=Fo(i);let r,s,o=t.clientX,l=t.clientY;t.shiftKey?(r=this.calcTable(t.start,t.end,"start"!==t.eventType),r.unshift({}),s="absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(t.end-t.start)+`秒 │ ${Fo(t.start-this.$props.startTime)} ~ ${Fo(t.end-this.$props.startTime)}`:Fo(t.end-t.start)+`秒 │ ${Bo(t.start)} ~ ${Bo(t.end)}`):(r=this.calcPotItem(i).filter((t=>"--"!=t.value)),r.unshift(r.pop()),s="bar"===this.$props.path?i:r[0].value),r=r.slice(1),this.$emit("update:showDotsFrame",!1),this.tt={...this.tt,dataTitle:s,dataList:r,mode:t.shiftKey?"area":"dot",start:t.shiftKey?t.start:i,end:t.end,exportType:this.$props.exportTypeValue,exportCycle:+this.$props.exportCycleValue||"",display:t.shiftKey?!1!==this.$props.showAreaFrame:!1!==this.$props.showClickFrame,dX:this.tt.ding||t.shiftKey&&!o&&!l?this.tt.dX:o-20,dY:this.tt.ding||t.shiftKey&&!o&&!l?this.tt.dY:l,copySuccess:!1,ding:this.tt.ding},this.$emit(t.shiftKey?"selectArea":"clickDot",{mode:this.tt.mode,dataList:r,start:this.tt.start,end:this.tt.end}),t.shiftKey&&(n=-1),setTimeout((()=>{const t=this.us[this.us.length-1];t.over.querySelector(".um-tooltip-line").style.left=n+"px",t.over.querySelector(".um-tooltips").style.display="block"}),50)}}}),500),winClickHandler(t){const e=this.us[this.us.length-1];e&&0==e.root.contains(t.target)&&"um-area"!==t.target.className&&(e.root.querySelector(".um-tooltips").style.display="none",this.tt.display&&(this.tt.display=!1,this.tt.ding=!1,this.updateMode={t1:"END-DT",t2:"END"}))},headMoveHandler(t){t.stopPropagation(),t.preventDefault(),this.tt.dX+=t.clientX-this.tt.down.clientX,this.tt.dY+=t.clientY-this.tt.down.clientY,this.tt.down.clientX=t.clientX,this.tt.down.clientY=t.clientY},headUpHandler(t){this.tt.ding=!0,this.tt.dX+=t.clientX-this.tt.down.clientX,this.tt.dY+=t.clientY-this.tt.down.clientY,this.tt.down.clientX=t.clientX,this.tt.down.clientY=t.clientY,window.removeEventListener("mousemove",this.headMoveHandler),window.removeEventListener("mouseup",this.headUpHandler)},headDownHandler(t){this.tt.down.clientX=t.clientX,this.tt.down.clientY=t.clientY,window.addEventListener("mousemove",this.headMoveHandler),window.addEventListener("mouseup",this.headUpHandler)},headCloseHandler(){this.tt.display=!1,this.tt.ding=!1,this.updateMode={t1:"END-DT",t2:"END"}},headCopyHandler(t){navigator.clipboard.writeText(this.tt.dataTitle+"\n"+t.parentElement.nextElementSibling.innerText),this.tt.copySuccess=!0,window._chartCopyTextTimer=setTimeout((()=>{this.tt.copySuccess=!1}),1e3)},_mounted(){if(this.$options._block)return;if(this.$options._block=!0,this.$props.initAreas&&this.$props.initAreas.length&&this.selectAreas.push(...this.$props.initAreas),this.$props.initDots&&this.$props.initDots.length&&this.selectPots.push(...this.$props.initDots),!this.slider.range[0]&&!this.slider.range[1]){const t=this.filterData[this.filterData.length-1].t;0===t.length?this.slider.range=[this.$props.startTime,this.$props.startTime+1]:1===t.length?this.slider.range=[t[0],t[0]+1]:this.slider.range=[t[0],t[t.length-1]]}this.$props.monitor||(this.us=Object.freeze([]));const t=t=>{let e=t.over.querySelector(".um-areas");e||(e=document.createElement("div"),e.className="um-areas",t.over.appendChild(e));const n=this.selectAreas.map(((e,n)=>{let i=t.valToPos(Math.min(e.value[0],e.value[1]),"x"),r=t.valToPos(Math.max(e.value[0],e.value[1]),"x"),s=Math.abs(r-i),o=Fo(Math.abs(e.value[0]-e.value[1]));return"absolute"!==this.$props.timeFilter&&this.$props.startTime?(Fo(e.value[0]-this.$props.startTime),Fo(e.value[1]-this.$props.startTime)):(jo(e.value[0]),jo(e.value[1])),`<div class="um-area" style="color:${e.color};background-color:${e.color}32;left:${i}px;width:${s}px"><div class="um-area-pot left"><div class="um-pot-label"><span>${o}秒</span><span class="um-pot-close" data-uid="a-${e.name}"></span></div></div><div class="um-area-pot right"></div></div>`})).join("");e.innerHTML=n},e=e=>{if(!this.selecting&&e.shiftKey){this.pressMouse=!0,this.pressShift=!0,this.selecting=Math.random().toString().replace(/\d\./,"a"),e.preventDefault(),e.stopPropagation();let n=this.us[this.us.length-1],i={key:this.selecting,xVal:n.posToVal(e.clientX-n.over.getBoundingClientRect().left,"x"),clientX:e.clientX,clientY:e.clientY};this.updateMode={t1:"PREV",t2:"PREV"},this.selectAreas=this.selectAreas.filter((t=>!/^a/.test(t.name))).concat({name:i.key,key:i.key,color:this.$props.theme.colorPrimary,value:[i.xVal,i.xVal]}),t(n),this.curAreaName=i.key,this.tt.ding=!1,this.overClickHandler({shiftKey:!0,start:i.xVal,end:i.xVal,clientX:i.clientX,clientY:i.clientY,eventType:"start"}),i=n=null}},n=e=>{if(this.pressMouse=!1,this.selecting&&!this.pressShift){e.preventDefault(),e.stopPropagation();let n=this.us[this.us.length-1],i={key:this.selecting,xVal:n.posToVal(e.clientX-n.over.getBoundingClientRect().left,"x"),clientX:this.clientX,clientY:this.clientY},r=this.selectAreas.find((t=>t.name===i.key));r&&(r.value[1]=i.xVal,r.value[0]>r.value[1]&&(r.value=[r.value[1],r.value[0]]),t(n),this.overClickHandler({shiftKey:!0,start:r.value[0],end:r.value[1],clientX:0,clientY:0,eventType:"end"})),this.selecting=!1,r=i=n=null}},i=e=>{if("Shift"===e.key&&(this.pressShift=!1,this.selecting&&!this.pressMouse)){e.preventDefault(),e.stopPropagation();let n=this.us[this.us.length-1],i={key:this.electing,xVal:n.posToVal(this.clientX-n.over.getBoundingClientRect().left,"x"),clientX:this.clientX,clientY:this.clientY},r=this.selectAreas.find((t=>t.name===i.key));r&&(r.value[1]=i.xVal,r.value[0]>r.value[1]&&(r.value=[r.value[1],r.value[0]]),t(n),this.overClickHandler({shiftKey:!0,start:r.value[0],end:r.value[1],clientX:0,clientY:0,eventType:"end"})),this.selecting=!1}},r=e=>{let n=this.us[this.us.length-1];if(this.selecting&&n.cursor.left>0){this.clientX=e.clientX,this.clientY=e.clientY;let i={key:this.selecting,xVal:n.posToVal(e.clientX-n.over.getBoundingClientRect().left,"x"),clientX:this.clientX,clientY:this.clientY},r=this.selectAreas.find((t=>t.name===i.key));if(r){r.value[1]=i.xVal,t(n);const[e,s]=[r.value[0],r.value[1]].sort();this.overClickHandler({shiftKey:!0,start:e,end:s,clientX:0,clientY:0,eventType:"move"})}}};for(let s=0;s<this.filterData.length;s++){let o=null,l=this.filterData[s];const a=s===this.filterData.length-1;let u,c;if(u={title:"",legend:{isolate:!0},destroy:t=>{let s=t.over.previousElementSibling;"canvas"==(null==s?void 0:s.tagName)&&(s.width=0,s.height=0,s.remove(),s=null),a&&(t.over.removeEventListener("click",this.overClickHandler),t.over.removeEventListener("dblclick",this.dblClickHandler),t.over.removeEventListener("mousedown",this.mouseDownHandler),t.over.removeEventListener("mousedown",e,{capture:!0}),t.over.removeEventListener("mousemove",r,{capture:!0}),window.removeEventListener("mouseup",n,{capture:!0}),window.removeEventListener("keyup",i,{capture:!0}),t.cursor.dataIdx=null,this.observer.disconnect())},hooks:{ready:a?[t=>{t.setScale("x",{min:this.slider.range[0],max:this.slider.range[1]}),this.resizeHandler();const s=document.createElement("div");s.className="um-tooltips",s.innerHTML='<div class="um-tooltip-line"></div>',s.style.display="none",t.over.appendChild(s),t.over.addEventListener("click",this.overClickHandler),t.over.addEventListener("dblclick",this.dblClickHandler),t.over.addEventListener("mousedown",this.mouseDownHandler),t.over.addEventListener("mousedown",e,{capture:!0}),t.over.addEventListener("mousemove",r,{capture:!0}),window.addEventListener("mouseup",n,{capture:!0}),window.addEventListener("keyup",i,{capture:!0}),this.observer=new Oo(this.resizeHandler),this.observer.observe(this.$el,{box:"border-box"})}]:[],setCursor:a?[t=>{let e=t.cursor.left;this.us.slice(0,-1).forEach((t=>{t.setCursor({left:e})}))}]:[],drawAxes:a?[e=>{{let t=e.over.querySelector(".um-pots");t||(t=document.createElement("div"),t.className="um-pots",e.over.appendChild(t));const n=this.selectPots.map(((t,n)=>{const i=e.valToPos(t.value,"x");let r;return r="absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(t.value-this.$props.startTime):jo(t.value),`<div class="um-pot" data-name="${t.name}" style="color:${t.color};left:${i}px"><div class="um-pot-label"><span>${t.name}&nbsp;${r}</span><span class="um-pot-close" data-uid="p-${n}"></span></div></div>`})).join("");t.innerHTML=n}t(e);{const t=e.over.querySelector(".um-tooltips");t&&(t.style.display="none",t.addEventListener("click",(t=>t.stopPropagation())))}}]:[],setScale:a?[(t,e)=>{this.onScale(t.scales.x.min,t.scales.x.max,t.scales.y.min,t.scales.y.max,e,"setScale")}]:[],setData:a?[]:[t=>{const e=parseInt(t.root.id.replace(/[^\d]/g,"")),n=t.root.querySelector(".u-legend");n&&(t.data[0].length===this.filterData[e].t.length?n.dataset.simple="":n.dataset.simple="true")}]},id:"chart"+this.rid+"-"+s,class:"tch-chart-main",fmtNum:new Intl.NumberFormat(navigator.language,{style:"decimal",maximumFractionDigits:3}).format,fmtDate:t=>(t=t.replace(/\{aa\}/gi,"").replace("h","H").replace("{M}/{D}/{YY}","{YYYY}/{MM}/{DD}").replace("{YYYY}/{MM}/{DD} {H}:{mm}","{H}:{mm}\n{YYYY}/{MM}/{DD}"),oo.fmtDate(t)),width:500,height:20,cursor:{y:!1,x:a,drag:{x:!0,y:"same"===this.$props.mode,dist:20,uni:50},dataIdx:a||"bars"===this.$props.path?(t,e,n,i)=>n:(t,e,n,i)=>{const r=Yo(this.filterDataSorted[s].t,i);return i-this.filterDataSorted[s].t[r]<.0015*(l.cycle||1/0)?(t._data[0][n]>i&&(n-=1),n):-1},points:"bars"===this.$props.path?void 0:{width:2,size:6,stroke:(t,e)=>t.series[e].points._stroke,fill:"#fff"}},padding:[6,10,5,null],plugins:a?[Ro({factor:.9,monitor:!!this.$props.monitor})]:[],scales:{x:{time:!0},y:a?{range:()=>this.valueRangesY}:{range:(t,e,n)=>{if("same"===this.$props.mode)return this.valueRangesY;{if(this.sliderY.series[s].dirty)return[e=this.sliderY.series[s].min,n=this.sliderY.series[s].max];e=l.min;let t=((n=l.max)-e)/16;return t||(t="single"===this.$props.mode?1:22,"shifted"!==this.$props.mode)?"bars"===this.$props.path?(t=e,[e-t,n+t]):[e-t,n+t]:[e-t-s,n+t-s]}}}},axes:[{show:a,grid:{show:!1,stroke:"rgba(0,0,0,0.1)",width:1/devicePixelRatio,dash:[4]},border:{show:!0,stroke:"#666",width:1},ticks:{show:!0,stroke:"#666",width:1,size:4},values:"absolute"!==this.$props.timeFilter&&this.$props.startTime?(t,e,n)=>e.map((t=>Fo(t-this.$props.startTime))):void 0},{show:!0,size:70,space:10,grid:{show:"single"===this.$props.mode,stroke:()=>a&&"same"!==this.$props.mode?"#00000000":"rgba(0,0,0,0.1)",width:1/devicePixelRatio,dash:[4]},values:(t,e,n)=>e.map((t=>{let e=""+t;if(this.$props.showEnum&&l.enums&&Object.keys(l.enums).length){if(!l.enums[e])return"";e=l.enums[e],e=/[^\x00-\xff]/.test(e)&&e.length>5?e.slice(0,4)+"…":e.length>6?e.slice(0,5)+"…":e}else e=e.length>6?e.slice(0,5)+"…":e;return(""+(e||"")).replace("undefined","").replace("null","").replace("NaN","")})),border:{show:!1,stroke:"#666",width:1},ticks:{show:!1,stroke:"rgba(0,0,0,0.1)",width:1,size:4},stroke:()=>a&&"same"!==this.$props.mode?"#00000000":"#333"}],series:[{value:(t,e,n)=>null===e?"--":"absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(e-this.$props.startTime):Bo(e)},{spanGaps:this.$props.spanGaps,stroke:a?l.color:l.color+"80",fill:a?void 0:this.$props.fill?l.color+"80":void 0,label:l.name,value:a?(t,e,n)=>null===e?"--":"absolute"!==this.$props.timeFilter&&this.$props.startTime?Fo(e-this.$props.startTime):Bo(e):(t,e,n)=>null===e?"--":l.enums&&l.enums[e]&&l.enums[e]||e,width:1.4,paths:{stepped:oo.paths.stepped({align:1,ascDesc:!0}),linear:oo.paths.linear(),spline:oo.paths.spline(),bars:oo.paths.bars()}[this.$props.path||"stepped"],points:{show:"bars"!==this.$props.path&&!a,width:0,size:a?0:2.8,space:a?void 0:0,stroke:l.color,fill:l.color}}]},this.filterData.length-1===s)c=[l.t,l.v];else{const t=Vo(this.filterArr[s],Wo),e={length:t.length};c=[Array.from(e,((e,n)=>t[n][0])),Array.from(e,((e,n)=>t[n][1]))]}if(this.us.length===this.filterData.length&&this.$props.monitor){let[t,e]=u.scales.y.range();this.us[s].setData(c),this.$nextTick((()=>this.us[s].setScale("y",{min:t,max:e,range:null})))}else o=new oo(u,c,document.getElementById("chart"+this.rid+"-"+s)),this.us=Object.freeze([...this.us,o])}this.$nextTick((()=>{this.$options._block=!1})),window.addEventListener("click",this.winClickHandler)},_unmounted(){cancelAnimationFrame(this.resizeBlock),clearTimeout(this.onSliderBlock),clearTimeout(window._overClickTimer),clearTimeout(window._chartCopyTextTimer),this.selectAreasDisplay=!1,this.selectAreas=[],this.scaleFired=0,this.resizeBlock=0,this.onScaleBlock=!1,this.onSliderBlock=!1,this.us.forEach((t=>{t.destroy&&t.destroy(),t=null})),this.us=[],window.removeEventListener("click",this.winClickHandler)},resizeHandler(){let t=this.resizeBlock;t&&cancelAnimationFrame(t),t=requestAnimationFrame((()=>{let e=[];this.$el.querySelectorAll(".tch-view").forEach((t=>{e.push(t.getBoundingClientRect())})),this.us.forEach(((t,n)=>{t.batch((()=>{let i=t.over.previousElementSibling;if("canvas"==(null==i?void 0:i.tagName)){i.width=1,i.height=1;const t=canvas.getContext("2d");t&&t.clearRect(0,0,1,1),i.width=0,i.height=0,i.remove(),i=null}t.setSize(e[n])})),t.root.querySelectorAll(".u-marker").forEach((t=>{t.style.borderColor=t.style.borderColor.replace("0.5","1")}))})),requestAnimationFrame((()=>{t=0,this.resizeBlock=Object.freeze(t)}))})),this.resizeBlock=Object.freeze(t)},onSliderXChange([t,e]){const n=this.valueRanges[0],i=this.valueRanges[1];this.updateMode=e===i?t===n?{t1:"START",t2:"END"}:{t1:"END-DT",t2:"END"}:t===n?{t1:"START",t2:"PREV"}:{t1:"PREV",t2:"PREV"},t===e&&(t-=.001),this.slider.range=[t,e],!this.onSliderBlock&&(clearTimeout(this.onSliderBlock),this.onSliderBlock=setTimeout((()=>{let n=this.filterData[this.filterData.length-1].t;const i=(e-t)/(n[n.length-1]-n[0]);n=null,this.us.forEach(((n,r)=>{n.batch((()=>{if(this.us.length-1!==r){let t=this.filterData[r];if(t.t.length*i<500)n.setData([t.t,t.v]);else{let t=this.filterArr[r];t=Vo(t,parseInt(Wo/i)),n.setData([Array.from({length:t.length},((e,n)=>t[n][0])),Array.from({length:t.length},((e,n)=>t[n][1]))])}}n.setScale("x",{min:t,max:e})}))}))}),0))},onSliderYChange([t,e]){this.us.forEach(((n,i)=>{n.batch((()=>{n.setScale("y",{min:t,max:e})}))}))},onScale(t,e,n,i,r,s){let o=t+"_"+e+"_"+n+"_"+i;3!=this.scaleFired&&(this.scaleFired=this.scaleFired+("x"===r?1:2),t=this.slider.range[0],e=this.slider.range[1],n=this.sliderY.range[0],i=this.sliderY.range[1],o=t+"_"+e+"_"+n+"_"+i),this.lastScale=o,this.onScaleBlock=!0,this.onSliderBlock=this.onSliderBlock||!0;let l=this.filterData[this.filterData.length-1].t;const a=(e-t)/(l[l.length-1]-l[0]);l=null,this.us.forEach(((s,o)=>{if(this.us.length-1===o)return;let l=this.filterData[o];const u=Vo(this.filterArr[o],parseInt(Wo/a)),c={length:u.length};s.batch((()=>{l.t.length*a<500?(s.setData([l.t,l.v]),l=null):s.setData([Array.from(c,((t,e)=>u[e][0])),Array.from(c,((t,e)=>u[e][1]))]),"y"===r?("single"!==this.$props.mode&&s.setScale("y",{min:n,max:i}),s.setScale("x",{min:this.slider.range[0],max:this.slider.range[1]})):"x"===r&&(s.setScale("x",{min:t,max:e}),"same"===this.$props.mode?s.setScale("y",{min:this.sliderY.range[0],max:this.sliderY.range[1]}):s.setScale("y",{min:this.sliderY.series[o].min,max:this.sliderY.series[o].max}))}))})),this.onSliderBlock=!0,"y"===r?this.sliderY.range=[n,i]:"x"===r&&(this.slider.range=[t,e]),this.$nextTick((()=>{this.onSliderBlock=!1,this.onScaleBlock=!1}))},onExportArea(t,e){t.stopPropagation();const n=this.selectAreas.findIndex((t=>t.name===this.curAreaName)),i=this.tt.exportType;"mdf"!==this.$props.fileType?(e.startTime=this.selectAreas[n].value[0],e.endTime=this.selectAreas[n].value[1],e.type=i,e.resampleRate=this.tt.exportCycle,this.$emit("exportAreaData",e)):(e.startTime=this.selectAreas[n].value[0],e.endTime=this.selectAreas[n].value[1],e.type=i,e.resampleRate="",this.$emit("exportAreaData",e))},calcTable(t,e,n){return t&&e?this.timeData.map((i=>{const r=~i.t.findIndex((e=>e>=t)),s=i.t.findIndex((e=>e>=t)),o=~i.t.slice().reverse().findIndex((t=>t<=e)),l=i.t.length-1-i.t.slice().reverse().findIndex((t=>t<=e)),a=r&&o?l-s+1:0;let u=i.v[s],c=i.v[l],d=1/0,h=-1/0,p=0;return a>0?n?({min:d,max:h,avg:p}=function(t,e,n){let i=0,r=1/0,s=-1/0;for(let o=e,l=1;o<=n;o++,l++){let e=+(t[o]||0).toFixed(3);i+=(e-i)/l,r=Math.min(r,e),s=Math.max(s,e)}return{avg:Math.round(1e3*i)/1e3,min:r,max:s}}(i.v,s,l)):(d="-",h="-",p="-"):(d="-",h="-",p="-",u="-",c="-"),{label:i.name,color:i.color,count:a,min:d,max:h,avg:p,startVal:u,endVal:c}})):void 0}}},Ko=["data-group"],qo=["data-axis-hide"],Zo=["id"],Jo={key:0,class:"tch-slider-x"},Qo={key:1,class:"tch-slider-y"},tl={key:2,class:"et-axis-y"},el=C("div",{class:"et-axis-y-head"},null,-1),nl={class:"et-axis-y-body"},il={class:"et-axis-item-label"},rl=["value","onChange"],sl=C("span",null,"Max",-1),ol={class:"et-axis-item-label"},ll=["value","onChange"],al=C("span",null,"Min",-1),ul=C("div",{class:"et-axis-y-foot"},null,-1),cl=["data-success"],dl={class:"um-tooltip-table"},hl=C("tr",null,[C("th",null,"信号"),C("th",{class:"num"},"计数"),C("th",{class:"num"},"最小值"),C("th",{class:"num"},"最大值"),C("th",{class:"num"},"平均值"),C("th",{class:"num"},"起始值"),C("th",{class:"num"},"结束值")],-1),pl={class:"num"},fl={class:"num"},ml={class:"num"},vl={class:"num"},gl={class:"num"},yl={class:"num"},bl={class:"num"},xl={key:0,class:"um-tooltip-footer"},wl={class:"um-tooltip-selecter"},kl=["value"],Sl={key:0,value:"blf"},Dl={key:1,value:"mdf"},El=C("option",{value:"csv"},"csv(*.csv)",-1),_l=C("option",{value:"mat"},"mat(*.mat)",-1),Tl=["value"],Al=["disabled"],Cl=[$('<option value="">默认</option><option value="0.01">10ms</option><option value="0.02">20ms</option><option value="0.05">50ms</option><option value="0.1">100ms</option><option value="0.2">200ms</option><option value="0.5">500ms</option>',7)],Pl={key:3,class:"et-pot-frame-er"},Ml={class:"et-pot-frame-head"},Ol=[C("i",{class:"et-icon-reset"},null,-1)],Rl={class:"et-pot-frame-result"},Vl={key:0},$l={key:1,class:"placeholder"},Fl={key:0,class:"et-pot-frame-table"},zl={key:0,style:{}},Bl=["data-active","onClick"],jl={key:0},Nl=["colspan"],Hl={key:1},Ll={class:"et-pot-frame-empty"};t("W",Xo(Go,[["render",function(t,e,n,i,r,s){const l=Zt("vue-slider");return Bt(),A("div",{class:"et-er",style:Dt("--color-primary:"+t.$props.theme.colorPrimary+";--color-bg:"+t.$props.theme.colorPrimary+"20")},[C("div",{class:"et-main","data-group":n.mode},[(Bt(!0),A(o,null,Kt(r.filterData,((t,e)=>(Bt(),A("div",{class:"et-view-er",key:e,"data-axis-hide":0==t.safe},[C("div",{class:"tch-view",id:"chart"+r.rid+"-"+e},null,8,Zo)],8,qo)))),128))],8,Ko),t.$props.showSlider?(Bt(),A("div",Jo,[null!==s.valueRanges[0]&&void 0!==s.valueRanges[0]&&r.slider.range[0]<r.slider.range[1]?(Bt(),_(l,{key:0,tooltip:"always","tooltip-placement":["top","bottom"],min:s.valueRanges[0],interval:.001,max:s.valueRanges[1],modelValue:r.slider.range,onChange:s.onSliderXChange,height:14,dotSize:18,lazy:!0,"tooltip-formatter":r.slider.tooltipFormatter,clickable:!1,adsorb:!0,"enable-cross":!1},null,8,["min","max","modelValue","onChange","tooltip-formatter"])):T("",!0)])):T("",!0),t.$props.showSlider&&!t.$props.monitor&&"same"===t.$props.mode?(Bt(),A("div",Qo,[null!==s.valueRangesY[0]&&void 0!==s.valueRangesY[0]&&r.slider.range[0]<r.slider.range[1]?(Bt(),_(l,{key:0,direction:"btt",tooltip:"always","tooltip-placement":["top","bottom"],min:s.valueRangesY[0],interval:.001,max:s.valueRangesY[1],modelValue:r.sliderY.range,onChange:s.onSliderYChange,height:"calc(100%)",width:14,dotSize:18,lazy:!0,clickable:!1,adsorb:!0,"enable-cross":!1},null,8,["min","max","modelValue","onChange","height"])):T("",!0)])):T("",!0),"single"!==t.$props.mode||t.$props.monitor?T("",!0):(Bt(),A("div",tl,[el,C("div",nl,[(Bt(!0),A(o,null,Kt(r.sliderY.series,((t,e)=>(Bt(),A("div",{class:"et-axis-item",key:r.rid+"-"+e},[C("label",il,[C("input",{type:"number",class:"et-axis-item-input",value:t.max,onChange:t=>s.onChangeAxisY(e,"max",t.target.value)},null,40,rl),sl]),C("label",ol,[C("input",{type:"number",class:"et-axis-item-input",value:t.min,onChange:t=>s.onChangeAxisY(e,"min",t.target.value)},null,40,ll),al])])))),128))]),ul])),Ye(C("div",{class:"um-tooltip",style:Dt(`transform:translate3d(${r.tt.dX}px,${r.tt.dY}px,0) translateX(-100%) translateY(-30px)`),onClick:e[8]||(e[8]=Ue((()=>{}),["stop"]))},[C("div",{class:"um-tooltip-head",onMousedown:e[2]||(e[2]=Ue(((...t)=>s.headDownHandler&&s.headDownHandler(...t)),["stop","prevent"]))},[F(de(r.tt.dataTitle)+" ",1),C("div",{title:"复制",class:"tooltip-btn-copy",onMousedown:e[0]||(e[0]=Ue(((...t)=>s.headCopyHandler&&s.headCopyHandler(...t)),["prevent","stop"])),"data-success":r.tt.copySuccess},null,40,cl),C("div",{title:"关闭",class:"tooltip-btn-close",onMousedown:e[1]||(e[1]=Ue(((...t)=>s.headCloseHandler&&s.headCloseHandler(...t)),["prevent","stop"]))},null,32)],32),C("table",dl,["area"===r.tt.mode?(Bt(),A(o,{key:0},[hl,(Bt(!0),A(o,null,Kt(r.tt.dataList,(t=>(Bt(),A("tr",null,[C("td",null,[C("span",{class:"tt-node-icon",style:Dt(`color:${t.color}`)},null,4),F(" "+de(t.label),1)]),C("td",pl,de(t.count),1),C("td",fl,de(t.min),1),C("td",ml,de(t.max),1),C("td",vl,de(t.avg),1),C("td",gl,de(t.startVal),1),C("td",yl,de(t.endVal),1)])))),256))],64)):T("",!0),"dot"===r.tt.mode?(Bt(!0),A(o,{key:1},Kt(r.tt.dataList,(t=>(Bt(),A("tr",null,[C("td",null,[C("span",{class:"tt-node-icon",style:Dt(`color:${t.color}`)},null,4),F(de(t.label),1)]),C("td",bl,de(t.value),1)])))),256)):T("",!0)]),"area"===r.tt.mode&&t.$props.showExport?(Bt(),A("div",xl,[C("div",wl,[C("div",null,[F("导出类型： "),t.$props.exportTypeOptions?Ye((Bt(),A("select",{key:0,"onUpdate:modelValue":e[3]||(e[3]=t=>r.tt.exportType=t)},[(Bt(!0),A(o,null,Kt(t.$props.exportTypeOptions,((t,e)=>(Bt(),A("option",{key:e,value:t.value},de(t.label),9,kl)))),128))],512)),[[Me,r.tt.exportType]]):Ye((Bt(),A("select",{key:1,"onUpdate:modelValue":e[4]||(e[4]=t=>r.tt.exportType=t)},["blf"===t.$props.fileType?(Bt(),A("option",Sl,"blf(*.blf)")):T("",!0),"blf"===t.$props.fileType?(Bt(),A("option",Dl,"mdf(*.mf4)")):T("",!0),El,_l],512)),[[Me,r.tt.exportType]])]),F("   "),C("div",null,[F("采样周期： "),t.$props.exportCycleOptions?Ye((Bt(),A("select",{key:0,"onUpdate:modelValue":e[5]||(e[5]=t=>r.tt.exportCycle=t)},[(Bt(!0),A(o,null,Kt(t.$props.exportCycleOptions,((t,e)=>(Bt(),A("option",{key:e,value:null===t.value?"":""+t.value},de(t.label),9,Tl)))),128))],512)),[[Me,r.tt.exportCycle]]):Ye((Bt(),A("select",{key:1,"onUpdate:modelValue":e[6]||(e[6]=t=>r.tt.exportCycle=t),disabled:"mdf"===t.$props.fileType||"blf"===t.$props.fileType&&"blf"===r.tt.exportType},Cl,8,Al)),[[Me,r.tt.exportCycle]])])]),C("div",{class:"tooltip-btn-export",onClick:e[7]||(e[7]=Ue((t=>s.onExportArea(t,{start:r.tt.start,end:r.tt.end})),["stop"]))}," 导出 ")])):T("",!0)],4),[[Re,r.tt.display]]),t.$props.showDotsFrame?(Bt(),A("div",Pl,[C("div",Ml,[F(" 打点 "),C("div",{class:"et-pot-frame-close",onClick:e[9]||(e[9]=Ue((e=>t.$emit("update:showDotsFrame",!t.$props.showDotsFrame)),["stop","prevent"]))}),C("div",{class:"et-pot-frame-btn-reset",title:"重置打点",onClick:e[10]||(e[10]=Ue(((...t)=>s.onResetPots&&s.onResetPots(...t)),["stop"]))},Ol),C("div",Rl,[s.potFrameDescVal?(Bt(),A("span",Vl,"时间差："+de(s.potFrameDescVal)+"秒",1)):(Bt(),A("span",$l," 点击表头时间计算差值"))])]),s.selectPotsDataTable.length?(Bt(),A("div",Fl,[C("table",null,[C("tr",null,[(Bt(!0),A(o,null,Kt(s.selectPotsDataTable[0],((t,e)=>(Bt(),A("th",null,[0===e?(Bt(),A("b",zl,"信号/时间")):(Bt(),A("b",{key:1,class:"et-pot-frame-square","data-active":r.potFrameDescArr[0]&&r.potFrameDescArr[0].col===e||r.potFrameDescArr[1]&&r.potFrameDescArr[1].col===e,onClick:Ue((t=>s.onClickPotFrameSquare(e)),["stop"])},de(s.date2Str(t))+"（"+de(r.selectPots[e-1].name)+"）",9,Bl))])))),256))]),(Bt(!0),A(o,null,Kt(s.selectPotsDataTable,((t,e)=>(Bt(),A(o,null,[0!==e?(Bt(),A("tr",jl,[(Bt(!0),A(o,null,Kt(t,(t=>(Bt(),A("td",null,de(t),1)))),256))])):T("",!0)],64)))),256))]),C("div",{class:"et-pot-frame-footer",colspan:s.selectPotsDataTable[0].length},[C("div",{class:"et-pot-frame-btn-export",onClick:e[11]||(e[11]=Ue(((...t)=>s.onExportDots&&s.onExportDots(...t)),["stop"]))},"导出")],8,Nl)])):(Bt(),A("div",Hl,[C("div",Ll,[F(" 使用"),C("span",null,de("mac"===r.system?"option":"alt")+"+左键",1),F("添加时间点 ")])]))])):T("",!0)],4)}]]))}}}));
